// <--WARNING--> THIS FILE IS AUTO-GENERATED BY THE FRAMEWORK-TOOLBOX AND WILL BE OVERWRITTEN
import { type Category } from "@/utils/GenericFrameworkTypes";
import { ${frameworkBaseNameInCamelCase?cap_first}Data } from "@clients/backend";
<#list uploadConfig as element><@cats element/></#list><#macro subcats items>
<#list items as element><@loopSubcats element/></#list>
</#macro><#macro loop items><#list items as element><@loopOptions element/></#list></#macro>
<#macro cats categoryConfig><@subcats categoryConfig.children/></#macro>
<#macro loopSubcats subcategoryConfig><#if subcategoryConfig.children??><@loop subcategoryConfig.children/></#if></#macro>
<#macro loopOptions fieldConfig><#if fieldConfig.frameworkUploadOptions?? && fieldConfig.frameworkUploadOptions.imports??><#list fieldConfig.frameworkUploadOptions.imports?sequence as imp>
${imp};
</#list></#if></#macro>

export const ${frameworkBaseNameInCamelCase}DataModel = [<@loopCategories uploadConfig/>] as Category[];

<#macro loopCategories items>
    <@indent>
        <#list items as element><@uploadConfigCategory element/>
        </#list>
    </@indent>
</#macro>
<#macro loopSubcategories items>
    <@indent>
        <#list items as element><@uploadConfigSubcategory element/>
        </#list>
    </@indent>
</#macro>
<#macro loopFields items>
    <@indent>
        <#list items as element><@uploadConfigCell element/>
        </#list>
    </@indent>
</#macro>
<#macro uploadConfigCategory categoryConfig>{
    name: "${categoryConfig.name?js_string}",
    label: "${categoryConfig.label?js_string}",
    color: "<#if categoryConfig.labelBadgeColor??>${categoryConfig.labelBadgeColor.value?js_string}</#if>",
    showIf: <@frameworklambda categoryConfig.shouldDisplay/>,
    subcategories: [<@loopSubcategories categoryConfig.children/>],
    },
</#macro>
<#macro uploadConfigSubcategory subcategoryConfig>{
    name: "${subcategoryConfig.name?js_string}",
    label: "${subcategoryConfig.label?js_string}",
    fields: [
    <#if subcategoryConfig.children??> <@loopFields subcategoryConfig.children/> </#if>
    ],
    },
</#macro>
<#macro uploadConfigCell fieldConfig>{
    name: "${fieldConfig.name?js_string}",
    label: "${fieldConfig.label?js_string}",
    <#if fieldConfig.explanation??>description: "${fieldConfig.explanation?js_string}",</#if>
    <#if fieldConfig.frameworkUploadOptions??>options: ${fieldConfig.frameworkUploadOptions.body},</#if>
    <#if fieldConfig.unit??>unit: "${fieldConfig.unit?js_string}",</#if>
    component: "${fieldConfig.uploadComponentName?js_string}",
    required: ${fieldConfig.required?c},
    showIf: <@frameworklambda fieldConfig.shouldDisplay/>,
    <#if fieldConfig.required>validation: "required<#if fieldConfig.validation??>|${fieldConfig.validation}</#if>",
    <#else><#if fieldConfig.validation??>validation: "${fieldConfig.validation}",</#if></#if>
    },
</#macro>
<#macro frameworklambda lambda>(<#if lambda.usesDataset>dataset: ${frameworkBaseNameInCamelCase?cap_first}Data</#if>):${lambda.returnParameter} => ${lambda.lambdaBody}</#macro>
