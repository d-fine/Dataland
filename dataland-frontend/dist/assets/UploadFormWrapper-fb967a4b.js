import{T as Jt,a as Xt}from"./TheHeader-f0aa2367.js";import{A as B,a as Zt}from"./ApiClients-491035fa.js";import{d as C,a3 as T,_ as D,r as c,o as s,n as F,e as $,s as V,c as u,f as o,w as y,a as i,J as L,U as te,F as S,t as A,v as w,j as I,a4 as en,X as k,W as Pt,Y as he,a0 as Q,a1 as tn,I as Xe,x as O,a2 as M,a5 as nn,h as X,a6 as $e,a7 as an,R as Ne,a8 as on,y as Re,a9 as It,u as ne,i as ye,q as le,p as rn,g as sn,T as ln,aa as dn,N as cn,H as re}from"./index-17bd392c.js";import{s as ge}from"./card.esm-ab7d22cc.js";import{d as ae,U as E,c as be,o as _e,a as At,b as un,u as pn,e as mn}from"./ValidationsUtils-176dbe3e.js";import{s as fn}from"./fileupload.esm-f05f6f07.js";import{f as hn,r as yn}from"./NumberConversionUtils-eff754a5.js";import{A as ve,S as Fe,F as Ce}from"./FailMessage-4807c686.js";import{a as gn}from"./DatalandSettings-e91c35b0.js";import{s as W}from"./calendar.esm-3b88e815.js";import{s as wt,n as Ee,a as bn,f as vn,g as U,D as K,c as Fn,l as Cn,p as Dn,A as Z}from"./P2pDataModel-672f5117.js";import{a as Sn,s as Ze}from"./multiselect.esm-33d78041.js";import{s as kt}from"./index.esm-fe6eeb6c.js";import{s as Pn}from"./virtualscroller.esm-2abd6d6c.js";import{s as In}from"./index.esm-1a2ee9c0.js";import{s as An}from"./inputtext.esm-03a7b169.js";import{T as qe}from"./tooltip.esm-60532e01.js";import{g as Oe}from"./DataFormatUtils-7a776811.js";import{g as wn}from"./CountryCodeConverter-4eb888e2.js";import{h as ee}from"./StringHumanizer-b303955c.js";import{C as kn}from"./CompanyInformation-2a2f3400.js";import{T as En}from"./TheFooter-46e8b4f5.js";import{B as Tn}from"./BackButton-d912ea90.js";import{A as $n}from"./AuthorizationWrapper-d03af5ae.js";import"./index.esm-d48fd520.js";import"./message.esm-92211e8a.js";import"./index.esm-363b09da.js";import"./index.esm-0d3974a7.js";const G={CreditInstitution:"CreditInstitution",InsuranceOrReinsurance:"InsuranceOrReinsurance",AssetManagement:"AssetManagement",InvestmentFirm:"InvestmentFirm"},de={Audited:"Audited",Reported:"Reported",Estimated:"Estimated",Incomplete:"Incomplete",Na:"NA"},R={name:{type:String,required:!0},description:{type:String,default:""},label:{type:String,default:""},validation:{type:String,default:""},validationLabel:{type:String},required:{type:Boolean,default:!1},innerClass:{type:String,default:"short"}},et=Object.assign(ae(R),{certificateRequiredIfYes:{type:Boolean,default:!1},evidenceDesired:{type:Boolean,default:!1},unit:{type:String}}),x=Object.assign(ae(R),{placeholder:{type:String,default:""}}),Nn=Object.assign(ae(x),{todayAsMax:{type:Boolean,default:!1}}),Me=Object.assign(ae(x),{options:{type:Array,required:!0}}),On=Object.assign(ae(x),{options:{type:Object,required:!0}}),Et=Object.assign(ae(x),{options:{type:Array,required:!0},optionValue:{type:[String,Function],required:!1},optionLabel:{type:[String,Function],required:!1}}),Rn=C({name:"RadioButtonsFormElement",components:{FormKit:T},props:{name:{type:String,default:""},options:{type:Object,required:!0},validation:{type:String,default:""},validationLabel:{type:String,default:""}}});function _n(e,t,n,a,d,l){const r=c("FormKit");return s(),F(r,{type:"radio",name:e.name,"validation-label":e.validationLabel,options:e.options,validation:e.validation,"outer-class":{"yes-no-radio":!0},"inner-class":{"formkit-inner":!1},"input-class":{"formkit-input":!1,"p-radiobutton":!0}},null,8,["name","validation-label","options","validation"])}const tt=D(Rn,[["render",_n]]);async function Ve(e,t){const n=await new B(t()).getDocumentControllerApi();for(const a of e){let d;try{await n.checkDocument(a.reference),d=!0}catch(l){if(l instanceof ve&&$(l.response).status==404)d=!1;else throw l}if(!d){const l=(await n.postDocument(a.file)).data.documentId;if(a.reference!==l)throw Error("Locally computed document hash does not concede with the one received by the upload request!")}}}function qn(e,t){return e.length!=t.length}async function Mn(e){const t=await e.arrayBuffer(),n=await crypto.subtle.digest("SHA-256",t);return Vn(n)}function Vn(e){return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}function dt(e){return e.split(".").slice(0,-1).join(".")}const Un=C({name:"UploadDocumentsForm",components:{PrimeButton:V,FileUpload:fn},emits:["updatedDocumentsSelectedForUpload"],data(){return{formatBytesUserFriendly:hn,DOCUMENT_UPLOAD_MAX_FILE_SIZE_IN_BYTES:gn,documentsToUpload:[]}},props:{name:{type:String,required:!0},moreThanOneDocumentAllowed:{type:Boolean,default:!0},fileNamesForPrefill:{type:Array}},watch:{fileNamesForPrefill(){this.prefillFileUpload()}},methods:{removeFileTypeExtension:dt,handleFilesSelected(e){const t=e.files;qn(t,this.documentsToUpload)&&Promise.all(t.map(async a=>({file:a,reference:await Mn(a),fileNameWithoutSuffix:dt(a.name)}))).then(a=>{this.documentsToUpload=a,this.emitUpdatedDocumentsSelectionEvent()})},emitUpdatedDocumentsSelectionEvent(){this.$emit("updatedDocumentsSelectedForUpload",this.documentsToUpload)},removeDocumentsFromDocumentsToUpload(e){e.sort((n,a)=>a-n);const t=[...e];[...new Set(t)].forEach(n=>{this.$refs.fileUpload.remove(n),this.documentsToUpload.splice(n,1)}),this.emitUpdatedDocumentsSelectionEvent()},removeAllDocuments(){this.$refs.fileUpload.files=[],this.documentsToUpload=[],this.emitUpdatedDocumentsSelectionEvent()},prefillFileUpload(){this.fileNamesForPrefill&&this.fileNamesForPrefill.forEach(e=>{const t=new File([],e);this.$refs.fileUpload.files.push(t)})}}}),Kn={id:"uploadReports",class:"uploaded-files",style:{padding:"0","margin-left":"0"}},Bn={class:"flex flex-wrap justify-content-between align-items-center flex-1 gap-2"},Ln={"data-test":"files-to-upload"},Yn=["data-test"],Hn={"data-test":"files-to-upload-title",class:"font-semibold flex-1"},jn={key:0,"data-test":"files-to-upload-size",class:"mx-2 text-black-alpha-50"},Gn={key:1,"data-test":"currently-uploaded-text",class:"mx-2 text-black-alpha-50"};function Wn(e,t,n,a,d,l){const r=c("PrimeButton"),p=c("FileUpload");return s(),u("div",Kn,[o(p,{name:"fileUpload",ref:"fileUpload",accept:".pdf",maxFileSize:e.DOCUMENT_UPLOAD_MAX_FILE_SIZE_IN_BYTES,invalidFileSizeMessage:"{0}: Invalid file size, file size should be smaller than {1}.",auto:!1,multiple:e.moreThanOneDocumentAllowed,onSelect:e.handleFilesSelected},{header:y(({files:m,chooseCallback:f})=>[i("div",Bn,[L(o(r,{"data-test":"upload-files-button-"+e.name,onClick:h=>f(),icon:"pi pi-upload",label:"UPLOAD DOCUMENT"},null,8,["data-test","onClick"]),[[te,m.length<1||e.moreThanOneDocumentAllowed]])])]),content:y(({files:m})=>[L(i("div",Ln,[(s(!0),u(S,null,A(m,(f,h)=>(s(),u("div",{key:f.name+h,class:"flex w-full align-items-center file-upload-item","data-test":e.removeFileTypeExtension(f.name)+"FileUploadContainer"},[i("span",Hn,w(f.name),1),f.size>0?(s(),u("div",jn,w(e.formatBytesUserFriendly(f.size,1)),1)):(s(),u("div",Gn,"Currently uploaded")),o(r,{"data-test":"files-to-upload-remove",icon:"pi pi-times",onClick:P=>e.removeDocumentsFromDocumentsToUpload([h]),class:"p-button-rounded"},null,8,["onClick"])],8,Yn))),128))],512),[[te,m.length>0]])]),_:1},8,["maxFileSize","multiple","onSelect"])])}const nt=D(Un,[["render",Wn]]),xn=C({name:"YesNoFormField",components:{RadioButtonsFormElement:tt,UploadFormHeader:E,UploadDocumentsForm:nt},inheritAttrs:!1,inject:{injectReportsName:{from:"namesOfAllCompanyReportsForTheDataset",default:[]}},props:{...et,dataTest:String},data(){return{baseDataPointYesNo:{},referencedDocument:void 0,documentName:"",documentReference:"",fileNamesForPrefill:[],yesNoOptions:{Yes:"Yes",No:"No"},isMounted:!1,qualityOptions:Object.values(de).map(e=>({label:e,value:e})),currentValue:void 0,currentReportValue:"",qualityValue:"NA"}},computed:{isDataQualityRequired(){return this.currentValue??!1},computeQualityOption(){return this.currentValue==""?this.qualityOptions:this.qualityOptions.filter(e=>e.value!==de.Na)}},emits:["reportsUpdated"],mounted(){this.updateFileUploadFiles(),this.isMounted=!0},watch:{baseDataPointYesNo(e,t){e.value==="No"&&t.value==="Yes"&&this.certificateRequiredIfYes&&this.$refs.uploadDocumentsForm.removeAllDocuments()},documentName(){this.isMounted&&this.updateFileUploadFiles()}},methods:{handleDocumentUpdatedEvent(e){var t,n;this.referencedDocument=e[0],this.documentName=((t=this.referencedDocument)==null?void 0:t.fileNameWithoutSuffix)??"",this.documentReference=((n=this.referencedDocument)==null?void 0:n.reference)??"",this.$emit("reportsUpdated",this.documentName,this.referencedDocument)},updateFileUploadFiles(){this.documentName!==""&&this.referencedDocument===void 0&&(this.fileNamesForPrefill=[this.documentName])},handleBlurValue(){this.currentValue===void 0?this.qualityValue="NA":this.currentValue!==""&&this.qualityValue=="NA"&&(this.qualityValue="")}}}),zn=["data-test"],Qn={key:1},Jn={class:"mb-3"},Xn={class:"next-to-each-other"},Zn={class:"flex-1"},ea={class:"mb-4"},ta={class:"md:col-6 col-12 p-0"},na={class:"form-field"};function aa(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("RadioButtonsFormElement"),m=c("UploadDocumentsForm"),f=c("FormKit");return s(),u("div",{class:"form-field","data-test":e.name},[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),e.certificateRequiredIfYes?(s(),F(f,{key:0,modelValue:e.baseDataPointYesNo,"onUpdate:modelValue":t[2]||(t[2]=h=>e.baseDataPointYesNo=h),type:"group",name:e.name},{default:y(()=>[o(p,{name:"value",validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.yesNoOptions,"data-test":e.dataTest},null,8,["validation","validation-label","options","data-test"]),L(o(m,{onUpdatedDocumentsSelectedForUpload:e.handleDocumentUpdatedEvent,ref:"uploadDocumentsForm",name:e.name,"more-than-one-document-allowed":!1,"file-names-for-prefill":e.fileNamesForPrefill},null,8,["onUpdatedDocumentsSelectedForUpload","name","file-names-for-prefill"]),[[te,e.baseDataPointYesNo.value==="Yes"]]),e.baseDataPointYesNo.value==="Yes"?(s(),F(f,{key:0,type:"group",name:"dataSource"},{default:y(()=>[o(f,{type:"hidden",name:"name",modelValue:e.documentName,"onUpdate:modelValue":t[0]||(t[0]=h=>e.documentName=h)},null,8,["modelValue"]),o(f,{type:"text",name:"reference",modelValue:e.documentReference,"onUpdate:modelValue":t[1]||(t[1]=h=>e.documentReference=h),"outer-class":{"hidden-input":!0}},null,8,["modelValue"])]),_:1})):I("",!0)]),_:1},8,["modelValue","name"])):e.evidenceDesired?(s(),u("div",Qn,[o(f,{modelValue:e.baseDataPointYesNo,"onUpdate:modelValue":t[6]||(t[6]=h=>e.baseDataPointYesNo=h),type:"group",name:e.name},{default:y(()=>[i("div",Jn,[o(p,{name:"value",modelValue:e.currentValue,"onUpdate:modelValue":t[3]||(t[3]=h=>e.currentValue=h),validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.yesNoOptions,"data-test":e.dataTest,onBlur:e.handleBlurValue},null,8,["modelValue","validation","validation-label","options","data-test","onBlur"])]),i("div",null,[o(f,{type:"group",name:"dataSource"},{default:y(()=>[i("div",Xn,[i("div",Zn,[o(r,{label:`${e.label} Report`,description:"Upload Report"},null,8,["label"]),o(f,{type:"select",name:"report",modelValue:e.currentReportValue,"onUpdate:modelValue":t[4]||(t[4]=h=>e.currentReportValue=h),placeholder:"Select a report",options:["None...",...e.injectReportsName]},null,8,["modelValue","options"])]),i("div",null,[o(r,{label:"Page",description:"Page where information was found"}),o(f,{"outer-class":"w-100",type:"number",name:"page",placeholder:"Page","validation-label":"Page",step:"1",min:"0",validation:"min:0"})])])]),_:1})]),i("div",ea,[o(r,{label:`${e.label} Quality`,description:"The level of confidence associated to the value.","is-required":e.isDataQualityRequired},null,8,["label","is-required"]),i("div",ta,[o(f,{type:"select",modelValue:e.qualityValue,"onUpdate:modelValue":t[5]||(t[5]=h=>e.qualityValue=h),name:"quality",validation:e.isDataQualityRequired?"required":"","validation-label":"Data quality",placeholder:"Data quality",options:e.computeQualityOption},null,8,["modelValue","validation","options"])])]),i("div",na,[o(f,{type:"textarea",name:"comment",placeholder:"(Optional) Add comment that might help Quality Assurance to approve the datapoint. "})])]),_:1},8,["modelValue","name"])])):(s(),F(p,{key:2,name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.yesNoOptions},null,8,["name","validation","validation-label","options"]))],8,zn)}const z=D(xn,[["render",aa]]);var Tt={name:"MinusIcon",extends:en},oa=i("path",{d:"M13.2222 7.77778H0.777778C0.571498 7.77778 0.373667 7.69584 0.227806 7.54998C0.0819442 7.40412 0 7.20629 0 7.00001C0 6.79373 0.0819442 6.5959 0.227806 6.45003C0.373667 6.30417 0.571498 6.22223 0.777778 6.22223H13.2222C13.4285 6.22223 13.6263 6.30417 13.7722 6.45003C13.9181 6.5959 14 6.79373 14 7.00001C14 7.20629 13.9181 7.40412 13.7722 7.54998C13.6263 7.69584 13.4285 7.77778 13.2222 7.77778Z",fill:"currentColor"},null,-1),ia=[oa];function ra(e,t,n,a,d,l){return s(),u("svg",k({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.pti()),ia,16)}Tt.render=ra;var sa=`
.p-tree-container {
    margin: 0;
    padding: 0;
    list-style-type: none;
    overflow: auto;
}

.p-treenode-children {
    margin: 0;
    padding: 0;
    list-style-type: none;
}

.p-tree-wrapper {
    overflow: auto;
}

.p-treenode-selectable {
    cursor: pointer;
    user-select: none;
}

.p-tree-toggler {
    cursor: pointer;
    user-select: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    flex-shrink: 0;
}

.p-treenode-leaf > .p-treenode-content .p-tree-toggler {
    visibility: hidden;
}

.p-treenode-content {
    display: flex;
    align-items: center;
}

.p-tree-filter {
    width: 100%;
}

.p-tree-filter-container {
    position: relative;
    display: block;
    width: 100%;
}

.p-tree-filter-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-tree-loading {
    position: relative;
    min-height: 4rem;
}

.p-tree .p-tree-loading-overlay {
    position: absolute;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-tree-flex-scrollable {
    display: flex;
    flex: 1;
    height: 100%;
    flex-direction: column;
}

.p-tree-flex-scrollable .p-tree-wrapper {
    flex: 1;
}
`,la={root:function(t){var n=t.props;return["p-tree p-component",{"p-tree-selectable":n.selectionMode!=null,"p-tree-loading":n.loading,"p-tree-flex-scrollable":n.scrollHeight==="flex"}]},loadingOverlay:"p-tree-loading-overlay p-component-overlay",loadingIcon:"p-tree-loading-icon",filterContainer:"p-tree-filter-container",input:"p-tree-filter p-inputtext p-component",searchIcon:"p-tree-filter-icon",wrapper:"p-tree-wrapper",container:"p-tree-container",node:function(t){var n=t.instance;return["p-treenode",{"p-treenode-leaf":n.leaf}]},content:function(t){var n=t.instance;return["p-treenode-content",n.node.styleClass,{"p-treenode-selectable":n.selectable,"p-highlight":n.checkboxMode?n.checked:n.selected}]},toggler:"p-tree-toggler p-link",togglerIcon:"p-tree-toggler-icon",checkboxContainer:"p-checkbox p-component",checkbox:function(t){var n=t.instance;return["p-checkbox-box",{"p-highlight":n.checked,"p-indeterminate":n.partialChecked}]},checkboxIcon:"p-checkbox-icon",nodeIcon:function(t){var n=t.instance;return["p-treenode-icon",n.node.icon]},label:"p-treenode-label",subgroup:"p-treenode-children"},da=Pt(sa,{name:"tree",manual:!0}),ca=da.load,ua={name:"BaseTree",extends:he,props:{value:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},metaKeySelection:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},filter:{type:Boolean,default:!1},filterBy:{type:String,default:"label"},filterMode:{type:String,default:"lenient"},filterPlaceholder:{type:String,default:null},filterLocale:{type:String,default:void 0},scrollHeight:{type:String,default:null},level:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:la,loadStyle:ca},provide:function(){return{$parentInstance:this}}};function ce(e){"@babel/helpers - typeof";return ce=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(e)}function ct(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$t(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var a=0,d=function(){};return{s:d,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,r=!1,p;return{s:function(){n=n.call(e)},n:function(){var f=n.next();return l=f.done,f},e:function(f){r=!0,p=f},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(r)throw p}}}}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,a)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ut(Object(n),!0).forEach(function(a){pa(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function pa(e,t,n){return t=ma(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ma(e){var t=fa(e,"string");return ce(t)==="symbol"?t:String(t)}function fa(e,t){if(ce(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(ce(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function se(e){return ga(e)||ya(e)||$t(e)||ha()}function ha(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(e,t){if(e){if(typeof e=="string")return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}}function ya(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ga(e){if(Array.isArray(e))return ze(e)}function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Nt={name:"TreeNode",hostName:"Tree",extends:he,emits:["node-toggle","node-click","checkbox-change"],props:{node:{type:null,default:null},expandedKeys:{type:null,default:null},selectionKeys:{type:null,default:null},selectionMode:{type:String,default:null},templates:{type:null,default:null},level:{type:Number,default:null},index:{type:Number,default:null}},nodeTouched:!1,toggleClicked:!1,mounted:function(){this.setAllNodesTabIndexes()},methods:{toggle:function(){this.$emit("node-toggle",this.node),this.toggleClicked=!0},label:function(t){return typeof t.label=="function"?t.label():t.label},onChildNodeToggle:function(t){this.$emit("node-toggle",t)},getPTOptions:function(t){return this.ptm(t,{context:{index:this.index,expanded:this.expanded,selected:this.selected,checked:this.checked,leaf:this.leaf}})},onClick:function(t){if(this.toggleClicked||Q.getAttribute(t.target,'[data-pc-section="toggler"]')||Q.getAttribute(t.target.parentElement,'[data-pc-section="toggler"]')){this.toggleClicked=!1;return}this.isCheckboxSelectionMode()?this.toggleCheckbox():this.$emit("node-click",{originalEvent:t,nodeTouched:this.nodeTouched,node:this.node}),this.nodeTouched=!1},onChildNodeClick:function(t){this.$emit("node-click",t)},onTouchEnd:function(){this.nodeTouched=!0},onKeyDown:function(t){if(this.isSameNode(t))switch(t.code){case"Tab":this.onTabKey(t);break;case"ArrowDown":this.onArrowDown(t);break;case"ArrowUp":this.onArrowUp(t);break;case"ArrowRight":this.onArrowRight(t);break;case"ArrowLeft":this.onArrowLeft(t);break;case"Enter":case"Space":this.onEnterKey(t);break}},onArrowDown:function(t){var n=t.target.getAttribute("data-pc-section")==="toggler"?t.target.closest('[role="treeitem"]'):t.target,a=n.children[1];if(a)this.focusRowChange(n,a.children[0]);else if(n.nextElementSibling)this.focusRowChange(n,n.nextElementSibling);else{var d=this.findNextSiblingOfAncestor(n);d&&this.focusRowChange(n,d)}t.preventDefault()},onArrowUp:function(t){var n=t.target;if(n.previousElementSibling)this.focusRowChange(n,n.previousElementSibling,this.findLastVisibleDescendant(n.previousElementSibling));else{var a=this.getParentNodeElement(n);a&&this.focusRowChange(n,a)}t.preventDefault()},onArrowRight:function(t){var n=this;this.leaf||this.expanded||(t.currentTarget.tabIndex=-1,this.$emit("node-toggle",this.node),this.$nextTick(function(){n.onArrowDown(t)}))},onArrowLeft:function(t){var n=Q.findSingle(t.currentTarget,'[data-pc-section="toggler"]');if(this.level===0&&!this.expanded)return!1;if(this.expanded&&!this.leaf)return n.click(),!1;var a=this.findBeforeClickableNode(t.currentTarget);a&&this.focusRowChange(t.currentTarget,a)},onEnterKey:function(t){this.setTabIndexForSelectionMode(t,this.nodeTouched),this.onClick(t),t.preventDefault()},onTabKey:function(){this.setAllNodesTabIndexes()},setAllNodesTabIndexes:function(){var t=Q.find(this.$refs.currentNode.closest('[data-pc-section="container"]'),'[role="treeitem"]'),n=se(t).some(function(d){return d.getAttribute("aria-selected")==="true"||d.getAttribute("aria-checked")==="true"});if(se(t).forEach(function(d){d.tabIndex=-1}),n){var a=se(t).filter(function(d){return d.getAttribute("aria-selected")==="true"||d.getAttribute("aria-checked")==="true"});a[0].tabIndex=0;return}se(t)[0].tabIndex=0},setTabIndexForSelectionMode:function(t,n){if(this.selectionMode!==null){var a=se(Q.find(this.$refs.currentNode.parentElement,'[role="treeitem"]'));t.currentTarget.tabIndex=n===!1?-1:0,a.every(function(d){return d.tabIndex===-1})&&(a[0].tabIndex=0)}},focusRowChange:function(t,n,a){t.tabIndex="-1",n.tabIndex="0",this.focusNode(a||n)},findBeforeClickableNode:function(t){var n=t.closest("ul").closest("li");if(n){var a=Q.findSingle(n,"button");return a&&a.style.visibility!=="hidden"?n:this.findBeforeClickableNode(t.previousElementSibling)}return null},toggleCheckbox:function(){var t=this.selectionKeys?pt({},this.selectionKeys):{},n=!this.checked;this.propagateDown(this.node,n,t),this.$emit("checkbox-change",{node:this.node,check:n,selectionKeys:t})},propagateDown:function(t,n,a){if(n?a[t.key]={checked:!0,partialChecked:!1}:delete a[t.key],t.children&&t.children.length){var d=ct(t.children),l;try{for(d.s();!(l=d.n()).done;){var r=l.value;this.propagateDown(r,n,a)}}catch(p){d.e(p)}finally{d.f()}}},propagateUp:function(t){var n=t.check,a=pt({},t.selectionKeys),d=0,l=!1,r=ct(this.node.children),p;try{for(r.s();!(p=r.n()).done;){var m=p.value;a[m.key]&&a[m.key].checked?d++:a[m.key]&&a[m.key].partialChecked&&(l=!0)}}catch(f){r.e(f)}finally{r.f()}n&&d===this.node.children.length?a[this.node.key]={checked:!0,partialChecked:!1}:(n||delete a[this.node.key],l||d>0&&d!==this.node.children.length?a[this.node.key]={checked:!1,partialChecked:!0}:delete a[this.node.key]),this.$emit("checkbox-change",{node:t.node,check:t.check,selectionKeys:a})},onChildCheckboxChange:function(t){this.$emit("checkbox-change",t)},findNextSiblingOfAncestor:function(t){var n=this.getParentNodeElement(t);return n?n.nextElementSibling?n.nextElementSibling:this.findNextSiblingOfAncestor(n):null},findLastVisibleDescendant:function(t){var n=t.children[1];if(n){var a=n.children[n.children.length-1];return this.findLastVisibleDescendant(a)}else return t},getParentNodeElement:function(t){var n=t.parentElement.parentElement;return Q.getAttribute(n,"role")==="treeitem"?n:null},focusNode:function(t){t.focus()},isCheckboxSelectionMode:function(){return this.selectionMode==="checkbox"},isSameNode:function(t){return t.currentTarget&&(t.currentTarget.isSameNode(t.target)||t.currentTarget.isSameNode(t.target.closest('[role="treeitem"]')))}},computed:{hasChildren:function(){return this.node.children&&this.node.children.length>0},expanded:function(){return this.expandedKeys&&this.expandedKeys[this.node.key]===!0},leaf:function(){return this.node.leaf===!1?!1:!(this.node.children&&this.node.children.length)},selectable:function(){return this.node.selectable===!1?!1:this.selectionMode!=null},selected:function(){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.node.key]===!0:!1},checkboxMode:function(){return this.selectionMode==="checkbox"&&this.node.selectable!==!1},checked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].checked:!1},partialChecked:function(){return this.selectionKeys?this.selectionKeys[this.node.key]&&this.selectionKeys[this.node.key].partialChecked:!1},ariaChecked:function(){return this.selectionMode==="single"||this.selectionMode==="multiple"?this.selected:void 0},ariaSelected:function(){return this.checkboxMode?this.checked:void 0}},components:{ChevronDownIcon:Pn,ChevronRightIcon:In,CheckIcon:kt,MinusIcon:Tt},directives:{ripple:tn}},ba=["aria-label","aria-selected","aria-expanded","aria-setsize","aria-posinset","aria-level","aria-checked","tabindex"],va=["data-p-highlight","data-p-selectable"],Fa=["data-p-checked","data-p-partialchecked"];function Ca(e,t,n,a,d,l){var r=c("TreeNode",!0),p=Xe("ripple");return s(),u("li",k({ref:"currentNode",class:e.cx("node"),role:"treeitem","aria-label":l.label(n.node),"aria-selected":l.ariaSelected,"aria-expanded":l.expanded,"aria-setsize":n.node.children?n.node.children.length:0,"aria-posinset":n.index+1,"aria-level":n.level,"aria-checked":l.ariaChecked,tabindex:n.index===0?0:-1,onKeydown:t[4]||(t[4]=function(){return l.onKeyDown&&l.onKeyDown.apply(l,arguments)})},n.level===1?l.getPTOptions("node"):e.ptm("subgroup")),[i("div",k({class:e.cx("content"),onClick:t[2]||(t[2]=function(){return l.onClick&&l.onClick.apply(l,arguments)}),onTouchend:t[3]||(t[3]=function(){return l.onTouchEnd&&l.onTouchEnd.apply(l,arguments)}),style:n.node.style},l.getPTOptions("content"),{"data-p-highlight":l.checkboxMode?l.checked:l.selected,"data-p-selectable":l.selectable}),[L((s(),u("button",k({type:"button",class:e.cx("toggler"),onClick:t[0]||(t[0]=function(){return l.toggle&&l.toggle.apply(l,arguments)}),tabindex:"-1","aria-hidden":"true"},l.getPTOptions("toggler")),[n.templates.togglericon?(s(),F(M(n.templates.togglericon),{key:0,node:n.node,expanded:l.expanded,class:O(e.cx("togglerIcon"))},null,8,["node","expanded","class"])):l.expanded?(s(),F(M(n.node.expandedIcon?"span":"ChevronDownIcon"),k({key:1,class:e.cx("togglerIcon")},l.getPTOptions("togglerIcon")),null,16,["class"])):(s(),F(M(n.node.collapsedIcon?"span":"ChevronRightIcon"),k({key:2,class:e.cx("togglerIcon")},l.getPTOptions("togglerIcon")),null,16,["class"]))],16)),[[p]]),l.checkboxMode?(s(),u("div",k({key:0,class:e.cx("checkboxContainer"),"aria-hidden":"true"},l.getPTOptions("checkboxContainer")),[i("div",k({class:e.cx("checkbox"),role:"checkbox"},l.getPTOptions("checkbox"),{"data-p-checked":l.checked,"data-p-partialchecked":l.partialChecked}),[n.templates.checkboxicon?(s(),F(M(n.templates.checkboxicon),{key:0,checked:l.checked,partialChecked:l.partialChecked,class:O(e.cx("checkboxIcon"))},null,8,["checked","partialChecked","class"])):(s(),F(M(l.checked?"CheckIcon":l.partialChecked?"MinusIcon":null),k({key:1,class:e.cx("checkboxIcon")},l.getPTOptions("checkboxIcon")),null,16,["class"]))],16,Fa)],16)):I("",!0),i("span",k({class:e.cx("nodeIcon")},l.getPTOptions("nodeIcon")),null,16),i("span",k({class:e.cx("label")},l.getPTOptions("label"),{onKeydown:t[1]||(t[1]=nn(function(){},["stop"]))}),[n.templates[n.node.type]||n.templates.default?(s(),F(M(n.templates[n.node.type]||n.templates.default),{key:0,node:n.node},null,8,["node"])):(s(),u(S,{key:1},[X(w(l.label(n.node)),1)],64))],16)],16,va),l.hasChildren&&l.expanded?(s(),u("ul",k({key:0,class:e.cx("subgroup"),role:"group"},e.ptm("subgroup")),[(s(!0),u(S,null,A(n.node.children,function(m){return s(),F(r,{key:m.key,node:m,templates:n.templates,level:n.level+1,expandedKeys:n.expandedKeys,onNodeToggle:l.onChildNodeToggle,onNodeClick:l.onChildNodeClick,selectionMode:n.selectionMode,selectionKeys:n.selectionKeys,onCheckboxChange:l.propagateUp,pt:e.pt},null,8,["node","templates","level","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","pt"])}),128))],16)):I("",!0)],16,ba)}Nt.render=Ca;function ue(e){"@babel/helpers - typeof";return ue=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ue(e)}function xe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ot(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var a=0,d=function(){};return{s:d,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(f){throw f},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,r=!1,p;return{s:function(){n=n.call(e)},n:function(){var f=n.next();return l=f.done,f},e:function(f){r=!0,p=f},f:function(){try{!l&&n.return!=null&&n.return()}finally{if(r)throw p}}}}function Da(e){return Ia(e)||Pa(e)||Ot(e)||Sa()}function Sa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ot(e,t){if(e){if(typeof e=="string")return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}}function Pa(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ia(e){if(Array.isArray(e))return Qe(e)}function Qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mt(Object(n),!0).forEach(function(a){Aa(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Aa(e,t,n){return t=wa(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e){var t=ka(e,"string");return ue(t)==="symbol"?t:String(t)}function ka(e,t){if(ue(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(ue(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var at={name:"Tree",extends:ua,emits:["node-expand","node-collapse","update:expandedKeys","update:selectionKeys","node-select","node-unselect"],data:function(){return{d_expandedKeys:this.expandedKeys||{},filterValue:null}},watch:{expandedKeys:function(t){this.d_expandedKeys=t}},methods:{onNodeToggle:function(t){var n=t.key;this.d_expandedKeys[n]?(delete this.d_expandedKeys[n],this.$emit("node-collapse",t)):(this.d_expandedKeys[n]=!0,this.$emit("node-expand",t)),this.d_expandedKeys=J({},this.d_expandedKeys),this.$emit("update:expandedKeys",this.d_expandedKeys)},onNodeClick:function(t){if(this.selectionMode!=null&&t.node.selectable!==!1){var n=t.nodeTouched?!1:this.metaKeySelection,a=n?this.handleSelectionWithMetaKey(t):this.handleSelectionWithoutMetaKey(t);this.$emit("update:selectionKeys",a)}},onCheckboxChange:function(t){this.$emit("update:selectionKeys",t.selectionKeys),t.check?this.$emit("node-select",t.node):this.$emit("node-unselect",t.node)},handleSelectionWithMetaKey:function(t){var n=t.originalEvent,a=t.node,d=n.metaKey||n.ctrlKey,l=this.isNodeSelected(a),r;return l&&d?(this.isSingleSelectionMode()?r={}:(r=J({},this.selectionKeys),delete r[a.key]),this.$emit("node-unselect",a)):(this.isSingleSelectionMode()?r={}:this.isMultipleSelectionMode()&&(r=d?this.selectionKeys?J({},this.selectionKeys):{}:{}),r[a.key]=!0,this.$emit("node-select",a)),r},handleSelectionWithoutMetaKey:function(t){var n=t.node,a=this.isNodeSelected(n),d;return this.isSingleSelectionMode()?a?(d={},this.$emit("node-unselect",n)):(d={},d[n.key]=!0,this.$emit("node-select",n)):a?(d=J({},this.selectionKeys),delete d[n.key],this.$emit("node-unselect",n)):(d=this.selectionKeys?J({},this.selectionKeys):{},d[n.key]=!0,this.$emit("node-select",n)),d},isSingleSelectionMode:function(){return this.selectionMode==="single"},isMultipleSelectionMode:function(){return this.selectionMode==="multiple"},isNodeSelected:function(t){return this.selectionMode&&this.selectionKeys?this.selectionKeys[t.key]===!0:!1},isChecked:function(t){return this.selectionKeys?this.selectionKeys[t.key]&&this.selectionKeys[t.key].checked:!1},isNodeLeaf:function(t){return t.leaf===!1?!1:!(t.children&&t.children.length)},onFilterKeydown:function(t){t.code==="Enter"&&t.preventDefault()},findFilteredNodes:function(t,n){if(t){var a=!1;if(t.children){var d=Da(t.children);t.children=[];var l=xe(d),r;try{for(l.s();!(r=l.n()).done;){var p=r.value,m=J({},p);this.isFilterMatched(m,n)&&(a=!0,t.children.push(m))}}catch(f){l.e(f)}finally{l.f()}}if(a)return!0}},isFilterMatched:function(t,n){var a=n.searchFields,d=n.filterText,l=n.strict,r=!1,p=xe(a),m;try{for(p.s();!(m=p.n()).done;){var f=m.value,h=String($e.resolveFieldData(t,f)).toLocaleLowerCase(this.filterLocale);h.indexOf(d)>-1&&(r=!0)}}catch(P){p.e(P)}finally{p.f()}return(!r||l&&!this.isNodeLeaf(t))&&(r=this.findFilteredNodes(t,{searchFields:a,filterText:d,strict:l})||r),r}},computed:{filteredValue:function(){var t=[],n=this.filterBy.split(","),a=this.filterValue.trim().toLocaleLowerCase(this.filterLocale),d=this.filterMode==="strict",l=xe(this.value),r;try{for(l.s();!(r=l.n()).done;){var p=r.value,m=J({},p),f={searchFields:n,filterText:a,strict:d};(d&&(this.findFilteredNodes(m,f)||this.isFilterMatched(m,f))||!d&&(this.isFilterMatched(m,f)||this.findFilteredNodes(m,f)))&&t.push(m)}}catch(h){l.e(h)}finally{l.f()}return t},valueToRender:function(){return this.filterValue&&this.filterValue.trim().length>0?this.filteredValue:this.value}},components:{TreeNode:Nt,SearchIcon:Sn,SpinnerIcon:an}},Ea=["placeholder"],Ta=["aria-labelledby","aria-label"];function $a(e,t,n,a,d,l){var r=c("SpinnerIcon"),p=c("SearchIcon"),m=c("TreeNode");return s(),u("div",k({class:e.cx("root")},e.ptm("root"),{"data-pc-name":"tree"}),[e.loading?(s(),u("div",k({key:0,class:e.cx("loadingOverlay")},e.ptm("loadingOverlay")),[Ne(e.$slots,"loadingicon",{class:O(e.cx("loadingIcon"))},function(){return[e.loadingIcon?(s(),u("i",k({key:0,class:[e.cx("loadingIcon"),"pi-spin",e.loadingIcon]},e.ptm("loadingIcon")),null,16)):(s(),F(r,k({key:1,spin:"",class:e.cx("loadingIcon")},e.ptm("loadingIcon")),null,16,["class"]))]})],16)):I("",!0),e.filter?(s(),u("div",k({key:1,class:e.cx("filterContainer")},e.ptm("filterContainer")),[L(i("input",k({"onUpdate:modelValue":t[0]||(t[0]=function(f){return d.filterValue=f}),type:"text",autocomplete:"off",class:e.cx("input"),placeholder:e.filterPlaceholder,onKeydown:t[1]||(t[1]=function(){return l.onFilterKeydown&&l.onFilterKeydown.apply(l,arguments)})},e.ptm("filterinput")),null,16,Ea),[[on,d.filterValue]]),Ne(e.$slots,"searchicon",{class:O(e.cx("searchIcon"))},function(){return[o(p,k({class:e.cx("searchIcon")},e.ptm("searchIcon")),null,16,["class"])]})],16)):I("",!0),i("div",k({class:e.cx("wrapper"),style:{maxHeight:e.scrollHeight}},e.ptm("wrapper")),[i("ul",k({class:e.cx("container"),role:"tree","aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel},e.ptm("container")),[(s(!0),u(S,null,A(l.valueToRender,function(f,h){return s(),F(m,{key:f.key,node:f,templates:e.$slots,level:e.level+1,index:h,expandedKeys:d.d_expandedKeys,onNodeToggle:l.onNodeToggle,onNodeClick:l.onNodeClick,selectionMode:e.selectionMode,selectionKeys:e.selectionKeys,onCheckboxChange:l.onCheckboxChange,pt:e.pt,unstyled:e.unstyled},null,8,["node","templates","level","index","expandedKeys","onNodeToggle","onNodeClick","selectionMode","selectionKeys","onCheckboxChange","pt","unstyled"])}),128))],16,Ta)],16)],16)}at.render=$a;var Na={root:function(t){var n=t.instance,a=t.props;return["p-checkbox p-component",{"p-checkbox-checked":n.checked,"p-checkbox-disabled":a.disabled,"p-checkbox-focused":n.focused}]},input:function(t){var n=t.instance,a=t.props;return["p-checkbox-box",{"p-highlight":n.checked,"p-disabled":a.disabled,"p-focus":n.focused}]},icon:"p-checkbox-icon"},Oa={name:"BaseCheckbox",extends:he,props:{value:null,modelValue:null,binary:Boolean,name:{type:String,default:null},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},tabindex:{type:Number,default:null},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:Na},provide:function(){return{$parentInstance:this}}};function Ra(e){return Va(e)||Ma(e)||qa(e)||_a()}function _a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qa(e,t){if(e){if(typeof e=="string")return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Je(e,t)}}function Ma(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Va(e){if(Array.isArray(e))return Je(e)}function Je(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Rt={name:"Checkbox",extends:Oa,emits:["click","update:modelValue","change","input","focus","blur"],data:function(){return{focused:!1}},methods:{getPTOptions:function(t){return this.ptm(t,{context:{checked:this.checked,focused:this.focused,disabled:this.disabled}})},onClick:function(t){var n=this;if(!this.disabled&&!this.readonly){var a;this.binary?a=this.checked?this.falseValue:this.trueValue:this.checked?a=this.modelValue.filter(function(d){return!$e.equals(d,n.value)}):a=this.modelValue?[].concat(Ra(this.modelValue),[this.value]):[this.value],this.$emit("click",t),this.$emit("update:modelValue",a),this.$emit("change",t),this.$emit("input",a),this.$refs.input.focus()}},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked:function(){return this.binary?this.modelValue===this.trueValue:$e.contains(this.value,this.modelValue)}},components:{CheckIcon:kt}};function pe(e){"@babel/helpers - typeof";return pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pe(e)}function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,a)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ft(Object(n),!0).forEach(function(a){Ua(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ua(e,t,n){return t=Ka(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e){var t=Ba(e,"string");return pe(t)==="symbol"?t:String(t)}function Ba(e,t){if(pe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(pe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=["id","value","name","checked","tabindex","disabled","readonly","required","aria-labelledby","aria-label"],Ya=["data-p-highlight","data-p-disabled","data-p-focused"];function Ha(e,t,n,a,d,l){var r=c("CheckIcon");return s(),u("div",k({class:e.cx("root"),onClick:t[2]||(t[2]=function(p){return l.onClick(p)})},l.getPTOptions("root"),{"data-pc-name":"checkbox"}),[i("div",k({class:"p-hidden-accessible"},e.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[i("input",k({ref:"input",id:e.inputId,type:"checkbox",value:e.value,name:e.name,checked:l.checked,tabindex:e.tabindex,disabled:e.disabled,readonly:e.readonly,required:e.required,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(p){return l.onFocus(p)}),onBlur:t[1]||(t[1]=function(p){return l.onBlur(p)})},e.ptm("hiddenInput")),null,16,La)],16),i("div",k({ref:"box",class:[e.cx("input"),e.inputClass],style:e.inputStyle},ht(ht({},e.inputProps),l.getPTOptions("input")),{"data-p-highlight":l.checked,"data-p-disabled":e.disabled,"data-p-focused":d.focused}),[Ne(e.$slots,"icon",{checked:l.checked,class:O(e.cx("icon"))},function(){return[l.checked?(s(),F(r,k({key:0,class:e.cx("icon")},l.getPTOptions("icon")),null,16,["class"])):I("",!0)]})],16,Ya)],16)}Rt.render=Ha;const ja=C({name:"NaceCodeSelector",emits:["update:modelValue"],directives:{tooltip:qe},props:{modelValue:{type:Array,default:()=>[]}},components:{Tree:at,OverlayPanel:wt,InputText:An,Checkbox:Rt},setup(){return{overlayPanel:Re()}},methods:{inputFocused(e){var t;(t=this.overlayPanel)==null||t.show(e)},handleNodeCheckboxClick(e,t){t?this.selectedTreeNodes.add(e):this.selectedTreeNodes.delete(e)},expandNode(e,t){if(!(Object.keys(t).length>=100)){t[$(e.key)]=!0;for(const n of $(e.children))this.expandNode(n,t)}},updateSelectedChildrenCounter(e){const t=new Map,n=a=>{const d=a.children??[];let l=0;d.forEach(r=>{e.has($(r.key))&&l++,n(r),l+=$(t.get($(r.key)))}),t.set($(a.key),l)};Ee.forEach(a=>{n(a)}),this.selectedChildrenCounter=t},updateModelValue(e){const t=[...e].sort((n,a)=>n.localeCompare(a));this.$emit("update:modelValue",t)},getNodeLabel(e){var t;return(t=bn.get(e))==null?void 0:t.label}},data(){return{filteredTreeValues:Ee,searchFilter:"",expandedTreeKeys:{},selectedTreeNodes:new Set,selectedChildrenCounter:new Map}},watch:{searchFilter(e){if(e){const t=structuredClone(Ee);this.filteredTreeValues=vn(t,e);const n={};for(const a of this.filteredTreeValues)this.expandNode(a,n);this.expandedTreeKeys=n}else this.expandedTreeKeys={},this.filteredTreeValues=Ee},selectedTreeNodes:{deep:!0,handler(e){this.updateSelectedChildrenCounter(e),this.updateModelValue(e)}},modelValue:{deep:!0,handler(e){const t=new Set(e);[...this.selectedTreeNodes].forEach(a=>{t.has(a)||this.selectedTreeNodes.delete(a)}),t.forEach(a=>{this.selectedTreeNodes.add(a)})}}}}),Ga={class:"flex align-items-end"},Wa={class:"pl-1 d-nace-chipview"},xa=["onClick"],za={class:"d-nace-treeview-container"},Qa={key:0},Ja={class:"flex align-items-center"},Xa={class:"p-badge p-badge-no-gutter"};function Za(e,t,n,a,d,l){const r=c("InputText"),p=c("Checkbox"),m=c("Tree"),f=c("OverlayPanel"),h=Xe("tooltip");return s(),u(S,null,[i("div",Ga,[o(r,{modelValue:e.searchFilter,"onUpdate:modelValue":t[0]||(t[0]=P=>e.searchFilter=P),placeholder:"Search for NACE Rev 2 Codes",onFocus:e.inputFocused,class:"p-multiselect short d-nace-focus"},null,8,["modelValue","onFocus"]),i("div",Wa,[(s(!0),u(S,null,A(e.modelValue,P=>L((s(),u("span",{class:"form-list-item",key:P},[X(w(P)+" ",1),i("em",{onClick:v=>this.selectedTreeNodes.delete(P),class:"material-icons"},"close",8,xa)])),[[h,e.getNodeLabel(P),void 0,{top:!0}]])),128))])]),o(f,{ref:"overlayPanel"},{default:y(()=>[i("div",za,[e.filteredTreeValues.length<=0?(s(),u("h2",Qa,"No results")):I("",!0),o(m,{"expanded-keys":e.expandedTreeKeys,"onUpdate:expandedKeys":t[1]||(t[1]=P=>e.expandedTreeKeys=P),value:e.filteredTreeValues,placeholder:"Select Item"},{default:y(P=>[i("div",Ja,[o(p,{modelValue:e.selectedTreeNodes.has(P.node.key),"onUpdate:modelValue":v=>e.handleNodeCheckboxClick(P.node.key,v),binary:!0},null,8,["modelValue","onUpdate:modelValue"]),i("div",{class:O({invisible:!e.selectedChildrenCounter.get(P.node.key)})},[i("span",Xa,w(e.selectedChildrenCounter.get(P.node.key)||0),1)],2),i("span",null,w(P.node.label),1)])]),_:1},8,["expanded-keys","value"])])]),_:1},512)],64)}const eo=D(ja,[["render",Za]]),to=C({name:"NaceCodeFormField",components:{NaceCodeSelector:eo,FormKit:T,FormKitMessages:It,UploadFormHeader:E},setup(){return{formKitNaceCodeInput:Re()}},data(){return{innerSelectedNaceCodes:[]}},computed:{selectedNaceCodes:{get(){return this.selectedNaceCodesBind??this.innerSelectedNaceCodes},set(e){this.$emit("update:selectedNaceCodesBind",e),this.innerSelectedNaceCodes=e}}},props:{...R,selectedNaceCodesBind:{type:Array}}}),no={class:"form-field"},ao=["id"];function oo(e,t,n,a,d,l){var h,P,v;const r=c("UploadFormHeader"),p=c("NaceCodeSelector"),m=c("FormKitMessages"),f=c("FormKit");return s(),u("div",no,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{modelValue:e.selectedNaceCodes,"onUpdate:modelValue":t[0]||(t[0]=g=>e.selectedNaceCodes=g)},null,8,["modelValue"]),i("div",{id:((v=(P=(h=e.formKitNaceCodeInput)==null?void 0:h.node)==null?void 0:P.props)==null?void 0:v.id)||void 0},[o(f,{type:"list",validation:e.validation,"validation-label":e.validationLabel??e.label,name:e.name,ref:"formKitNaceCodeInput",modelValue:e.selectedNaceCodes,"onUpdate:modelValue":t[1]||(t[1]=g=>e.selectedNaceCodes=g),"outer-class":"hidden-input"},{default:y(()=>[o(m)]),_:1},8,["validation","validation-label","name","modelValue"])],8,ao)])}const Ue=D(to,[["render",oo]]),io=C({name:"InputTextFormField",components:{FormKit:T,UploadFormHeader:E},props:x}),ro={class:"form-field"};function so(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),u("div",ro,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{type:"text",name:e.name,"validation-label":e.validationLabel??e.label,validation:e.validation,placeholder:e.placeholder,"inner-class":e.innerClass},null,8,["name","validation-label","validation","placeholder","inner-class"])])}const oe=D(io,[["render",so]]),lo=C({name:"FreeTextFormField",components:{FormKit:T,UploadFormHeader:E},props:x}),co={class:"form-field"};function uo(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),u("div",co,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{type:"textarea",name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,placeholder:e.placeholder},null,8,["name","validation","validation-label","placeholder"])])}const Ke=D(lo,[["render",uo]]),po=C({name:"NumberFormField",components:{FormKit:T,UploadFormHeader:E},props:x}),mo=["data-test"];function fo(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),u("div",{class:"form-field","data-test":e.name},[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{type:"text",name:e.name,"validation-label":e.validationLabel??e.label,validation:`number|${e.validation}`,placeholder:e.placeholder,"inner-class":e.innerClass},null,8,["name","validation-label","validation","placeholder","inner-class"])],8,mo)}const Be=D(po,[["render",fo]]),ho=C({name:"DateFormElement",components:{FormKit:T,Calendar:W},data(){return{dateFormatted:void 0,Date}},watch:{date:{handler:function(e){e?this.dateFormatted=Oe(e):this.dateFormatted=void 0},immediate:!0}},computed:{date:{get(){if(this.dateFormatted)return new Date(Date.parse(`${this.dateFormatted}T00:00:00`))},set(e){e?this.dateFormatted=Oe(e):this.dateFormatted=void 0}}},props:{name:{type:String,required:!0},validation:{type:String,default:""},validationLabel:{type:String,default:""},placeholder:{type:String,default:""},todayAsMax:{type:Boolean,default:!1}}}),yo={class:"lg:col-4 md:col-6 col-12 pl-0"};function go(e,t,n,a,d,l){const r=c("Calendar"),p=c("FormKit");return s(),u(S,null,[i("div",yo,[o(r,{inputId:"icon",modelValue:e.date,"onUpdate:modelValue":t[0]||(t[0]=m=>e.date=m),showIcon:!0,dateFormat:"D, M dd, yy",maxDate:e.todayAsMax?new Date:void 0,placeholder:e.placeholder},null,8,["modelValue","maxDate","placeholder"])]),o(p,{type:"text","validation-label":e.validationLabel,validation:e.validation,name:e.name,modelValue:e.dateFormatted,"onUpdate:modelValue":t[1]||(t[1]=m=>e.dateFormatted=m),"outer-class":"hidden-input"},null,8,["validation-label","validation","name","modelValue"])],64)}const bo=D(ho,[["render",go]]),vo=C({name:"DateFormField",components:{UploadFormHeader:E,DateFormElement:bo},props:Nn}),Fo={class:"form-field"};function Co(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("DateFormElement");return s(),u("div",Fo,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,placeholder:e.placeholder,"today-as-max":e.todayAsMax},null,8,["name","validation","validation-label","placeholder","today-as-max"])])}const Le=D(vo,[["render",Co]]),Do=C({name:"SingleSelectFormElement",components:{FormKit:T},props:{...Me}});function So(e,t,n,a,d,l){const r=c("FormKit");return s(),F(r,{type:"select","validation-label":e.validationLabel,validation:e.validation,placeholder:e.placeholder,name:e.name,options:e.options,"outer-class":"short"},null,8,["validation-label","validation","placeholder","name","options"])}const _t=D(Do,[["render",So]]),Po=C({name:"SingleSelectFormField",components:{SingleSelectFormElement:_t,UploadFormHeader:E},props:Me}),Io={class:"form-field"};function Ao(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("SingleSelectFormElement");return s(),u("div",Io,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,placeholder:e.placeholder,options:e.options},null,8,["name","validation","validation-label","placeholder","options"])])}const De=D(Po,[["render",Ao]]),wo=C({name:"MultiSelectFormElement",components:{FormKit:T,MultiSelect:Ze,FormKitMessages:It},setup(){return{formkitMultiSelectFormElement:Re()}},data(){return{selections:[]}},props:{...Me,emptyMessage:{type:String,default:"No available options"}},methods:{clearSelections(){this.selections=[]}}}),ko=["id"];function Eo(e,t,n,a,d,l){var f,h,P;const r=c("MultiSelect"),p=c("FormKitMessages"),m=c("FormKit");return s(),u(S,null,[o(r,{modelValue:e.selections,"onUpdate:modelValue":t[0]||(t[0]=v=>e.selections=v),options:e.options,placeholder:e.placeholder,"option-label":"label","option-value":"value","show-toggle-all":!1,class:O(e.innerClass),emptyMessage:e.emptyMessage},null,8,["modelValue","options","placeholder","class","emptyMessage"]),i("div",{id:((P=(h=(f=e.formkitMultiSelectFormElement)==null?void 0:f.node)==null?void 0:h.props)==null?void 0:P.id)||void 0},[o(m,{type:"list",ref:"formkitMultiSelectFormElement","validation-label":e.validationLabel,validation:e.validation,name:e.name,modelValue:e.selections,"onUpdate:modelValue":t[1]||(t[1]=v=>e.selections=v),"outer-class":"hidden-input"},{default:y(()=>[o(p)]),_:1},8,["validation-label","validation","name","modelValue"])],8,ko)],64)}const To=D(wo,[["render",Eo]]),$o=C({name:"MultiSelectFormField",components:{MultiSelectFormElement:To,UploadFormHeader:E},props:{...Me,dataTest:{type:String,default:"multiSelectFormElement"},emptyMessage:{type:String}}}),No=["data-test"];function Oo(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("MultiSelectFormElement");return s(),u("div",{class:"form-field","data-test":e.dataTest},[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{ref:"multiSelectFormElementRef",name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,placeholder:e.placeholder,options:e.options,innerClass:e.innerClass,emptyMessage:e.emptyMessage},null,8,["name","validation","validation-label","placeholder","options","innerClass","emptyMessage"])],8,No)}const Se=D($o,[["render",Oo]]),Ro=C({name:"AddressFormElement",components:{FormKit:T},data(){return{allCountry:U(K.CountryCodesIso2)}},computed:{required(){if(this.validation===""||this.validation==="required")return this.validation;throw new TypeError("Address form element only accepts '' or 'required' validation")}},props:{name:{type:String,default:""},validation:{type:String,default:""}}}),_o={class:"next-to-each-other"};function qo(e,t,n,a,d,l){const r=c("FormKit");return s(),F(r,{type:"group",name:e.name,label:e.name},{default:y(()=>[o(r,{type:"text",name:"streetAndHouseNumber",placeholder:"Street, House number"}),i("div",_o,[o(r,{type:"select",name:"country","validation-label":"Country",validation:e.required,placeholder:"Country",options:e.allCountry,"data-test":"country"},null,8,["validation","options"]),o(r,{type:"text",name:"city","validation-label":"City",validation:e.required,placeholder:"City"},null,8,["validation"]),o(r,{type:"text",name:"postalCode",placeholder:"Postal Code"})])]),_:1},8,["name","label"])}const Mo=D(Ro,[["render",qo]]),Vo=C({name:"AddressFormField",components:{AddressFormElement:Mo,UploadFormHeader:E},props:R}),Uo={class:"form-field"};function Ko(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("AddressFormElement");return s(),u("div",Uo,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{name:e.name,label:e.label,validation:e.validation,"validation-label":e.validationLabel??e.label},null,8,["name","label","validation","validation-label"])])}const Ye=D(Vo,[["render",Ko]]),Bo=C({name:"RadioButtonsFormField",components:{RadioButtonsFormElement:tt,UploadFormHeader:E},props:On}),Lo={class:"form-field"};function Yo(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("RadioButtonsFormElement");return s(),u("div",Lo,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.options},null,8,["name","validation","validation-label","options"])])}const He=D(Bo,[["render",Yo]]),Ho=C({name:"SubmitButton",components:{PrimeButton:V},data(){return{route:ne()}},props:{formId:{type:String,required:!0}},computed:{updatingData(){return this.route.query.templateDataId!==void 0},formIsValid(){var e,t;return $((t=(e=this.$formkit.get(this.formId))==null?void 0:e.context)==null?void 0:t.state.valid)}},methods:{submit(){this.$formkit.submit(this.formId)}}}),jo={"data-test":"submitButton",class:"text-left"};function Go(e,t,n,a,d,l){const r=c("PrimeButton");return s(),u("div",jo,[o(r,{"data-test":"submitButton",type:"submit",label:e.updatingData?"UPDATE DATA":"ADD DATA",class:O(e.formIsValid?"col-12 m-0":"button-disabled col-12 m-0"),onClick:e.submit},null,8,["label","class","onClick"])])}const Pe=D(Ho,[["render",Go]]),Wo=C({name:"SubmitSideBar",data:()=>({elementPosition:0,scrollListener:()=>null}),mounted(){const e=this.$refs.submitSideBar;this.elementPosition=e.getBoundingClientRect().top,this.scrollListener=()=>(this.elementPosition==0&&(this.elementPosition=e.getBoundingClientRect().top),window.scrollY>this.elementPosition?(e.style.position="fixed",e.style.top="60px"):(e.style.position="relative",e.style.top="0px"),null),window.addEventListener("scroll",this.scrollListener)},unmounted(){window.removeEventListener("scroll",this.scrollListener)}});const xo={"data-test":"submitSideBar",ref:"submitSideBar",class:"col-3 p-3 text-left jumpLinks"};function zo(e,t,n,a,d,l){return s(),u("div",xo,[Ne(e.$slots,"default",{},void 0,!0)],512)}const Ie=D(Wo,[["render",zo],["__scopeId","data-v-680c3c49"]]),Qo=C({name:"YesNoNaFormField",components:{RadioButtonsFormElement:tt,UploadFormHeader:E,UploadDocumentsForm:nt},inheritAttrs:!1,props:{...et},data(){return{baseDataPointYesNoNa:{},referencedDocument:void 0,documentName:"",documentReference:"",fileNamesForPrefill:[],yesNoNaOptions:{Yes:"Yes",No:"No",NA:"N/A"},isMounted:!1}},emits:["documentUpdated"],mounted(){this.updateFileUploadFiles(),this.isMounted=!0},watch:{baseDataPointYesNo(e,t){e.value==="No"&&t.value==="Yes"&&this.certificateRequiredIfYes&&this.$refs.uploadDocumentsForm.removeAllDocuments()},documentName(){this.isMounted&&this.updateFileUploadFiles()}},methods:{handleDocumentUpdatedEvent(e){var t,n;this.referencedDocument=e[0],this.documentName=((t=this.referencedDocument)==null?void 0:t.fileNameWithoutSuffix)??"",this.documentReference=((n=this.referencedDocument)==null?void 0:n.reference)??"",this.$emit("documentUpdated",this.name,this.referencedDocument)},updateFileUploadFiles(){this.documentName!==""&&this.referencedDocument===void 0&&(this.fileNamesForPrefill=[this.documentName])}}}),Jo=["data-test"];function Xo(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("RadioButtonsFormElement"),m=c("UploadDocumentsForm"),f=c("FormKit");return s(),u("div",{class:"form-field","data-test":e.name},[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),e.certificateRequiredIfYes?(s(),F(f,{key:0,modelValue:e.baseDataPointYesNoNa,"onUpdate:modelValue":t[2]||(t[2]=h=>e.baseDataPointYesNoNa=h),type:"group",name:e.name},{default:y(()=>[o(p,{name:"value",validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.yesNoNaOptions},null,8,["validation","validation-label","options"]),L(o(m,{onDocumentsChanged:e.handleDocumentUpdatedEvent,ref:"uploadDocumentsForm",name:e.name,"more-than-one-document-allowed":!1,"file-names-for-prefill":e.fileNamesForPrefill},null,8,["onDocumentsChanged","name","file-names-for-prefill"]),[[te,e.baseDataPointYesNoNa.value==="Yes"]]),e.baseDataPointYesNoNa.value==="Yes"?(s(),F(f,{key:0,type:"group",name:"dataSource"},{default:y(()=>[o(f,{type:"hidden",name:"name",modelValue:e.documentName,"onUpdate:modelValue":t[0]||(t[0]=h=>e.documentName=h)},null,8,["modelValue"]),o(f,{type:"text",name:"reference",modelValue:e.documentReference,"onUpdate:modelValue":t[1]||(t[1]=h=>e.documentReference=h),"outer-class":{"hidden-input":!0}},null,8,["modelValue"])]),_:1})):I("",!0)]),_:1},8,["modelValue","name"])):(s(),F(p,{key:1,name:e.name,validation:e.validation,"validation-label":e.validationLabel??e.label,options:e.yesNoNaOptions},null,8,["name","validation","validation-label","options"]))],8,Jo)}const ot=D(Qo,[["render",Xo]]),Zo=C({name:"PercentageFormField",components:{FormKit:T,UploadFormHeader:E},computed:{percentageFieldValue:{get(){return this.percentageFieldValueBind},set(e){this.$emit("update:percentageFieldValueBind",e)}}},props:{...x,percentageFieldValueBind:{type:[String,Number]}}}),ei={class:"form-field"};function ti(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),u("div",ei,[o(r,{label:`${e.label} (%)`,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{type:"text",name:e.name,"validation-label":e.validationLabel??e.label,validation:`number|between:0,100|${e.validation}`,placeholder:"Value in %",modelValue:e.percentageFieldValue,"onUpdate:modelValue":t[0]||(t[0]=m=>e.percentageFieldValue=m),innerClass:e.innerClass},null,8,["name","validation-label","validation","modelValue","innerClass"])])}const Ae=D(Zo,[["render",ti]]),ni=C({name:"StringBadgeListFormField",components:{PrimeButton:V,FormKit:T,UploadFormHeader:E},data(){return{listOfElementsString:"",listOfElements:[]}},props:{...R,dataTestAddButton:{type:String,default:"addButton"},dataTestListInput:{type:String,default:"listOfElementsInput"}},methods:{removeItem(e){this.listOfElements&&(this.listOfElements=this.listOfElements.filter(t=>t!==e))},addNewItems(){const e=this.listOfElementsString.split(",").map(t=>t.trim()).filter(t=>t!=="");this.listOfElements=[...new Set([...this.listOfElements,...e])],this.listOfElementsString=""}}}),ai={class:"form-field"},oi={class:"flex justify-content-between"},ii={class:""},ri=["onClick"];function si(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("PrimeButton"),m=c("FormKit");return s(),u("div",ai,[i("div",oi,[o(r,{label:e.label,description:e.description},null,8,["label","description"]),o(p,{disabled:e.listOfElementsString==="",onClick:t[0]||(t[0]=f=>e.addNewItems()),"data-test":e.dataTestAddButton,label:"Add",class:"p-button-text",icon:"pi pi-plus"},null,8,["disabled","data-test"])]),o(m,{"data-test":e.dataTestListInput,type:"text",ignore:!0,modelValue:e.listOfElementsString,"onUpdate:modelValue":t[1]||(t[1]=f=>e.listOfElementsString=f),placeholder:"Add comma (,) for more than one value"},null,8,["data-test","modelValue"]),e.listOfElementsString.length>0?(s(),F(m,{key:0,type:"text",modelValue:e.listOfElementsString,"onUpdate:modelValue":t[2]||(t[2]=f=>e.listOfElementsString=f),validation:"length:0,0","validation-visibility":"live","validation-messages":{length:"Please add the entered value via pressing the add button or empty the field."},"outer-class":"hidden-input"},null,8,["modelValue","validation-messages"])):I("",!0),o(m,{modelValue:e.listOfElements,"onUpdate:modelValue":t[3]||(t[3]=f=>e.listOfElements=f),type:"list",name:e.name},null,8,["modelValue","name"]),i("div",ii,[(s(!0),u(S,null,A(e.listOfElements,f=>(s(),u("span",{class:"form-list-item",key:f},[X(w(f)+" ",1),i("em",{onClick:h=>e.removeItem(f),class:"material-icons"},"close",8,ri)]))),128))])])}const qt=D(ni,[["render",si]]),li=C({name:"ProductFormElement",components:{InputTextFormField:oe,FreeTextFormField:Ke,StringBadgeListFormField:qt}}),di={"data-test":"productFormElement"};function ci(e,t,n,a,d,l){const r=c("InputTextFormField"),p=c("StringBadgeListFormField"),m=c("FreeTextFormField");return s(),u("div",di,[o(r,{name:"name",label:"Product Name",description:"Please state the name of the important manufactured/distributed/offered product or service",required:!0,validation:"required"}),o(p,{name:"productionSteps",label:"Production Steps",description:"Please give a brief overview of the production steps/activities","data-test-add-button":"addProductionStep"}),o(m,{name:"relatedCorporateSupplyChain",label:"Related Corporate Supply Chain",description:"Please give an overview of the related corporate supply chain(s) and key business relationships (by procurement or order volume) (own operations)"})])}const ui=D(li,[["render",ci]]),pi=C({name:"FinancialShareFormField",components:{SingleSelectFormElement:_t,FormKit:T,UploadFormHeader:E},data(){return{countryCodeOptions:U(K.CurrencyCodes)}},props:{...R}}),mi={class:"mb-3 form-field"},fi={class:"next-to-each-other"};function hi(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit"),m=c("SingleSelectFormElement");return s(),F(p,{type:"group",name:e.name},{default:y(()=>[i("div",mi,[o(r,{label:e.label,description:e.description??"","is-required":e.required},null,8,["label","description","is-required"]),i("div",fi,[o(p,{type:"text",name:"relativeShareInPercent","validation-label":"Relative Value",validation:"number|between:0,100",placeholder:"Relative Value in %","outer-class":"short","data-test":"relativeShareInPercent"}),o(p,{type:"group",name:"absoluteShare"},{default:y(()=>[o(p,{type:"text",name:"amount","validation-label":"Absolute Value",validation:"number",placeholder:"Absolute Value","outer-class":"short","data-test":"absoluteShareAmount"}),o(m,{name:"currency","validation-label":"Currency",placeholder:"Currency",options:e.countryCodeOptions,"data-test":"absoluteShareCurrency"},null,8,["options"])]),_:1})])])]),_:1},8,["name"])}const it=D(pi,[["render",hi]]),yi=C({name:"UploadFormSubcategoryHeader",directives:{tooltip:qe},props:{label:{type:String,required:!0},description:{type:String,required:!0},isRequired:{type:Boolean,default:!1},propClass:{type:String,default:""}}}),gi={class:"p-0 mx-0 mt-0 mb-3"},bi={key:0,class:"asterisk"},vi=["title"];function Fi(e,t,n,a,d,l){const r=Xe("tooltip");return s(),u("div",{class:O([e.propClass,"form-field-label"])},[i("p",gi,w(e.label),1),e.isRequired?(s(),u("span",bi,"*")):I("",!0),e.description!==""?L((s(),u("em",{key:1,class:"material-icons info-icon","aria-hidden":"true",title:e.label},[X("info")],8,vi)),[[r,{value:e.description},void 0,{top:!0}]]):I("",!0)],2)}const Mt=D(yi,[["render",Fi]]),Ci=C({name:"ObjectivesFormField",components:{UploadFormHeader:E,YesNoFormField:z,UploadFormSubcategoryHeader:Mt},data(){return{objectives:[{name:"Climate change mitigation",key:"ClimateChangeMitigation"},{name:"Climate change adaptation",key:"ClimateChangeAdaption"},{name:"Sustainable use and protection of water and marine resources",key:"SustainableUseAndProtectionOfWaterAndMarineResources"},{name:"Transition to a circular economy",key:"TransitionToACircularEconomy"},{name:"Pollution prevention and control",key:"PollutionPreventionAndControl"},{name:"Protection and restoration of biodiversity and ecosystems",key:"ProtectionAndRestorationOfBiodiversityAndEcosystems"}]}}});function Di(e,t,n,a,d,l){const r=c("UploadFormSubcategoryHeader"),p=c("UploadFormHeader"),m=c("FormKit"),f=c("YesNoFormField");return s(),u(S,null,[o(r,{label:"Substantial Contribution",description:"Grade of the substantial contribution criterias fulfillment"}),(s(!0),u(S,null,A(e.objectives,h=>(s(),u("div",{key:h.name},[o(p,{label:"Substantial Contribution to "+h.name,description:"","is-required":!1},null,8,["label"]),o(m,{type:"text",name:"substantialContributionTo"+h.key+"InPercent","validation-label":h.name,validation:"number|between:0,100",placeholder:"Relative Value in %","outer-class":"short"},null,8,["name","validation-label"])]))),128)),o(r,{propClass:"header-separator",label:"DNSH",description:"Is no significant harm done to the criterion by this activity."}),(s(!0),u(S,null,A(e.objectives,h=>(s(),u("div",{key:h.name},[o(f,{name:"dnshTo"+h.key,description:"",label:"Do no significant harm (dnsh) to "+h.name},null,8,["name","label"])]))),128))],64)}const Si=D(Ci,[["render",Di]]);var Pi={root:function(t){var n=t.instance,a=t.props;return["p-radiobutton p-component",{"p-radiobutton-checked":n.checked,"p-radiobutton-disabled":a.disabled,"p-radiobutton-focused":n.focused}]},input:function(t){var n=t.instance,a=t.props;return["p-radiobutton-box",{"p-highlight":n.checked,"p-disabled":a.disabled,"p-focus":n.focused}]},icon:"p-radiobutton-icon"},Ii={name:"BaseRadioButton",extends:he,props:{value:null,modelValue:null,name:{type:String,default:null},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:Pi},provide:function(){return{$parentInstance:this}}},Vt={name:"RadioButton",extends:Ii,emits:["click","update:modelValue","change","focus","blur"],data:function(){return{focused:!1}},methods:{onClick:function(t){this.disabled||(this.$emit("click",t),this.$emit("update:modelValue",this.value),this.$refs.input.focus(),this.checked||this.$emit("change",t))},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked:function(){return this.modelValue!=null&&$e.equals(this.modelValue,this.value)}}};function me(e){"@babel/helpers - typeof";return me=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},me(e)}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(a){Ai(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function Ai(e,t,n){return t=wi(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e){var t=ki(e,"string");return me(t)==="symbol"?t:String(t)}function ki(e,t){if(me(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(me(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei=["id","name","checked","disabled","value","aria-labelledby","aria-label"],Ti=["data-p-highlight","data-p-disabled","data-p-focused"];function $i(e,t,n,a,d,l){return s(),u("div",k({class:e.cx("root"),onClick:t[2]||(t[2]=function(r){return l.onClick(r)})},e.ptm("root"),{"data-pc-name":"radiobutton"}),[i("div",k({class:"p-hidden-accessible"},e.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[i("input",k({ref:"input",id:e.inputId,type:"radio",name:e.name,checked:l.checked,disabled:e.disabled,value:e.value,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(){return l.onFocus&&l.onFocus.apply(l,arguments)}),onBlur:t[1]||(t[1]=function(){return l.onBlur&&l.onBlur.apply(l,arguments)})},e.ptm("hiddenInput")),null,16,Ei)],16),i("div",k({ref:"box",class:[e.cx("input"),e.inputClass],style:e.inputStyle},gt(gt({},e.inputProps),e.ptm("input")),{"data-p-highlight":l.checked,"data-p-disabled":e.disabled,"data-p-focused":d.focused}),[i("div",k({class:e.cx("icon")},e.ptm("icon")),null,16)],16,Ti)],16)}Vt.render=$i;const Ni=[{name:"Forestry",key:"1",sector:"Forestry",type:"header",children:[{name:"Afforestation",value:"Afforestation",key:"1.1",sector:"Forestry",type:"child",naceCodes:["A2"]},{name:"Rehabilitation and restoration of forests, including reforestation and natural forest regeneration after an extreme event",value:"RehabilitationAndRestorationOfForestsIncludingReforestationAndNaturalForestRegenerationAfterAnExtremeEvent",key:"1.2",sector:"Forestry",type:"child",naceCodes:["A2"]},{name:"Forest management",value:"ForestManagement",key:"1.3",sector:"Forestry",type:"child",naceCodes:["A2"]},{name:"Conservation forestry",value:"ConservationForestry",key:"1.4",sector:"Forestry",type:"child",naceCodes:["A2"]}]},{name:"Environmental protection and restoration activities",key:"2",sector:"Environmental protection and restoration activities",type:"header",children:[{name:"Restoration of wetlands",value:"RestorationOfWetlands",key:"2.1",sector:"Environmental protection and restoration activities",type:"child"}]},{name:"Manufacturing",key:"3",sector:"Manufacturing",type:"header",children:[{name:"Manufacture of renewable energy technologies",value:"ManufactureOfRenewableEnergyTechnologies",key:"3.1",sector:"Manufacturing",type:"child",naceCodes:["C25","C27","C28"]},{name:"Manufacture of equipment for the production and use of hydrogen",value:"ManufactureOfEquipmentForTheProductionAndUseOfHydrogen",key:"3.2",sector:"Manufacturing",type:"child",naceCodes:["C25","C27","C28"]},{name:"Manufacture of low carbon technologies for transport",value:"ManufactureOfLowCarbonTechnologiesForTransport",key:"3.3",sector:"Manufacturing",type:"child",naceCodes:["C29.1","C30.1","C30.2","C30.9","C33.15","C33.17"]},{name:"Manufacture of batteries",value:"ManufactureOfBatteries",key:"3.4",sector:"Manufacturing",type:"child",naceCodes:["C27.2","E38.32"]},{name:"Manufacture of energy efficiency equipment for buildings",value:"ManufactureOfEnergyEfficiencyEquipmentForBuildings",key:"3.5",sector:"Manufacturing",type:"child",naceCodes:["C16.23","C23.11","C23.20","C23.31","C23.32","C23.43","C23.61","C25.11","C25.12","C25.21","C25.29","C25.93","C27.31","C27.32","C27.33","C27.40","C27.51","C28.11","C28.12","C28.13","C28.14"]},{name:"Manufacture of other low carbon technologies",value:"ManufactureOfOtherLowCarbonTechnologies",key:"3.6",sector:"Manufacturing",type:"child",naceCodes:["C22","C25","C26","C27","C28"]},{name:"Manufacture of cement",value:"ManufactureOfCement",key:"3.7",sector:"Manufacturing",type:"child",naceCodes:["C23.51"]},{name:"Manufacture of aluminium",value:"ManufactureOfAluminium",key:"3.8",sector:"Manufacturing",type:"child",naceCodes:["C24.42","C24.53"]},{name:"Manufacture of iron and steel",value:"ManufactureOfIronAndSteel",key:"3.9",sector:"Manufacturing",type:"child",naceCodes:["C24.10","C24.20","C24.31","C24.32","C24.33","C24.34","C24.51","C24.52"]},{name:"Manufacture of hydrogen",value:"ManufactureOfHydrogen",key:"3.10",sector:"Manufacturing",type:"child",naceCodes:["C20.11"]},{name:"Manufacture of carbon black",value:"ManufactureOfCarbonBlack",key:"3.11",sector:"Manufacturing",type:"child",naceCodes:["C20.13"]},{name:"Manufacture of soda ash",value:"ManufactureOfSodaAsh",key:"3.12",sector:"Manufacturing",type:"child",naceCodes:["C20.13"]},{name:"Manufacture of chlorine",value:"ManufactureOfChlorine",key:"3.13",sector:"Manufacturing",type:"child",naceCodes:["C20.13"]},{name:"Manufacture of organic basic chemicals",value:"ManufactureOfOrganicBasicChemicals",key:"3.14",sector:"Manufacturing",type:"child",naceCodes:["C20.14"]},{name:"Manufacture of anhydrous ammonia",value:"ManufactureOfAnhydrousAmmonia",key:"3.15",sector:"Manufacturing",type:"child",naceCodes:["C20.15"]},{name:"Manufacture of nitric acid",value:"ManufactureOfNitricAcid",key:"3.16",sector:"Manufacturing",type:"child",naceCodes:["C20.15"]},{name:"Manufacture of plastics in primary form",value:"ManufactureOfPlasticsInPrimaryForm",key:"3.17",sector:"Manufacturing",type:"child",naceCodes:["C20.16"]}]},{name:"Energy",key:"4",sector:"Energy",type:"header",children:[{name:"Electricity generation using solar photovoltaic technology",value:"ElectricityGenerationUsingSolarPhotovoltaicTechnology",key:"4.1",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation using concentrated solar power (CSP) technology",value:"ElectricityGenerationUsingConcentratedSolarPowerCspTechnology",key:"4.2",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from wind power",value:"ElectricityGenerationFromWindPower",key:"4.3",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from ocean energy technologies",value:"ElectricityGenerationFromOceanEnergyTechnologies",key:"4.4",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from hydropower",value:"ElectricityGenerationFromHydropower",key:"4.5",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from geothermal energy",value:"ElectricityGenerationFromGeothermalEnergy",key:"4.6",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from renewable non-fossil gaseous and liquid fuels",value:"ElectricityGenerationFromRenewableNonFossilGaseousAndLiquidFuels",key:"4.7",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from bioenergy",value:"ElectricityGenerationFromBioenergy",key:"4.8",sector:"Energy",type:"child",naceCodes:["D35.11"]},{name:"Transmission and distribution of electricity",value:"TransmissionAndDistributionOfElectricity",key:"4.9",sector:"Energy",type:"child",naceCodes:["D35.12","D35.13"]},{name:"Storage of electricity",value:"StorageOfElectricity",key:"4.10",sector:"Energy",type:"child"},{name:"Storage of thermal energy",value:"StorageOfThermalEnergy",key:"4.11",sector:"Energy",type:"child"},{name:"Storage of hydrogen",value:"StorageOfHydrogen",key:"4.12",sector:"Energy",type:"child"},{name:"Manufacture of biogas and biofuels for use in transport and of bioliquids",value:"ManufactureOfBiogasAndBiofuelsForUseInTransportAndOfBioliquids",key:"4.13",sector:"Energy",type:"child",naceCodes:["D35.21"]},{name:"Transmission and distribution networks for renewable and low-carbon gases",value:"TransmissionAndDistributionNetworksForRenewableAndLowCarbonGases",key:"4.14",sector:"Energy",type:"child",naceCodes:["D35.22","F42.21","H49.50"]},{name:"District heating/cooling distribution",value:"DistrictHeatingCoolingDistribution",key:"4.15",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Installation and operation of electric heat pumps",value:"InstallationAndOperationOfElectricHeatPumps",key:"4.16",sector:"Energy",type:"child",naceCodes:["D35.30","F43.22"]},{name:"Cogeneration of heat/cool and power from solar energy",value:"CogenerationOfHeatCoolAndPowerFromSolarEnergy",key:"4.17",sector:"Energy",type:"child",naceCodes:["D35.11","D35.30"]},{name:"Cogeneration of heat/cool and power from geothermal energy",value:"CogenerationOfHeatCoolAndPowerFromGeothermalEnergy",key:"4.18",sector:"Energy",type:"child",naceCodes:["D35.11","D35.30"]},{name:"Cogeneration of heat/cool and power from renewable non-fossil gaseous and liquid fuels",value:"CogenerationOfHeatCoolAndPowerFromRenewableNonFossilGaseousAndLiquidFuels",key:"4.19",sector:"Energy",type:"child",naceCodes:["D35.11","D35.30"]},{name:"Cogeneration of heat/cool and power from bioenergy",value:"CogenerationOfHeatCoolAndPowerFromBioenergy",key:"4.20",sector:"Energy",type:"child",naceCodes:["D35.11","D35.30"]},{name:"Production of heat/cool from solar thermal heating",value:"ProductionOfHeatCoolFromSolarThermalHeating",key:"4.21",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Production of heat/cool from geothermal energy",value:"ProductionOfHeatCoolFromGeothermalEnergy",key:"4.22",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Production of heat/cool from renewable non-fossil gaseous and liquid fuels",value:"ProductionOfHeatCoolFromRenewableNonFossilGaseousAndLiquidFuels",key:"4.23",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Production of heat/cool from bioenergy",value:"ProductionOfHeatCoolFromBioenergy",key:"4.24",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Production of heat/cool using waste heat",value:"ProductionOfHeatCoolUsingWasteHeat",key:"4.25",sector:"Energy",type:"child",naceCodes:["D35.30"]},{name:"Pre-commercial stages of advanced technologies to produce energy from nuclear processes with minimal waste from the fuel cycle",value:"PreCommercialStagesOfAdvancedTechnologiesToProduceEnergyFromNuclearProcessesWithMinimalWasteFromTheFuelCycle",key:"4.26",sector:"Energy",type:"child",naceCodes:["M72","M72.1"]},{name:"Construction and safe operation of new nuclear power plants, for the generation of electricity and/or heat, including for hydrogen production, using best-available technologies",value:"ConstructionAndSafeOperationOfNewNuclearPowerPlantsForTheGenerationOfElectricityAndOrHeatIncludingForHydrogenProductionUsingBestAvailableTechnologies",key:"4.27",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from nuclear energy in existing installations",value:"ElectricityGenerationFromNuclearEnergyInExistingInstallations",key:"4.28",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"Electricity generation from fossil gaseous fuels",value:"ElectricityGenerationFromFossilGaseousFuels",key:"4.29",sector:"Energy",type:"child",naceCodes:["D35.11","F42.22"]},{name:"High-efficiency co-generation of heat/cool and power from fossil gaseous fuels",value:"HighEfficiencyCoGenerationOfHeatCoolAndPowerFromFossilGaseousFuels",key:"4.30",sector:"Energy",type:"child",naceCodes:["D35.11","D35.30"]},{name:"Production of heat/cool from fossil gaseous fuels in an efficient district heating and cooling system",value:"ProductionOfHeatCoolFromFossilGaseousFuelsInAnEfficientDistrictHeatingAndCoolingSystem",key:"4.31",sector:"Energy",type:"child",naceCodes:["D35.30"]}]},{name:"Water supply, sewerage, waste management and remediation",key:"5",sector:"Water supply, sewerage, waste management and remediation",type:"header",children:[{name:"Construction, extension and operation of water collection, treatment and supply systems",value:"ConstructionExtensionAndOperationOfWaterCollectionTreatmentAndSupplySystems",key:"5.1",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E36.00","F42.99"]},{name:"Renewal of water collection, treatment and supply systems",value:"RenewalOfWaterCollectionTreatmentAndSupplySystems",key:"5.2",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E36.00","F42.99"]},{name:"Construction, extension and operation of waste water collection and treatment",value:"ConstructionExtensionAndOperationOfWasteWaterCollectionAndTreatment",key:"5.3",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E37.00","F42.99"]},{name:"Renewal of waste water collection and treatment",value:"RenewalOfWasteWaterCollectionAndTreatment",key:"5.4",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E37.00"]},{name:"Collection and transport of non-hazardous waste in source segregated fractions",value:"CollectionAndTransportOfNonHazardousWasteInSourceSegregatedFractions",key:"5.5",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E38.11"]},{name:"Anaerobic digestion of sewage sludge",value:"AnaerobicDigestionOfSewageSludge",key:"5.6",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E37.00","F42.99"]},{name:"Anaerobic digestion of bio-waste",value:"AnaerobicDigestionOfBioWaste",key:"5.7",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E38.21","F42.99"]},{name:"Composting of bio-waste",value:"CompostingOfBioWaste",key:"5.8",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E38.21","F42.99"]},{name:"Material recovery from non-hazardous waste",value:"MaterialRecoveryFromNonHazardousWaste",key:"5.9",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E38.32","F42.99"]},{name:"Landfill gas capture and utilisation",value:"LandfillGasCaptureAndUtilisation",key:"5.10",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E38.21"]},{name:"Transport of CO2",value:"TransportOfCo2",key:"5.11",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["F42.21","H49.50"]},{name:"Underground permanent geological storage of CO2",value:"UndergroundPermanentGeologicalStorageOfCo2",key:"5.12",sector:"Water supply, sewerage, waste management and remediation",type:"child",naceCodes:["E39.00"]}]},{name:"Transport",key:"6",sector:"Transport",type:"header",children:[{name:"Passenger interurban rail transport",value:"PassengerInterurbanRailTransport",key:"6.1",sector:"Transport",type:"child",naceCodes:["H49.10","N77.39"]},{name:"Freight rail transport",value:"FreightRailTransport",key:"6.2",sector:"Transport",type:"child",naceCodes:["H49.20","N77.39"]},{name:"Urban and suburban transport, road passenger transport",value:"UrbanAndSuburbanTransportRoadPassengerTransport",key:"6.3",sector:"Transport",type:"child",naceCodes:["H49.31","H49.3.9","N77.39","N77.11"]},{name:"Operation of personal mobility devices, cycle logistics",value:"OperationOfPersonalMobilityDevicesCycleLogistics",key:"6.4",sector:"Transport",type:"child",naceCodes:["N77.11","N77.21"]},{name:"Transport by motorbikes, passenger cars and light commercial vehicles",value:"TransportByMotorbikesPassengerCarsAndLightCommercialVehicles",key:"6.5",sector:"Transport",type:"child",naceCodes:["H49.32","H49.39","N77.11"]},{name:"Freight transport services by road",value:"FreightTransportServicesByRoad",key:"6.6",sector:"Transport",type:"child",naceCodes:["H49.4.1","H53.10","H53.20","N77.12"]},{name:"Inland passenger water transport",value:"InlandPassengerWaterTransport",key:"6.7",sector:"Transport",type:"child",naceCodes:["H50.30"]},{name:"Inland freight water transport",value:"InlandFreightWaterTransport",key:"6.8",sector:"Transport",type:"child",naceCodes:["H50.4"]},{name:"Retrofitting of inland water passenger and freight transport",value:"RetrofittingOfInlandWaterPassengerAndFreightTransport",key:"6.9",sector:"Transport",type:"child",naceCodes:["H50.4","H50.30","C33.15"]},{name:"Sea and coastal freight water transport, vessels for port operations and auxiliary activities",value:"SeaAndCoastalFreightWaterTransportVesselsForPortOperationsAndAuxiliaryActivities",key:"6.10",sector:"Transport",type:"child",naceCodes:["H50.2","H52.22","N77.34"]},{name:"Sea and coastal passenger water transport",value:"SeaAndCoastalPassengerWaterTransport",key:"6.11",sector:"Transport",type:"child",naceCodes:["H50.10","N77.21","N77.34"]},{name:"Retrofitting of sea and coastal freight and passenger water transport",value:"RetrofittingOfSeaAndCoastalFreightAndPassengerWaterTransport",key:"6.12",sector:"Transport",type:"child",naceCodes:["H50.10","H50.2","H52.22","C33.15","N77.21"]},{name:"Infrastructure for personal mobility, cycle logistics",value:"InfrastructureForPersonalMobilityCycleLogistics",key:"6.13",sector:"Transport",type:"child",naceCodes:["F42.11","F42.12","F42.13","F43.21","F711","F71.20"]},{name:"Infrastructure for rail transport",value:"InfrastructureForRailTransport",key:"6.14",sector:"Transport",type:"child",naceCodes:["F42.12","F42.13","M71.12","M71.20","F43.21","H52.21"]},{name:"Infrastructure enabling low-carbon road transport and public transport",value:"InfrastructureEnablingLowCarbonRoadTransportAndPublicTransport",key:"6.15",sector:"Transport",type:"child",naceCodes:["F42.11","F42.13","F71.1","F71.20"]},{name:"Infrastructure enabling low carbon water transport",value:"InfrastructureEnablingLowCarbonWaterTransport",key:"6.16",sector:"Transport",type:"child",naceCodes:["F42.91","F71.1","F71.20"]},{name:"Low carbon airport infrastructure",value:"LowCarbonAirportInfrastructure",key:"6.17",sector:"Transport",type:"child",naceCodes:["F41.20","F42.99"]},{name:"Infrastructure enabling road transport and public transport",value:"InfrastructureEnablingRoadTransportAndPublicTransport",key:"6.18",sector:"Transport",type:"child",naceCodes:["F42.11","F42.13","F71.1","F71.20"]},{name:"Infrastructure for water transport",value:"InfrastructureForWaterTransport",key:"6.19",sector:"Transport",type:"child",naceCodes:["F42.91","F71.1","F71.20"]},{name:"Airport infrastructure",value:"AirportInfrastructure",key:"6.20",sector:"Transport",type:"child",naceCodes:["F41.20","F42.99"]}]},{name:"Construction and real estate",key:"7",sector:"Construction and real estate",type:"header",children:[{name:"Construction of new buildings",value:"ConstructionOfNewBuildings",key:"7.1",sector:"Construction and real estate",type:"child",naceCodes:["F41.1","F41.2","F43"]},{name:"Renovation of existing buildings",value:"RenovationOfExistingBuildings",key:"7.2",sector:"Construction and real estate",type:"child",naceCodes:["F41","F43"]},{name:"Installation, maintenance and repair of energy efficiency equipment",value:"InstallationMaintenanceAndRepairOfEnergyEfficiencyEquipment",key:"7.3",sector:"Construction and real estate",type:"child",naceCodes:["F42","F43","M71","C16","C17","C22","C23","C25","C27","C28","S95.21","S95.22","C33.12"]},{name:"Installation, maintenance and repair of charging stations for electric vehicles in buildings (and parking spaces attached to buildings)",value:"InstallationMaintenanceAndRepairOfChargingStationsForElectricVehiclesInBuildingsAndParkingSpacesAttachedToBuildings",key:"7.4",sector:"Construction and real estate",type:"child",naceCodes:["F42","F43","M71","C16","C17","C22","C23","C25","C27","C28"]},{name:"Installation, maintenance and repair of instruments and devices for measuring, regulation and controlling energy performance of buildings",value:"InstallationMaintenanceAndRepairOfInstrumentsAndDevicesForMeasuringRegulationAndControllingEnergyPerformanceOfBuildings",key:"7.5",sector:"Construction and real estate",type:"child",naceCodes:["F42","F43","M71","C16","C17","C22","C23","C25","C27","C28"]},{name:"Installation, maintenance and repair of renewable energy technologies",value:"InstallationMaintenanceAndRepairOfRenewableEnergyTechnologies",key:"7.6",sector:"Construction and real estate",type:"child",naceCodes:["F42","F43","M71","C16","C17","C22","C23","C25","C27","C28"]},{name:"Acquisition and ownership of buildings",value:"AcquisitionAndOwnershipOfBuildings",key:"7.7",sector:"Construction and real estate",type:"child",naceCodes:["L68"]}]},{name:"Information and communication",key:"8",sector:"Information and communication",type:"header",children:[{name:"Data processing, hosting and related activities",value:"DataProcessingHostingAndRelatedActivities",key:"8.1",sector:"Information and communication",type:"child",naceCodes:["J63.11"]},{name:"Data-driven solutions for GHG emissions reductions",value:"DataDrivenSolutionsForGhgEmissionsReductions",key:"8.2",sector:"Information and communication",type:"child",naceCodes:["J61","J62","J63.11"]},{name:"Computer programming, consultancy and related activities",value:"ComputerProgrammingConsultancyAndRelatedActivities",key:"8.3",sector:"Information and communication",type:"child",naceCodes:["J62"]},{name:"Programming and broadcasting activities",value:"ProgrammingAndBroadcastingActivities",key:"8.4",sector:"Information and communication",type:"child",naceCodes:["J60"]}]},{name:"Professional, scientific and technical activities",key:"9",sector:"Professional, scientific and technical activities",type:"header",children:[{name:"Close to market research, development and innovation",value:"CloseToMarketResearchDevelopmentAndInnovation",key:"9.1",sector:"Professional, scientific and technical activities",type:"child",naceCodes:["M71.12","M72.1"]},{name:"Research, development and innovation for direct air capture of CO2",value:"ResearchDevelopmentAndInnovationForDirectAirCaptureOfCo2",key:"9.2",sector:"Professional, scientific and technical activities",type:"child",naceCodes:["M71.12","M72.1"]},{name:"Professional services related to energy performance of buildings",value:"ProfessionalServicesRelatedToEnergyPerformanceOfBuildings",key:"9.3",sector:"Professional, scientific and technical activities",type:"child",naceCodes:["M71"]},{name:"Engineering activities and related technical consultancy dedicated to adaptation to climate change",value:"EngineeringActivitiesAndRelatedTechnicalConsultancyDedicatedToAdaptationToClimateChange",key:"9.4",sector:"Professional, scientific and technical activities",type:"child",naceCodes:["M71.12"]}]},{name:"Financial and insurance activities",key:"10",sector:"Financial and insurance activities",type:"header",children:[{name:"Non-life insurance: underwriting of climate-related perils",value:"NonLifeInsuranceUnderwritingOfClimateRelatedPerils",key:"10.1",sector:"Financial and insurance activities",type:"child",naceCodes:["K65.12"]},{name:"Reinsurance",value:"Reinsurance",key:"10.2",sector:"Financial and insurance activities",type:"child",naceCodes:["K65.20"]}]},{name:"Education",key:"11",sector:"Education",type:"header",children:[{name:"Education",value:"Education",key:"11.1",sector:"Education",type:"child",naceCodes:["P85"]}]},{name:"Human health and social work activities",key:"12",sector:"Human health and social work activities",type:"header",children:[{name:"Residential care activities",value:"ResidentialCareActivities",key:"12.1",sector:"Human health and social work activities",type:"child",naceCodes:["Q87"]}]},{name:"Arts, entertainment and recreation",key:"13",sector:"Arts, entertainment and recreation",type:"header",children:[{name:"Creative, arts and entertainment activities",value:"CreativeArtsAndEntertainmentActivities",key:"13.1",sector:"Arts, entertainment and recreation",type:"child",naceCodes:["R90"]},{name:"Libraries, archives, museums and cultural activities",value:"LibrariesArchivesMuseumsAndCulturalActivities",key:"13.2",sector:"Arts, entertainment and recreation",type:"child",naceCodes:["R91"]},{name:"Motion picture, video and television programme production, sound recording and music publishing activities",value:"MotionPictureVideoAndTelevisionProgrammeProductionSoundRecordingAndMusicPublishingActivities",key:"13.3",sector:"Arts, entertainment and recreation",type:"child",naceCodes:["J59"]}]}],Oi=C({name:"ActivitySelector",components:{UploadFormSubcategoryHeader:Mt,MultiSelectFormField:Se,PrimeButton:V,Tree:at,OverlayPanel:wt,RadioButton:Vt},setup(){return{overlayPanel:Re()}},data:()=>({allActivities:Ni,selectedActivityValue:""}),computed:{selectedActivities(){var e;for(const t of this.allActivities)if((e=t==null?void 0:t.children)!=null&&e.length){for(const n of t.children)if(n.value===this.selectedActivityValue)return n}return{}},naceCodesForActivities(){var e,t,n;return(e=this.selectedActivities)!=null&&e.naceCodes?((t=this.$refs.multiSelectFormFieldRef)==null||t.$refs.multiSelectFormElementRef.clearSelections(),this.selectedActivities.naceCodes.map(a=>{const d=a.substring(1);return{label:Fn(d.length===1?`0${d}`:d),value:a}})):((n=this.$refs.multiSelectFormFieldRef)==null||n.$refs.multiSelectFormElementRef.clearSelections(),[])}},methods:{newActivitieSelected(e){var t;(t=this.overlayPanel)==null||t.hide(),this.selectedActivityValue=e.value},inputFocused(e){var t;(t=this.overlayPanel)==null||t.show(e)}}}),Ri={class:"form-field next-to-each-other"},_i={key:0},qi={class:"next-to-each-other -ml-5"},Mi=["for"],Vi={class:"my-4"};function Ui(e,t,n,a,d,l){const r=c("UploadFormSubcategoryHeader"),p=c("FormKit"),m=c("PrimeButton"),f=c("RadioButton"),h=c("Tree"),P=c("OverlayPanel"),v=c("MultiSelectFormField");return s(),u(S,null,[o(r,{label:"Activity Name",description:"Name of the activity."}),i("div",Ri,[e.selectedActivities.name?(s(),u("p",_i,[i("b",null,w(e.selectedActivities.name),1)])):I("",!0),o(p,{type:"hidden",name:"activityName",modelValue:e.selectedActivityValue,"onUpdate:modelValue":t[0]||(t[0]=g=>e.selectedActivityValue=g)},null,8,["modelValue"]),o(m,{"data-test":"dataTestChooseActivityButton",label:e.selectedActivities.name?"Change Activity":"Choose Activity",class:"p-button-text p-0 m-0",icon:e.selectedActivities?"pi pi-pencil":"pi pi-list",onFocus:e.inputFocused},null,8,["label","icon","onFocus"])]),o(P,{ref:"overlayPanel","data-test":"activityOverlayPanel"},{default:y(()=>[i("div",null,[o(h,{value:e.allActivities,class:"w-full md:w-30rem",placeholder:"Select Activitie"},{default:y(g=>[i("b",null,w(g.node.name),1)]),child:y(g=>[i("span",qi,[o(f,{modelValue:e.selectedActivities,inputId:g.node.reference,name:"selectedActivities",value:g.node,"onUpdate:modelValue":t[1]||(t[1]=b=>e.newActivitieSelected(b))},null,8,["modelValue","inputId","value"]),i("label",{for:g.node.key,class:"ml-2"},w(g.node.name),9,Mi)])]),_:1},8,["value"])])]),_:1},512),i("div",Vi,[o(v,{ref:"multiSelectFormFieldRef",dataTest:"selectNaceCodes",name:"naceCodes",emptyMessage:`No NACE code available for ${e.selectedActivities.name} Activity`,validation:e.naceCodesForActivities.length?"required":"","validation-label":"NACE codes for Activity",description:"The NACE codes associated with this activity",label:"NACE codes",placeholder:e.selectedActivityValue?"Chose NACE codes for Activity":"Please select an activity before selecting NACE code",options:e.naceCodesForActivities,innerClass:"long"},null,8,["emptyMessage","validation","placeholder","options"])])],64)}const Ut=D(Oi,[["render",Ui]]),Ki=C({name:"AlignedActivitiesFormElements",components:{YesNoFormField:z,ActivitySelector:Ut,FinancialShareFormField:it,ObjectivesFormField:Si}}),Bi={"data-test":"activityFormElement"},Li={class:"header-separator"};function Yi(e,t,n,a,d,l){const r=c("ActivitySelector"),p=c("FinancialShareFormField"),m=c("ObjectivesFormField"),f=c("YesNoFormField");return s(),u("div",Bi,[o(r),o(p,{name:"share",label:"Share",description:"Relative and absolute share of the underlying cash flow"}),o(m),i("div",Li,[o(f,{name:"minimumSafeguards",description:"Are minimum social safeguards fulfilled?",label:"Minimum Social Safeguards"})])])}const Hi=D(Ki,[["render",Yi]]),ji=C({name:"NonAlignedActivitiesFormElement",components:{ActivitySelector:Ut,FinancialShareFormField:it}}),Gi={"data-test":"activityFormElement"},Wi={class:"form-field"};function xi(e,t,n,a,d,l){const r=c("ActivitySelector"),p=c("FinancialShareFormField");return s(),u("div",Gi,[o(r),i("div",Wi,[o(p,{name:"share"})])])}const zi=D(ji,[["render",xi]]),Qi=C({name:"ProductionSiteFormElement",components:{StringBadgeListFormField:qt,InputTextFormField:oe,AddressFormField:Ye}});function Ji(e,t,n,a,d,l){const r=c("InputTextFormField"),p=c("AddressFormField"),m=c("StringBadgeListFormField");return s(),u(S,null,[o(r,{name:"nameOfProductionSite",description:"Please state the name of the production site.",label:"Production Site"}),o(p,{"data-test":"AddressFormField",name:"addressOfProductionSite",description:"Please state the address of the production site.",label:"Production Site Address",validation:"required"}),o(m,{name:"listOfGoodsOrServices",label:"Lists of Goods or Services",description:"Provide List of Goods or Services","data-test-list-input":"listOfGoodsOrServices"})],64)}const Xi=D(Qi,[["render",Ji]]),Zi=C({name:"FormListFormField",components:{UploadFormHeader:E,ProductFormElement:ui,ProductionSiteFormElement:Xi,AlignedActivitiesFormElements:Hi,NonAlignedActivitiesFormElement:zi,FormKit:T,PrimeButton:V},data(){return{existingElements:[],listOfElementIds:this.displayOneSubFormPerDefault?[0]:[],idCounter:0}},props:{...R,subFormComponent:{type:String,required:!0},displayOneSubFormPerDefault:{type:Boolean,default:!1},dataTestAddButton:{type:String,default:"addButton"},labelAddButton:{type:String,default:"ADD NEW"},dataTestRemoveButton:{type:String,default:"removeButton"},dataTestSubForm:{type:String,default:"subForm"}},mounted(){for(let e=this.displayOneSubFormPerDefault?1:0;e<this.existingElements.length;e++)this.addItem()},methods:{addItem(){this.idCounter++,this.listOfElementIds.push(this.idCounter)},removeItem(e){this.listOfElementIds=this.listOfElementIds.filter(t=>t!==e)}}}),er={class:"form-field"},tr=["data-test"],nr=["data-test","onClick"];function ar(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit"),m=c("PrimeButton");return s(),u("div",er,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{type:"list",name:e.name,label:e.label,validation:e.validation,"validation-label":e.validationLabel,modelValue:e.existingElements,"onUpdate:modelValue":t[0]||(t[0]=f=>e.existingElements=f)},{default:y(()=>[(s(!0),u(S,null,A(e.listOfElementIds,f=>(s(),F(p,{type:"group",key:f},{default:y(()=>[i("div",{"data-test":e.dataTestSubForm,class:"formListSection"},[i("em",{"data-test":e.dataTestRemoveButton,onClick:h=>e.removeItem(f),class:"material-icons close-section"},"close",8,nr),(s(),F(M(e.subFormComponent)))],8,tr)]),_:2},1024))),128)),o(m,{"data-test":e.dataTestAddButton,label:e.labelAddButton,class:"p-button-text",icon:"pi pi-plus",onClick:e.addItem},null,8,["data-test","label","onClick"])]),_:1},8,["name","label","validation","validation-label","modelValue"])])}const je=D(Zi,[["render",ar]]),or=C({name:"ProductionSitesFormField",props:R,components:{FormListFormField:je}});function ir(e,t,n,a,d,l){const r=c("FormListFormField");return s(),F(r,{name:e.name,label:e.label,description:e.description,required:e.required,validation:e.validation,"validation-label":e.validationLabel,"display-one-sub-form-per-default":"","sub-form-component":"ProductionSiteFormElement","data-test-add-button":"addNewProductionSiteButton","label-add-button":"ADD NEW Production Site","data-test-sub-form":"productionSiteSection","data-test-remove-button":"removeItemFromListOfProductionSites"},null,8,["name","label","description","required","validation","validation-label"])}const Kt=D(or,[["render",ir]]);function Bt(e,t,n,a,d){const l=e-t,r=a*(l/d)+n;window.scrollTo(0,r),l<d&&requestAnimationFrame(p=>Bt(p,t,n,a,d))}function we(e){const n=document.querySelector(e).getBoundingClientRect().top,a=window.scrollY,d=100,r=a+n-d-a,p=300+Math.abs(r)/10;requestAnimationFrame(m=>{Bt(m,m,a,r,p)})}const rr=C({name:"MostImportantProductsFormField",props:R,components:{FormListFormField:je}});function sr(e,t,n,a,d,l){const r=c("FormListFormField");return s(),F(r,{name:e.name,label:e.label,description:e.description,required:e.required,validation:e.validation,"validation-label":e.validationLabel,"sub-form-component":"ProductFormElement","data-test-add-button":"addNewProductButton","label-add-button":"ADD NEW Product","data-test-sub-form":"productSection"},null,8,["name","label","description","required","validation","validation-label"])}const Lt=D(rr,[["render",sr]]);var Yt=(e=>(e.Products="Products",e.RawMaterials="RawMaterials",e.Services="Services",e))(Yt||{}),lr=`
.p-inputswitch {
    display: inline-block;
}

.p-inputswitch-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1px solid transparent;
}

.p-inputswitch-slider:before {
    position: absolute;
    content: '';
    top: 50%;
}
`,dr={root:{position:"relative"}},cr={root:function(t){var n=t.instance,a=t.props;return["p-inputswitch p-component",{"p-inputswitch-checked":n.checked,"p-disabled":a.disabled,"p-focus":n.focused}]},slider:"p-inputswitch-slider"},ur=Pt(lr,{name:"inputswitch",manual:!0}),pr=ur.load,mr={name:"BaseInputSwitch",extends:he,props:{modelValue:{type:null,default:!1},trueValue:{type:null,default:!0},falseValue:{type:null,default:!1},disabled:{type:Boolean,default:!1},inputId:{type:String,default:null},inputClass:{type:[String,Object],default:null},inputStyle:{type:Object,default:null},inputProps:{type:null,default:null},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},css:{classes:cr,inlineStyles:dr,loadStyle:pr},provide:function(){return{$parentInstance:this}}},Ge={name:"InputSwitch",extends:mr,emits:["click","update:modelValue","change","input","focus","blur"],data:function(){return{focused:!1}},methods:{onClick:function(t){if(!this.disabled){var n=this.checked?this.falseValue:this.trueValue;this.$emit("click",t),this.$emit("update:modelValue",n),this.$emit("change",t),this.$emit("input",n),this.$refs.input.focus()}},onFocus:function(t){this.focused=!0,this.$emit("focus",t)},onBlur:function(t){this.focused=!1,this.$emit("blur",t)}},computed:{checked:function(){return this.modelValue===this.trueValue}}};function fe(e){"@babel/helpers - typeof";return fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fe(e)}function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bt(Object(n),!0).forEach(function(a){fr(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}function fr(e,t,n){return t=hr(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hr(e){var t=yr(e,"string");return fe(t)==="symbol"?t:String(t)}function yr(e,t){if(fe(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t||"default");if(fe(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gr=["id","checked","disabled","aria-checked","aria-labelledby","aria-label"];function br(e,t,n,a,d,l){return s(),u("div",k({class:e.cx("root"),style:e.sx("root"),onClick:t[2]||(t[2]=function(r){return l.onClick(r)})},e.ptm("root"),{"data-pc-name":"inputswitch"}),[i("div",k({class:"p-hidden-accessible"},e.ptm("hiddenInputWrapper"),{"data-p-hidden-accessible":!0}),[i("input",k({ref:"input",id:e.inputId,type:"checkbox",role:"switch",class:e.inputClass,style:e.inputStyle,checked:l.checked,disabled:e.disabled,"aria-checked":l.checked,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,onFocus:t[0]||(t[0]=function(r){return l.onFocus(r)}),onBlur:t[1]||(t[1]=function(r){return l.onBlur(r)})},vt(vt({},e.inputProps),e.ptm("hiddenInput"))),null,16,gr)],16),i("span",k({class:e.cx("slider")},e.ptm("slider")),null,16)],16)}Ge.render=br;const vr=C({name:"MultiSelectFormElementBindData",components:{MultiSelect:Ze},emits:["update:selectedItemsBind"],computed:{selections:{get(){return this.selectedItemsBind},set(e){this.$emit("update:selectedItemsBind",e)}}},props:{...Et,selectedItemsBind:{type:Array,default:()=>[]}}});function Fr(e,t,n,a,d,l){const r=c("MultiSelect");return s(),F(r,{modelValue:e.selections,"onUpdate:modelValue":t[0]||(t[0]=p=>e.selections=p),options:e.options,placeholder:e.placeholder,"show-toggle-all":!1,class:O(e.innerClass),optionValue:e.optionValue,optionLabel:e.optionLabel,maxSelectedLabels:3},null,8,["modelValue","options","placeholder","class","optionValue","optionLabel"])}const Cr=D(vr,[["render",Fr]]),Dr=C({name:"MultiSelectFormFieldBindData",components:{MultiSelectFormElementBindData:Cr,UploadFormHeader:E},emits:["update:selectedItemsBindInternal"],computed:{internalSelections:{get(){return this.selectedItemsBindInternal},set(e){this.$emit("update:selectedItemsBindInternal",e)}}},props:{...Et,selectedItemsBindInternal:{type:Array,default:()=>[]}}}),Sr=["data-test"];function Pr(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("MultiSelectFormElementBindData");return s(),u("div",{class:"form-field","data-test":e.name},[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(p,{name:e.name,selectedItemsBind:e.internalSelections,"onUpdate:selectedItemsBind":t[0]||(t[0]=m=>e.internalSelections=m),validation:e.validation,"validation-label":e.validationLabel??e.label,placeholder:e.placeholder,options:e.options,"inner-class":e.innerClass,optionLabel:e.optionLabel,optionValue:e.optionValue},null,8,["name","selectedItemsBind","validation","validation-label","placeholder","options","inner-class","optionLabel","optionValue"])],8,Sr)}const Ir=D(Dr,[["render",Pr]]),Ar=C({name:"ProcurementCategoryFormElement",inject:{procurementCategories:{from:"procurementCategories",default:{}}},components:{InputSwitch:Ge,FormKit:T,UploadFormHeader:E,MultiSelectFormFieldBindData:Ir,PrimeButton:V,NaceCodeFormField:Ue,PercentageFormField:Ae},props:R,data(){return{isItActive:!!this.procurementCategories[this.name],procuredProductTypesAndServicesNaceCodesValue:[],percentageOfTotalProcurementValue:"",allCountries:U(K.CountryCodesIso2),selectedCountries:[],numberOfSuppliersPerCountryCodeValue:[],getCountryNameFromCountryCode:wn}},mounted(){this.procurementCategories[this.name]&&(this.selectedCountries=this.setPreSelectedCountries())},methods:{setPreSelectedCountries(){return this.allCountries.filter(e=>{var t,n;return(n=(t=this.procurementCategories[this.name])==null?void 0:t.numberOfSuppliersPerCountryCode)==null?void 0:n.hasOwnProperty(e.value)})},removeItemFromListOfSelectedCountries(e){this.selectedCountries=this.selectedCountries.filter(t=>e!==t.value)}}}),wr={class:"form-field"},kr={"data-test":"dataPointToggle",class:"form-field border-none vertical-middle"},Er={"data-test":"dataPointToggleTitle",class:"m-2"},Tr={"data-test":"ProcurementCategoryFormElementContent"},$r={class:"form-field border-none"},Nr={class:"form-field border-none"},Or={class:"form-field border-none"},Rr={class:"form-field border-none"},_r={class:"flex justify-content-between"},qr={class:"justify-content-between flex align-items-center","data-test":"supplierCountry"},Mr={class:"justify-content-end flex align-items-center"};function Vr(e,t,n,a,d,l){const r=c("InputSwitch"),p=c("NaceCodeFormField"),m=c("PercentageFormField"),f=c("MultiSelectFormFieldBindData"),h=c("UploadFormHeader"),P=c("FormKit"),v=c("PrimeButton");return s(),u("div",wr,[i("div",kr,[o(r,{"data-test":"dataPointToggleButton",inputId:"dataPointIsAvailableSwitch",modelValue:e.isItActive,"onUpdate:modelValue":t[0]||(t[0]=g=>e.isItActive=g)},null,8,["modelValue"]),i("h5",Er,w(e.label),1)]),e.isItActive?(s(),F(P,{key:0,type:"group",name:e.name},{default:y(()=>[i("div",Tr,[i("div",$r,[o(p,{label:"Procured Products/Services",description:"Define the procured product types/services per category (own operations)",name:"procuredProductTypesAndServicesNaceCodes",selectedNaceCodesBind:e.procuredProductTypesAndServicesNaceCodesValue,"onUpdate:selectedNaceCodesBind":t[1]||(t[1]=g=>e.procuredProductTypesAndServicesNaceCodesValue=g)},null,8,["selectedNaceCodesBind"])]),i("div",Nr,[o(m,{label:"Order Volume",description:"State your order volume per procurement category in the last fiscal year (percentage of total volume) (own operations)","is-required":!1,percentageFieldValueBind:e.percentageOfTotalProcurementValue,"onUpdate:percentageFieldValueBind":t[2]||(t[2]=g=>e.percentageOfTotalProcurementValue=g),name:"percentageOfTotalProcurement"},null,8,["percentageFieldValueBind"])]),i("div",Or,[o(f,{label:"Sourcing Countries",placeholder:"Countries",description:"Name the sourcing countries per procurement category (own operations)",name:"suppliersPerCountryCode",options:e.allCountries,optionLabel:"label",selectedItemsBindInternal:e.selectedCountries,"onUpdate:selectedItemsBindInternal":t[3]||(t[3]=g=>e.selectedCountries=g),innerClass:"long"},null,8,["options","selectedItemsBindInternal"])]),i("div",Rr,[i("div",_r,[e.selectedCountries.length>0?(s(),F(h,{key:0,label:"Number of Direct Suppliers",description:"State the number of direct suppliers per procurement category and country (own operations)","is-required":!1,"data-test":"directSuppliersHeader"})):I("",!0)]),o(P,{type:"group",name:"numberOfSuppliersPerCountryCode",modelValue:e.numberOfSuppliersPerCountryCodeValue,"onUpdate:modelValue":t[4]||(t[4]=g=>e.numberOfSuppliersPerCountryCodeValue=g),label:"Suppliers Per Country"},{default:y(()=>[(s(!0),u(S,null,A(e.selectedCountries,g=>(s(),u("div",{key:g.label},[i("div",qr,[i("h5",null,w(e.getCountryNameFromCountryCode(g.value)),1),i("div",Mr,[o(P,{type:"number",name:g.value,min:"1",step:"1",validation:"required","validation-label":"Number of suppliers per country","data-test":"supplierCountryValue","outer-class":"my-0 mx-3"},null,8,["name"]),o(v,{icon:"pi pi-times",rounded:"",class:"p-button-icon","data-test":"removeElementBtn",onClick:b=>e.removeItemFromListOfSelectedCountries(g.value)},null,8,["onClick"])])])]))),128))]),_:1},8,["modelValue"])])])]),_:1},8,["name"])):I("",!0)])}const Ur=D(Ar,[["render",Vr]]),Kr=C({name:"ProcurementCategoriesFormField",data(){return{ProcurementCategoryType:Yt}},props:R,components:{UploadFormHeader:E,ProcurementCategoryFormElement:Ur,FormKit:T}}),Br={class:"form-field","data-test":"ProcurementCategoriesFormField"};function Lr(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("ProcurementCategoryFormElement"),m=c("FormKit");return s(),u("div",Br,[o(r,{label:e.label,description:e.description,"is-required":e.required},null,8,["label","description","is-required"]),o(m,{type:"group",name:"productsServicesCategoriesPurchased"},{default:y(()=>[o(p,{name:e.ProcurementCategoryType.Products,label:"Products"},null,8,["name"]),o(p,{name:e.ProcurementCategoryType.RawMaterials,label:"Raw Materials"},null,8,["name"]),o(p,{name:e.ProcurementCategoryType.Services,label:"Services"},null,8,["name"])]),_:1})])}const Ht=D(Kr,[["render",Lr]]);function We(e,t){const n=new Map;for(const a of e)for(const d of a.subcategories)n.set(d,d.fields.some(l=>l.showIf(t)));return n}const Yr=C({setup(){return{getKeycloakPromise:ye("getKeycloakPromise")}},name:"CreateLksgDataset",components:{SubmitButton:Pe,SubmitSideBar:Ie,UploadFormHeader:E,SuccessMessage:Fe,FailMessage:Ce,FormKit:T,Card:ge,PrimeButton:V,Calendar:W,YesNoFormField:z,InputTextFormField:oe,FreeTextFormField:Ke,NumberFormField:Be,DateFormField:Le,SingleSelectFormField:De,MultiSelectFormField:Se,NaceCodeFormField:Ue,AddressFormField:Ye,RadioButtonsFormField:He,YesNoNaFormField:ot,PercentageFormField:Ae,ProductionSitesFormField:Kt,MostImportantProductsFormField:Lt,ProcurementCategoriesFormField:Ht},emits:["datasetCreated"],data(){return{formId:"createLkSGForm",waitingForData:!0,dataDate:void 0,companyAssociatedLksgData:{},lksgDataModel:Cn,route:ne(),message:"",smoothScroll:we,uploadSucceded:!1,postLkSGDataProcessed:!1,messageCounter:0,checkCustomInputs:be,documents:new Map}},computed:{yearOfDataDate:{get(){var t,n,a;const e=(a=(n=(t=this.companyAssociatedLksgData.data)==null?void 0:t.general)==null?void 0:n.masterData)==null?void 0:a.dataDate;return e===void 0?"":e.split("-")[0]},set(){}},subcategoryVisibility(){return We(this.lksgDataModel,this.companyAssociatedLksgData.data)}},props:{companyID:{type:String,required:!0}},created(){const e=this.route.query.templateDataId;e&&typeof e=="string"?this.loadLKSGData(e):this.waitingForData=!1},methods:{async loadLKSGData(e){var d,l,r;this.waitingForData=!0;const n=(await(await new B($(this.getKeycloakPromise)()).getLksgDataControllerApi()).getCompanyAssociatedLksgData(e)).data,a=(r=(l=(d=n.data)==null?void 0:d.general)==null?void 0:l.masterData)==null?void 0:r.dataDate;a&&(this.dataDate=new Date(a)),this.companyAssociatedLksgData=_e(n),this.waitingForData=!1},async postLkSGData(){this.messageCounter++;try{this.documents.size>0&&await Ve(Array.from(this.documents.values()),$(this.getKeycloakPromise)),await(await new B($(this.getKeycloakPromise)()).getLksgDataControllerApi()).postCompanyAssociatedLksgData(this.companyAssociatedLksgData),this.$emit("datasetCreated"),this.dataDate=void 0,this.message="Upload successfully executed.",this.uploadSucceded=!0}catch(e){console.error(e),e instanceof ve?this.message="An error occurred: "+e.message:this.message="An unexpected error occurred. Please try again or contact the support team if the issue persists.",this.uploadSucceded=!1}finally{this.postLkSGDataProcessed=!0}},updateDocumentList(e,t){t?this.documents.set(e,t):this.documents.delete(e)}},provide(){return{productsServicesCategoriesPurchased:le(()=>{var e,t,n;return(n=(t=(e=this.companyAssociatedLksgData.data)==null?void 0:e.general)==null?void 0:t.productionSpecificOwnOperations)==null?void 0:n.productsServicesCategoriesPurchased})}}}),Hr={key:0,class:"d-center-div text-center px-7 py-4"},jr=i("p",{class:"font-medium text-xl"},"Loading LkSG data...",-1),Gr=i("em",{class:"pi pi-spinner pi-spin","aria-hidden":"true",style:{"z-index":"20",color:"#e67f3f"}},null,-1),Wr=[jr,Gr],xr={key:1,class:"grid uploadFormWrapper"},zr={id:"uploadForm",class:"text-left uploadForm col-9"},Qr={class:"col-3 p-3 topicLabel"},Jr=["id"],Xr={class:"col-9 formFields"},Zr={key:0},es=i("h4",{id:"topicTitles",class:"title pt-3"},"On this page",-1),ts=["onClick"];function ns(e,t,n,a,d,l){const r=c("FormKit"),p=c("SubmitButton"),m=c("SuccessMessage"),f=c("FailMessage"),h=c("SubmitSideBar"),P=c("Card");return s(),F(P,{class:"col-12 page-wrapper-card p-3"},{title:y(()=>[X("New Dataset - LkSG")]),content:y(()=>[e.waitingForData?(s(),u("div",Hr,Wr)):(s(),u("div",xr,[i("div",zr,[o(r,{modelValue:e.companyAssociatedLksgData,"onUpdate:modelValue":t[1]||(t[1]=v=>e.companyAssociatedLksgData=v),actions:!1,type:"form",id:e.formId,name:e.formId,onSubmit:e.postLkSGData,onSubmitInvalid:e.checkCustomInputs},{default:y(()=>[o(r,{type:"hidden",name:"companyId","model-value":e.companyID},null,8,["model-value"]),o(r,{type:"hidden",name:"reportingPeriod",modelValue:e.yearOfDataDate,"onUpdate:modelValue":t[0]||(t[0]=v=>e.yearOfDataDate=v)},null,8,["modelValue"]),o(r,{type:"group",name:"data",label:"data"},{default:y(()=>[(s(!0),u(S,null,A(e.lksgDataModel,v=>(s(),F(r,{type:"group",key:v,label:v.label,name:v.name},{default:y(()=>[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("div",{class:"uploadFormSection grid",key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u(S,{key:0},[i("div",Qr,[i("h4",{id:g.name,class:"anchor title"},w(g.label),9,Jr),i("div",{class:O(`p-badge badge-${v.color}`)},[i("span",null,w(v.label.toUpperCase()),1)],2)]),i("div",Xr,[(s(!0),u(S,null,A(g.fields,b=>(s(),F(r,{key:b,type:"group",name:g.name},{default:y(()=>[b.showIf(e.companyAssociatedLksgData.data)?(s(),F(M(b.component),{key:0,label:b.label,placeholder:b.placeholder,description:b.description,name:b.name,options:b.options,required:b.required,certificateRequiredIfYes:b.certificateRequiredIfYes,validation:b.validation,"validation-label":b.validationLabel,"data-test":b.name,onReportsUpdated:e.updateDocumentList,ref_for:!0,ref:b.name},null,40,["label","placeholder","description","name","options","required","certificateRequiredIfYes","validation","validation-label","data-test","onReportsUpdated"])):I("",!0)]),_:2},1032,["name"]))),128))])],64)):I("",!0)]))),128))]),_:2},1032,["label","name"]))),128))]),_:1})]),_:1},8,["modelValue","id","name","onSubmit","onSubmitInvalid"])]),o(h,null,{default:y(()=>[o(p,{formId:e.formId},null,8,["formId"]),e.postLkSGDataProcessed?(s(),u("div",Zr,[e.uploadSucceded?(s(),F(m,{key:0,messageId:e.messageCounter},null,8,["messageId"])):(s(),F(f,{key:1,message:e.message,messageId:e.messageCounter},null,8,["message","messageId"]))])):I("",!0),es,i("ul",null,[(s(!0),u(S,null,A(e.lksgDataModel,v=>(s(),u("li",{key:v},[i("ul",null,[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("li",{key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u("a",{key:0,onClick:b=>e.smoothScroll(`#${g.name}`)},w(g.label),9,ts)):I("",!0)]))),128))])]))),128))])]),_:1})]))]),_:1})}const Ft=D(Yr,[["render",ns]]),as=[{name:"general",label:"General",color:"orange",showIf:()=>!0,subcategories:[{name:"general",label:"General",fields:[{name:"dataDate",label:"Data Date",description:"The date until when the information collected is valid",unit:"",component:"DateFormField",evidenceDesired:!1,required:!0,showIf:()=>!0,validation:"required"},{name:"fiscalYearDeviation",label:"Fiscal Year Deviation",description:"Does the fiscal year deviate from the calender year?",unit:"",component:"RadioButtonsFormField",evidenceDesired:!1,options:[{label:"Deviation",value:"Deviation"},{label:"No Deviation",value:"NoDeviation"}],required:!0,showIf:()=>!0,validation:"required"},{name:"fiscalYearEnd",label:"Fiscal Year End",description:"The date the fiscal year ends",unit:"",component:"DateFormField",evidenceDesired:!1,required:!0,showIf:()=>!0,validation:"required"},{name:"referencedReports",label:"Referenced Reports",description:"Does your company have a current annual report, sustainability report, integrated report or ESEF report? If yes, please share the information with us.",unit:"",component:"UploadReports",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"scopeOfEntities",label:"Scope Of Entities",description:"Does a list of legal entities covered by Sust./Annual/Integrated report match with a list of legal entities covered by Audited Consolidated Financial Statement ",unit:"",component:"YesNoNaFormField",evidenceDesired:!1,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]}]},{name:"environmental",label:"Environmental",color:"green",showIf:()=>!0,subcategories:[{name:"greenhouseGasEmissions",label:"Greenhouse gas emissions ",fields:[{name:"scope1",label:"Scope 1",description:"What is the amount of the company's Scope 1 emissions?",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"scope2",label:"Scope 2",description:"What is the amount of the company's Scope 2 emissions?",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"scope3",label:"Scope 3",description:"What is the amount of the company's Scope 3 emissions ?",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"enterpriseValue",label:"Enterprise Value ",description:"Company Enterprise Value",unit:"MM (Millions)",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"totalRevenue",label:"Total Revenue",description:"Company Total Revenue ",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"fossilFuelSectorExposure",label:"Fossil Fuel Sector Exposure",description:"Does the company derive any revenues from fossil fuels?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]},{name:"energyPerformance",label:"Energy performance",fields:[{name:"renewableEnergyProduction",label:"Renewable Energy Production",description:"Value of energy produced from renewable energy sources ",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"renewableEnergyConsumption",label:"Renewable Energy Consumption",description:"Value of energy consumed from renewable energy sources ",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumption",label:"Non-Renewable Energy Consumption",description:"Value of energy consumed from non-renewable energy sources ",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyProduction",label:"Non-Renewable Energy Production",description:"Value of energy produced from non-renewable energy sources ",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceA",label:"High Impact Climate Sector Energy Consumption NACE A",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceB",label:"High Impact Climate Sector Energy Consumption NACE B",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceC",label:"High Impact Climate Sector Energy Consumption NACE C",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceD",label:"High Impact Climate Sector Energy Consumption NACE D",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceE",label:"High Impact Climate Sector Energy Consumption NACE E",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceF",label:"High Impact Climate Sector Energy Consumption NACE F",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceG",label:"High Impact Climate Sector Energy Consumption NACE G",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceH",label:"High Impact Climate Sector Energy Consumption NACE H",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"highImpactClimateSectorEnergyConsumptionNaceL",label:"High Impact Climate Sector Energy Consumption NACE L",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"totalHighImpactClimateSectorEnergyConsumption",label:"Total High Impact Climate Sector Energy Consumption",description:"Total energy consumption per high impact climate sector",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionFossilFuels",label:"Non-Renewable Energy Consumption Fossil Fuels",description:"Total amount of non-renewable energy consumption",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionCrudeOil",label:"Non-Renewable Energy Consumption Crude Oil",description:"Energy consumption by non-renewable energy sources such as crude oil",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionNaturalGas",label:"Non-Renewable Energy Consumption Natural Gas",description:"Energy consumption by non-renewable energy sources such as natural gas",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionLignite",label:"Non-Renewable Energy Consumption Lignite",description:"Energy consumption by non-renewable energy sources such as lignite",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionCoal",label:"Non-Renewable Energy Consumption Coal",description:"Energy consumption by non-renewable energy sources such as coal",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionNuclearEnergy",label:"Non-Renewable Energy Consumption Nuclear Energy",description:"Energy consumption by non-renewable energy sources such as nuclear energy (Uranium)",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"nonRenewableEnergyConsumptionOther",label:"Non-Renewable Energy Consumption Other",description:"Energy consumption by non-renewable energy sources from any other available (used) non-renewable source of energy",unit:"GWh",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0}]},{name:"biodiversity",label:"Biodiversity",fields:[{name:"primaryForestAndWoodedLandOfNativeSpeciesExposure",label:"Primary Forest And Wooded Land Of Native Species Exposure",description:"Does the company have sites/operations located in primary forest and other wooded land, that is forest and other wooded land of native species, where there is no clearly visible indication of human activity and the ecological processes are not significantly disturbed - where activities of the company negatively affect those areas?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"protectedAreasExposure",label:"Protected Areas Exposure",description:"Does the company have sites/operations located in areas designatedby law or by the relevant competent authority for nature protection purposes, unless evidence is provided that the production of that raw material did not interfere with those nature protection purposes - where activities of the company negatively affect those areas?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"rareOrEndangeredEcosystemsExposure",label:"Rare Or Endangered Ecosystems Exposure",description:"Does the company have sites/operations located in  areas designated for the protection of rare, threatened or endangered ecosystems or species recognised by international agreements or included in lists drawn up by intergovernmental organisations or the International Union for the Conservation of Nature, subject to their recognition by the Commission (Commission may also recognise areas for the protection of rare, threatened or endangered ecosystems or species recognised by international agreements or included in lists drawn up by intergovernmental organisations or the International Union for the Conservation of Nature), unless evidence is provided that the production of that raw material did not interfere with those nature protection purposes  - where activities of the company negatively affect those areas?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]},{name:"water",label:"Water",fields:[{name:"emissionsToWater",label:"Emissions To Water",description:"Tonnes of Emissions To Water generated by the company.",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"waterConsumption",label:"Water Consumption",description:"Amount of water consumed by the company",unit:"Cubic Meters",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"waterReused",label:"Water Reused",description:"Amount of water reused/reclaimed by the company",unit:"Cubic Meters",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"waterManagementPolicy",label:"Water Management Policy",description:"Does the compant have a policies and procedures for water management ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"waterStressAreaExposure",label:"Water Stress Area Exposure",description:"Does the company has sites located in areas of high water stress without a water management policy ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]},{name:"waste",label:"Waste",fields:[{name:"hazardousWaste",label:"Hazardous Waste",description:"Tonnes of hazardous waste generated by the company.",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"manufactureOfAgrochemicalPesticidesProducts",label:"Manufacture Of Agrochemical Pesticides Products",description:"Is the company involved in the manufacture of pesticides and other agrochemical products?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"landDegradationDesertificationSoilSealingExposure",label:"Land Degradation Desertification Soil Sealing Exposure",description:"Do the company's activities cause land degradation, desertification or soil sealing?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"sustainableAgriculturePolicy",label:"Sustainable Agriculture Policy",description:"Does the company have sustainable land/agriculture practices or policies?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"sustainableOceansAndSeasPolicy",label:"Sustainable Oceans And Seas Policy",description:"Does the company have sustainable oceans/seas practices or policies ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"wasteNonRecycled",label:"Waste Non-Recycled",description:"Tonnes of non-recycled waste generated by the company.",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"threatenedSpeciesExposure",label:"Threatened Species Exposure",description:"Does the company involved in operations that affect threatened species?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"biodiversityProtectionPolicy",label:"Biodiversity Protection Policy",description:"Does the company have a biodiversity policy in place which covers operational sites owned, leased, managed in, or adjacent to, a protected area or an area of high biodiversity value outside protected areas?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"deforestationPolicy",label:"Deforestation Policy",description:"Does the company have a policies and procedures to address deforestation ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]},{name:"emissions",label:"Emissions",fields:[{name:"inorganicPollutants",label:"Inorganic Pollutants",description:"Amount of emissions of Inorganic Pollutants",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"airPollutants",label:"Air Pollutants",description:"Amount of emissions of Air Pollutants",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"ozoneDepletionSubstances",label:"Ozone Depletion Substances",description:"Amount of emissions of Ozone Depletion Substances",unit:"Tonnes",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"carbonReductionInitiatives",label:"Carbon Reduction Initiatives",description:"Does the company have carbon emission reduction initiatives aimed at aligning with the Paris Agreement in place?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]}]},{name:"social",label:"Social",color:"yellow",showIf:()=>!0,subcategories:[{name:"socialAndEmployeeMatters",label:"Social and employee matters",fields:[{name:"humanRightsLegalProceedings",label:"Human Rights Legal Proceedings",description:"Does the company have been involved in Human Rights related legal proceedings?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"iloCoreLabourStandards",label:"ILO Core Labour Standards",description:"Does the company abides by ILO Core Labour Standards",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"environmentalPolicy",label:"Environmental Policy",description:"Does the company have a statement of environmental policy?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"corruptionLegalProceedings",label:"Corruption Legal Proceedings",description:"Does the company have  been involved in corruption related legal proceedings?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"transparencyDisclosurePolicy",label:"Transparency Disclosure Policy",description:"Does the company have a discloses policies related to transparency?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"humanRightsDueDiligencePolicy",label:"Human Rights Due Diligence Policy",description:"Does the company have a policies and procedures to support/respect human rights and carry out due diligence to ensure that the business activities do not have a negative human rights impact ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"childForcedDiscriminationPolicy",label:"Child Forced Discrimination Policy",description:"Does the company have a policies and procedures to abolish all forms of child labour, forced labour and eliminate discrimination in the workplace ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"iso14001Certificate",label:"ISO 14001 Certificate",description:"Does the company have an ISO 14001 certificate ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"briberyCorruptionPolicy",label:"Bribery Corruption Policy",description:"Does the company have a policies and control systems in place to fight corruption ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"fairBusinessMarketingAdvertisingPolicy",label:"Fair Business Marketing Advertising Policy",description:"Does the company have a policies and procedures in place to apply fair business, marketing and advertising practices and to guarantee the safety and quality of the goods and services ? ",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"technologiesExpertiseTransferPolicy",label:"Technologies Expertise Transfer Policy",description:"Does the company have a policies and procedures in place to permit the transfer and rapid dissemination of technologies and expertise ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"fairCompetitionPolicy",label:"Fair Competition Policy",description:"Does the company have a policies and procedures in place related to fair competition and anti-competitive cartels ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"violationOfTaxRulesAndRegulation",label:"Violation Of Tax Rules And Regulation",description:"Does the company makes contribution to public finances within the framework of applicable law and regulations, in accordance with the tax rules and regulations of the host countries and co-operate with the tax authorities?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"unGlobalCompactPrinciplesCompliancePolicy",label:"UN Global Compact Principles Compliance Policy",description:"Does the company have policies and procedures in place to monitor compliance with the UNGC principles or OECD Guidelines for Multinational Enterprises or grievance /complaints handling mechanisms to address violations of the UNGC principles or OECD Guidelines for Multinational Enterprises ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"oecdGuidelinesForMultinationalEnterprisesPolicy",label:"OECD Guidelines For Multinational Enterprises Policy",description:"Does the company have policies and procedures in place to monitor compliance with the UNGC principles or OECD Guidelines for Multinational Enterprises or grievance /complaints handling mechanisms to address violations of the UNGC principles or OECD Guidelines for Multinational Enterprises?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"averageGrossHourlyEarningsMaleEmployees",label:"Average Gross Hourly Earnings Male Employees",description:"Average gross hourly earnings of male employees",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"averageGrossHourlyEarningsFemaleEmployees",label:"Average Gross Hourly Earnings Female Employees",description:"Average gross hourly earnings of female employees",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"femaleBoardMembers",label:"Female Board Members",description:"Number of females on the board. Board means the administrative, management or supervisory body of a company",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"maleBoardMembers",label:"Male Board Members",description:"Number of males on the board. Board means the administrative, management or supervisory body of a company",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"controversialWeaponsExposure",label:"Controversial Weapons Exposure",description:"Does the company involved in the manufacture or selling of controversial weapons such as anti- personnel mines, cluster munitions, chemical weapons and biological weapons ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"workplaceAccidentPreventionPolicy",label:"Workplace Accident Prevention Policy",description:"Does the company have a workplace accident prevention policy?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"rateOfAccidents",label:"Rate Of Accidents",description:"What is the Rate Of Accidents in the company?",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"workdaysLost",label:"Workdays Lost",description:"Number of workdays lost to injuries, accidents, fatalities or illness",unit:"Days",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"supplierCodeOfConduct",label:"Supplier Code Of Conduct",description:"Does the company have a Supplier Code Of Conduct (against unsafe working conditions, precarious work, child labour and forced labour)?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"grievanceHandlingMechanism",label:"Grievance Handling Mechanism",description:"Does the company have a grievance/complaints handling mechanism related to employee matters?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"whistleblowerProtectionPolicy",label:"Whistleblower Protection Policy",description:"Does the company have policies and procedures for the protection of whistleblowers?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"reportedIncidentsOfDiscrimination",label:"Reported Incidents Of Discrimination",description:"Number of incidents of discrimination reported",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"sanctionsIncidentsOfDiscrimination",label:"Sanctions Incidents Of Discrimination",description:"Number of discrimination related incidents reported that lead to any kind of penalty and/or fine",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"ceoToEmployeePayGap",label:"CEO to Employee Pay Gap",description:"Ratio of the annual total compensation for the highest compensated individual to the median annual total compensation for all employees (excluding the highest-compensated individual)",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0}]},{name:"greenSecurities",label:"Green securities",fields:[{name:"securitiesNotCertifiedAsGreen",label:"Securities Not Certified As Green",description:"Does the company have investments not certified as green under a future EU legal act setting up an EU Green Bond Standard?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1}]},{name:"humanRights",label:"Human rights",fields:[{name:"humanRightsPolicy",label:"Human Rights Policy",description:"Does the company have a human rights policy in place?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"humanRightsDueDiligence",label:"Human Rights Due Diligence ",description:"Does the company have a due diligence process to identify, prevent, mitigate and address adverse human rights impacts?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"traffickingInHumanBeingsPolicy",label:"Trafficking In Human Beings Policy",description:"Does the company have a policies and procedures against trafficking in human beings ?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"reportedChildLabourIncidents",label:"Reported Child Labour Incidents",description:"Does the company exposed to operations and suppliers at significant risk of incidents of child labour exposed to hazardous work, in terms of of geographic areas or type of operation?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"reportedForcedOrCompulsoryLabourIncidents",label:"Reported Forced Or Compulsory Labour Incidents",description:"Does the company exposed to operations and suppliers at significant risk of incidents of forced or compulsory labour in terms in terms of geographic areas and/or the type of operation?",unit:"",component:"YesNoFormField",evidenceDesired:!0,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"reportedIncidentsOfHumanRights",label:"Reported Incidents Of Human Rights",description:"Number of cases of severe human rights issues and incidents connected to the company.",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0}]},{name:"antiCorruptionAndAntiBribery",label:"Anti-corruption and anti-bribery",fields:[{name:"reportedCasesOfBriberyCorruption",label:"Reported Cases Of Bribery Corruption",description:"Number of cases with identified insufficiencies in actions taken to address breaches in procedures and standards of anti-corruption and anti-bribery",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"reportedConvictionsOfBriberyCorruption",label:"Reported Convictions Of Bribery Corruption",description:"Numbers of convictions for violations of anti-corruption and anti-bribery laws",unit:"",component:"DataPointFormField",evidenceDesired:!0,required:!1,showIf:()=>!0},{name:"reportedFinesOfBriberyCorruption",label:"Reported Fines Of Bribery Corruption",description:"Amount of fines for violations of anti-corruption and anti-bribery laws.",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0}]}]}],os=C({name:"ReportFormElement",components:{YesNoFormField:z,FormKit:T,UploadFormHeader:E,Calendar:W,SingleSelectFormField:De},data(){return{countryCodeOptions:U(K.CurrencyCodes),reportDateAsDate:void 0}},mounted(){this.getDateFromString()},props:{name:{type:String,required:!0},reference:{type:String,required:!0},reportDate:{type:String}},computed:{hyphenatedDate(){if(this.reportDateAsDate)return Oe(this.reportDateAsDate)}},methods:{getDateFromString(){this.reportDateAsDate=this.reportDate&&this.reportDate.length>1?new Date(this.reportDate):void 0},reportingDateChanged(e){this.reportDateAsDate=e}}}),is={class:"form-field"},rs={class:"md:col-6 col-12 p-0"},ss={class:"form-field"};function ls(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("Calendar"),m=c("FormKit"),f=c("SingleSelectFormField"),h=c("YesNoFormField");return s(),F(m,{name:e.name,type:"group"},{default:y(()=>[i("div",is,[o(r,{label:"Report Date",description:"The date until which the information presented in the report is valid."}),i("div",rs,[o(p,{"data-test":"reportDate",inputId:"icon",modelValue:e.reportDateAsDate,showIcon:!0,dateFormat:"D, M dd, yy","onUpdate:modelValue":t[0]||(t[0]=P=>e.reportingDateChanged(P))},null,8,["modelValue"])]),o(m,{type:"text",modelValue:e.hyphenatedDate,name:"reportDate","outer-class":{"hidden-input":!0}},null,8,["modelValue"])]),o(m,{type:"text",modelValue:e.reference,name:"reference","outer-class":{"hidden-input":!0}},null,8,["modelValue"]),o(f,{"validation-label":"Currency used in the report",placeholder:"Currency used in the report",options:e.countryCodeOptions,name:"currency",label:"Currency",description:"The 3-letter alpha code that represents the currency used in the report."},null,8,["options"]),i("div",ss,[o(h,{name:"isGroupLevel",description:"Is the report on a group level?",label:"Group Level Report"})])]),_:1},8,["name"])}const ds=D(os,[["render",ls]]),cs=C({inject:["dialogRef"],name:"FileDialog",data(){return{message:void 0,listOfElementNames:void 0}},mounted(){this.getDataFromParentAndSet()},methods:{getDataFromParentAndSet(){const t=this.dialogRef.data;this.message=t.message,this.listOfElementNames=t.listOfElementNames}}}),us=i("br",null,null,-1);function ps(e,t,n,a,d,l){return s(),u(S,null,[i("div",null,w(e.message),1),us,(s(!0),u(S,null,A(e.listOfElementNames,(r,p)=>(s(),u("div",{key:r+p},[i("strong",null,w(r),1)]))),128))],64)}const ms=D(cs,[["render",ps]]),fs=C({name:"UploadReports",inheritAttrs:!1,inject:{injectReferencedReportsForPrefill:{from:"referencedReportsForPrefill",default:{}}},components:{UploadDocumentsForm:nt,ReportFormElement:ds,PrimeButton:V},emits:["reportsUpdated"],data(){return{documentsToUpload:[],alreadyStoredReports:[],namesOfDuplicatesAmongDocumentsToUpload:[]}},props:{name:{type:String,required:!0},referencedReportsForPrefill:{type:Object},isEuTaxonomy:{type:Boolean,default:!1}},watch:{referencedReportsForPrefill(){this.prefillAlreadyUploadedReports()}},computed:{namesOfDocumentsToUpload(){return this.documentsToUpload.map(e=>e.fileNameWithoutSuffix)},namesOfStoredReports(){return this.alreadyStoredReports.map(e=>e.reportName)},allReferenceableReportNames(){return this.namesOfDocumentsToUpload.concat(this.namesOfStoredReports)}},mounted(){this.prefillAlreadyUploadedReports()},methods:{emitReportsUpdatedEvent(){var e;(e=this.namesOfDuplicatesAmongDocumentsToUpload)!=null&&e.length&&this.openModalToDisplayDuplicateNameError(),this.isEuTaxonomy?this.$emit("reportsUpdated",this.allReferenceableReportNames):this.$emit("reportsUpdated",this.allReferenceableReportNames,this.documentsToUpload)},handleUpdatedDocumentsSelectedForUpload(e){this.documentsToUpload=e;const t=[];if(this.areDuplicatesAmongReferenceableReportNames()){const n=new Set;for(let a=0;a<this.documentsToUpload.length;a++){const d=this.documentsToUpload[a].fileNameWithoutSuffix;n.has(d)||this.namesOfStoredReports.indexOf(d)!==-1?t.push({document:this.documentsToUpload[a],index:a}):n.add(d)}this.handleReportDuplicates([...t].reverse())}else this.emitReportsUpdatedEvent()},handleReportDuplicates(e){const t=e.map(({document:a})=>a),n=e.map(({index:a})=>a);this.namesOfDuplicatesAmongDocumentsToUpload=t.map(a=>a.fileNameWithoutSuffix),this.$refs.uploadDocumentsForm.removeDocumentsFromDocumentsToUpload(n)},removeReportFromStoredReports(e){this.alreadyStoredReports.splice(e,1),this.emitReportsUpdatedEvent()},prefillAlreadyUploadedReports(){const e=this.referencedReportsForPrefill??this.injectReferencedReportsForPrefill;if(e){for(const t in e){const n=e[t];this.alreadyStoredReports.push({reportName:t,reference:n.reference,currency:n.currency,reportDate:n.reportDate,isGroupLevel:n.isGroupLevel})}this.emitReportsUpdatedEvent()}},openModalToDisplayDuplicateNameError(){const e=[...new Set(this.namesOfDuplicatesAmongDocumentsToUpload)].join(", ");this.$dialog.open(ms,{props:{modal:!0,closable:!0,dismissableMask:!0,header:"Invalid File Selection"},data:{message:"The following file(s) cannot be selected because a report with its name is already selected for upload or even already uploaded:",listOfElementNames:[e]}}),this.namesOfDuplicatesAmongDocumentsToUpload=[]},areDuplicatesAmongReferenceableReportNames(){return this.allReferenceableReportNames.length!==new Set(this.allReferenceableReportNames).size}}});const ke=e=>(rn("data-v-c82de385"),e=e(),sn(),e),hs={key:0,class:"col-3 p-3 topicLabel"},ys=ke(()=>i("h4",{class:"anchor title"},"Upload company reports",-1)),gs=ke(()=>i("p",null,"Please upload all relevant reports for this dataset in the PDF format.",-1)),bs=[ys,gs],vs=ke(()=>i("h3",{class:"mt-0"},"Select company reports",-1)),Fs={class:"uploadFormSection"},Cs=["data-test"],Ds={class:"form-field-label"},Ss={class:"mt-0"},Ps={key:0,class:"uploadFormSection"},Is={key:0,class:"col-3 p-3 topicLabel"},As=ke(()=>i("h4",{class:"anchor title"},"Uploaded company reports",-1)),ws=[As],ks={key:1,class:"col-12"},Es=ke(()=>i("h3",{class:"mt-0"},"Uploaded company reports",-1)),Ts=[Es],$s=["data-test"],Ns={class:"flex w-full"},Os={class:"mt-0"};function Rs(e,t,n,a,d,l){const r=c("UploadDocumentsForm"),p=c("ReportFormElement"),m=c("PrimeButton"),f=c("FormKit");return s(),u(S,null,[e.isEuTaxonomy?(s(),u("div",hs,bs)):I("",!0),i("div",{class:O(e.isEuTaxonomy?"col-9 formFields":"formField")},[vs,o(r,{ref:"uploadDocumentsForm",onUpdatedDocumentsSelectedForUpload:e.handleUpdatedDocumentsSelectedForUpload,name:e.name},null,8,["onUpdatedDocumentsSelectedForUpload","name"])],2),o(f,{name:"referencedReports",type:"group"},{default:y(()=>[i("div",Fs,[(s(!0),u(S,null,A(e.documentsToUpload,h=>(s(),u("div",{key:h.file.name,class:O(e.isEuTaxonomy?"col-9 formFields":"col-9 bordered-box p-3 mb-3"),"data-test":"report-to-upload-form"},[i("div",{"data-test":h.fileNameWithoutSuffix+"ToUploadContainer"},[i("div",Ds,[i("h3",Ss,w(h.fileNameWithoutSuffix),1)]),o(p,{name:h.fileNameWithoutSuffix,reference:h.reference},null,8,["name","reference"])],8,Cs)],2))),128))]),e.alreadyStoredReports.length>0?(s(),u("div",Ps,[e.isEuTaxonomy?(s(),u("div",Is,ws)):(s(),u("div",ks,Ts)),(s(!0),u(S,null,A(e.alreadyStoredReports,(h,P)=>(s(),u("div",{key:h.reportName,class:O(e.isEuTaxonomy?"col-9 formFields":"col-9 bordered-box p-3 mb-3"),"data-test":"report-uploaded-form"},[i("div",{"data-test":h.reportName+"AlreadyUploadedContainer",class:"form-field-label"},[i("div",Ns,[i("h3",Os,w(h.reportName),1),o(m,{"data-test":"remove-"+h.reportName,onClick:v=>e.removeReportFromStoredReports(P),icon:"pi pi-times",class:"p-button-edit-reports"},null,8,["data-test","onClick"])])],8,$s),o(p,{name:h.reportName,"report-date":h.reportDate,reference:h.reference},null,8,["name","report-date","reference"])],2))),128))])):I("",!0)]),_:1})],64)}const rt=D(fs,[["render",Rs],["__scopeId","data-v-c82de385"]]),_s=C({name:"DataPointFormField",components:{UploadFormHeader:E,FormKit:T},inject:{injectReportsName:{from:"namesOfAllCompanyReportsForTheDataset",default:[]}},computed:{isDataQualityRequired(){return this.currentValue!==""},computeQualityOption(){return this.currentValue==""?this.qualityOptions:this.qualityOptions.filter(e=>e.value!==de.Na)}},data(){return{qualityOptions:Object.values(de).map(e=>({label:e,value:e})),qualityValue:"NA",currentValue:"",currentReportValue:""}},props:{...et,options:{type:Array}},methods:{handleBlurValue(){this.currentValue===""?this.qualityValue="NA":this.currentValue!==""&&this.qualityValue=="NA"&&(this.qualityValue="")}}}),qs={class:"mb-3"},Ms={class:"next-to-each-other"},Vs={key:0,class:"form-field-label pb-3"},Us={class:"next-to-each-other"},Ks={class:"flex-1"},Bs={class:"mb-4","data-test":"dataQuality"},Ls={class:"md:col-6 col-12 p-0"},Ys={class:"form-field"};function Hs(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),F(p,{type:"group",name:e.name},{default:y(()=>[i("div",qs,[o(r,{label:e.label,description:e.description??"","is-required":e.required},null,8,["label","description","is-required"]),i("div",Ms,[o(p,{type:"text",name:"value",modelValue:e.currentValue,"onUpdate:modelValue":t[0]||(t[0]=m=>e.currentValue=m),"validation-label":e.validationLabel??e.label,validation:`number|${e.validation}`,placeholder:"Value","outer-class":"short",onBlur:e.handleBlurValue},null,8,["modelValue","validation-label","validation","onBlur"]),e.unit?(s(),u("div",Vs,[o(p,{type:"hidden",name:"unit",modelValue:e.unit},null,8,["modelValue"]),i("span",null,"in "+w(e.unit),1)])):e.options?(s(),F(p,{key:1,type:"select",name:"unit",placeholder:"Currency",options:e.options,"outer-class":"short"},null,8,["options"])):I("",!0)])]),i("div",null,[o(p,{type:"group",name:"dataSource"},{default:y(()=>[i("div",Us,[i("div",Ks,[o(r,{label:`${e.label} Report`,description:"Select a report as a reference for this data point."},null,8,["label","description"]),o(p,{type:"select",name:"report",modelValue:e.currentReportValue,"onUpdate:modelValue":t[1]||(t[1]=m=>e.currentReportValue=m),placeholder:"Select a report",options:["None...",...e.injectReportsName]},null,8,["modelValue","options"])]),i("div",null,[o(r,{label:"Page",description:"Page where information was found"}),o(p,{"outer-class":"w-100",type:"number",name:"page",placeholder:"Page","validation-label":"Page",step:"1",min:"0",validation:"min:0"})])])]),_:1})]),i("div",Bs,[o(r,{label:`${e.label} Quality`,description:"The level of confidence associated to the value.","is-required":e.isDataQualityRequired},null,8,["label","is-required"]),i("div",Ls,[o(p,{type:"select",modelValue:e.qualityValue,"onUpdate:modelValue":t[2]||(t[2]=m=>e.qualityValue=m),name:"quality",validation:e.isDataQualityRequired?"required":"","validation-label":"Data quality",placeholder:"Data quality",options:e.computeQualityOption},null,8,["modelValue","validation","options"])])]),i("div",Ys,[o(p,{type:"textarea",name:"comment",placeholder:"(Optional) Add comment that might help Quality Assurance to approve the datapoint. "})])]),_:1},8,["name"])}const jt=D(_s,[["render",Hs]]),js=C({setup(){return{getKeycloakPromise:ye("getKeycloakPromise")}},name:"CreateSfdrDataset",components:{SubmitButton:Pe,SubmitSideBar:Ie,UploadFormHeader:E,SuccessMessage:Fe,FailMessage:Ce,FormKit:T,Card:ge,PrimeButton:V,Calendar:W,YesNoFormField:z,InputTextFormField:oe,FreeTextFormField:Ke,NumberFormField:Be,DataPointFormField:jt,DateFormField:Le,SingleSelectFormField:De,MultiSelectFormField:Se,NaceCodeFormField:Ue,AddressFormField:Ye,RadioButtonsFormField:He,YesNoNaFormField:ot,PercentageFormField:Ae,ProductionSitesFormField:Kt,MostImportantProductsFormField:Lt,ProcurementCategoriesFormField:Ht,UploadReports:rt},directives:{tooltip:qe},emits:["datasetCreated"],data(){return{formId:"createSFDRForm",waitingForData:!0,dataDate:void 0,companyAssociatedSfdrData:{},sfdrDataModel:as,route:ne(),message:"",smoothScroll:we,uploadSucceded:!1,postSfdrDataProcessed:!1,messageCounter:0,checkCustomInputs:be,documents:new Map,referencedReportsForPrefill:{},namesOfAllCompanyReportsForTheDataset:[]}},computed:{yearOfDataDate:{get(){var t,n,a;const e=(a=(n=(t=this.companyAssociatedSfdrData.data)==null?void 0:t.general)==null?void 0:n.general)==null?void 0:a.fiscalYearEnd;return e===void 0?"":e.split("-")[0]??new Date().getFullYear()},set(){}},subcategoryVisibility(){return We(this.sfdrDataModel,this.companyAssociatedSfdrData.data)}},props:{companyID:{type:String,required:!0}},created(){const e=this.route.query.templateDataId;e&&typeof e=="string"?this.loadSfdrData(e):this.waitingForData=!1},methods:{async loadSfdrData(e){this.waitingForData=!0;const a=(await(await new B($(this.getKeycloakPromise)()).getSfdrDataControllerApi()).getCompanyAssociatedSfdrData(e)).data;this.referencedReportsForPrefill=a.data.general.general.referencedReports??{},this.companyAssociatedSfdrData=_e(a),this.waitingForData=!1},async postSfdrData(){this.messageCounter++;try{this.documents.size>0&&await Ve(Array.from(this.documents.values()),$(this.getKeycloakPromise)),await(await new B($(this.getKeycloakPromise)()).getSfdrDataControllerApi()).postCompanyAssociatedSfdrData(this.companyAssociatedSfdrData),this.$emit("datasetCreated"),this.dataDate=void 0,this.message="Upload successfully executed.",this.uploadSucceded=!0}catch(e){console.error(e),e instanceof ve?this.message="An error occurred: "+e.message:this.message="An unexpected error occurred. Please try again or contact the support team if the issue persists.",this.uploadSucceded=!1}finally{this.postSfdrDataProcessed=!0}},updateDocumentsList(e,t){this.namesOfAllCompanyReportsForTheDataset=e,this.documents=new Map,t.forEach(n=>this.documents.set(n.file.name,n))}},provide(){return{namesOfAllCompanyReportsForTheDataset:le(()=>this.namesOfAllCompanyReportsForTheDataset),referencedReportsForPrefill:le(()=>this.referencedReportsForPrefill)}}}),Gs={key:0,class:"d-center-div text-center px-7 py-4"},Ws=i("p",{class:"font-medium text-xl"},"Loading SFDR data...",-1),xs=i("em",{class:"pi pi-spinner pi-spin","aria-hidden":"true",style:{"z-index":"20",color:"#e67f3f"}},null,-1),zs=[Ws,xs],Qs={key:1,class:"grid uploadFormWrapper"},Js={id:"uploadForm",class:"text-left uploadForm col-9"},Xs={class:"col-3 p-3 topicLabel"},Zs=["id"],el={class:"col-9 formFields"},tl={key:0},nl=i("h4",{id:"topicTitles",class:"title pt-3"},"On this page",-1),al=["onClick"];function ol(e,t,n,a,d,l){const r=c("FormKit"),p=c("SubmitButton"),m=c("SuccessMessage"),f=c("FailMessage"),h=c("SubmitSideBar"),P=c("Card");return s(),F(P,{class:"col-12 page-wrapper-card p-3"},{title:y(()=>[X("New Dataset - SFDR")]),content:y(()=>[e.waitingForData?(s(),u("div",Gs,zs)):(s(),u("div",Qs,[i("div",Js,[o(r,{modelValue:e.companyAssociatedSfdrData,"onUpdate:modelValue":t[1]||(t[1]=v=>e.companyAssociatedSfdrData=v),actions:!1,type:"form",id:e.formId,name:e.formId,onSubmit:e.postSfdrData,onSubmitInvalid:e.checkCustomInputs},{default:y(()=>[o(r,{type:"hidden",name:"companyId","model-value":e.companyID},null,8,["model-value"]),o(r,{type:"hidden",name:"reportingPeriod",modelValue:e.yearOfDataDate,"onUpdate:modelValue":t[0]||(t[0]=v=>e.yearOfDataDate=v)},null,8,["modelValue"]),o(r,{type:"group",name:"data",label:"data"},{default:y(()=>[(s(!0),u(S,null,A(e.sfdrDataModel,v=>(s(),F(r,{type:"group",key:v,label:v.label,name:v.name},{default:y(()=>[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("div",{class:"uploadFormSection grid",key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u(S,{key:0},[i("div",Xs,[i("h4",{id:g.name,class:"anchor title"},w(g.label),9,Zs),i("div",{class:O(`p-badge badge-${v.color}`)},[i("span",null,w(v.label.toUpperCase()),1)],2)]),i("div",el,[(s(!0),u(S,null,A(g.fields,b=>(s(),F(r,{key:b,type:"group",name:g.name},{default:y(()=>[b.showIf(e.companyAssociatedSfdrData.data)?(s(),F(M(b.component),{key:0,label:b.label,placeholder:b.placeholder,description:b.description,name:b.name,options:b.options,required:b.required,certificateRequiredIfYes:b.certificateRequiredIfYes,validation:b.validation,"validation-label":b.validationLabel,evidenceDesired:b.evidenceDesired,"data-test":b.name,unit:b.unit,onReportsUpdated:e.updateDocumentsList,ref_for:!0,ref:b.name},null,40,["label","placeholder","description","name","options","required","certificateRequiredIfYes","validation","validation-label","evidenceDesired","data-test","unit","onReportsUpdated"])):I("",!0)]),_:2},1032,["name"]))),128))])],64)):I("",!0)]))),128))]),_:2},1032,["label","name"]))),128))]),_:1})]),_:1},8,["modelValue","id","name","onSubmit","onSubmitInvalid"])]),o(h,null,{default:y(()=>[o(p,{formId:e.formId},null,8,["formId"]),e.postSfdrDataProcessed?(s(),u("div",tl,[e.uploadSucceded?(s(),F(m,{key:0,messageId:e.messageCounter},null,8,["messageId"])):(s(),F(f,{key:1,message:e.message,messageId:e.messageCounter},null,8,["message","messageId"]))])):I("",!0),nl,i("ul",null,[(s(!0),u(S,null,A(e.sfdrDataModel,v=>(s(),u("li",{key:v},[i("ul",null,[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("li",{key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u("a",{key:0,onClick:b=>e.smoothScroll(`#${g.name}`)},w(g.label),9,al)):I("",!0)]))),128))])]))),128))])]),_:1})]))]),_:1})}const Ct=D(js,[["render",ol]]),il=C({setup(){return{getKeycloakPromise:ye("getKeycloakPromise")}},name:"CreateP2pDataset",components:{FormKit:T,UploadFormHeader:E,InputTextFormField:oe,MultiSelectFormField:Se,NumberFormField:Be,YesNoFormField:z,PercentageFormField:Ae,Card:ge,PrimeButton:V,Calendar:W,SuccessMessage:Fe,FailMessage:Ce,SubmitButton:Pe,SubmitSideBar:Ie,DateFormField:Le,SingleSelectFormField:De},emits:["datasetCreated"],data(){return{formId:"createP2pForm",waitingForData:!0,dataDate:void 0,companyAssociatedP2pData:{},p2pDataModel:Dn,route:ne(),message:"",smoothScroll:we,uploadSucceded:!1,postP2pDataProcessed:!1,messageCounter:0,checkCustomInputs:be}},computed:{yearOfDataDate:{get(){var t,n,a;const e=(a=(n=(t=this.companyAssociatedP2pData.data)==null?void 0:t.general)==null?void 0:n.general)==null?void 0:a.dataDate;return e===void 0?"":e.split("-")[0]},set(){}},visibleCategories(){return this.p2pDataModel.filter(e=>e.showIf(this.companyAssociatedP2pData.data)||e.name==="general")},subcategoryVisibility(){return We(this.p2pDataModel,this.companyAssociatedP2pData.data)}},props:{companyID:{type:String,required:!0}},mounted(){const e=this.route.query.templateDataId;e&&typeof e=="string"?this.loadP2pData(e):this.waitingForData=!1},methods:{async loadP2pData(e){var d,l,r;this.waitingForData=!0;const n=(await(await new B($(this.getKeycloakPromise)()).getP2pDataControllerApi()).getCompanyAssociatedP2pData(e)).data,a=(r=(l=(d=n.data)==null?void 0:d.general)==null?void 0:l.general)==null?void 0:r.dataDate;a&&(this.dataDate=new Date(a)),this.companyAssociatedP2pData=_e(n),this.waitingForData=!1},async postP2pData(){this.messageCounter++;try{await(await new B($(this.getKeycloakPromise)()).getP2pDataControllerApi()).postCompanyAssociatedP2pData(this.companyAssociatedP2pData),this.$emit("datasetCreated"),this.dataDate=void 0,this.message="Upload successfully executed.",this.uploadSucceded=!0}catch(e){console.error(e),e instanceof ve?this.message="An error occurred: "+e.message:this.message="An unexpected error occurred. Please try again or contact the support team if the issue persists.",this.uploadSucceded=!1}finally{this.postP2pDataProcessed=!0}}}}),rl={key:0,class:"d-center-div text-center px-7 py-4"},sl=i("p",{class:"font-medium text-xl"},"Loading P2P data...",-1),ll=i("em",{class:"pi pi-spinner pi-spin","aria-hidden":"true",style:{"z-index":"20",color:"#e67f3f"}},null,-1),dl=[sl,ll],cl={key:1,class:"grid uploadFormWrapper"},ul={id:"uploadForm",class:"text-left uploadForm col-9"},pl={class:"col-3 p-3 topicLabel"},ml=["id"],fl={class:"col-9 formFields"},hl={key:0},yl=i("h4",{id:"topicTitles",class:"title pt-3"},"On this page",-1),gl=["onClick"];function bl(e,t,n,a,d,l){const r=c("FormKit"),p=c("SubmitButton"),m=c("SuccessMessage"),f=c("FailMessage"),h=c("SubmitSideBar"),P=c("Card");return s(),F(P,{class:"col-12 page-wrapper-card p-3"},{title:y(()=>[X("New Dataset - P2P")]),content:y(()=>[e.waitingForData?(s(),u("div",rl,dl)):(s(),u("div",cl,[i("div",ul,[o(r,{modelValue:e.companyAssociatedP2pData,"onUpdate:modelValue":t[1]||(t[1]=v=>e.companyAssociatedP2pData=v),actions:!1,type:"form",id:e.formId,name:e.formId,onSubmit:e.postP2pData,onSubmitInvalid:e.checkCustomInputs},{default:y(()=>[o(r,{type:"hidden",name:"companyId","model-value":e.companyID},null,8,["model-value"]),o(r,{type:"hidden",name:"reportingPeriod",modelValue:e.yearOfDataDate,"onUpdate:modelValue":t[0]||(t[0]=v=>e.yearOfDataDate=v)},null,8,["modelValue"]),o(r,{type:"group",name:"data",label:"data"},{default:y(()=>[(s(!0),u(S,null,A(e.visibleCategories,v=>(s(),F(r,{type:"group",key:v,label:v.label,name:v.name},{default:y(()=>[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("div",{class:"uploadFormSection grid",key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u(S,{key:0},[i("div",pl,[i("h4",{id:`${v.name}-${g.name}`,class:"anchor title"},w(g.label),9,ml),i("div",{class:O(`p-badge badge-${v.color}`)},[i("span",null,w(v.label.toUpperCase()),1)],2)]),i("div",fl,[(s(!0),u(S,null,A(g.fields,b=>(s(),F(r,{key:b,type:"group",name:g.name},{default:y(()=>[b.showIf(e.companyAssociatedP2pData.data)?(s(),F(M(b.component),{key:0,label:b.label,placeholder:b.placeholder,description:b.description,name:b.name,options:b.options,required:b.required,certificateRequiredIfYes:b.certificateRequiredIfYes,validation:b.validation,"validation-label":b.validationLabel,"data-test":b.name,ref_for:!0,ref:b.name},null,8,["label","placeholder","description","name","options","required","certificateRequiredIfYes","validation","validation-label","data-test"])):I("",!0)]),_:2},1032,["name"]))),128))])],64)):I("",!0)]))),128))]),_:2},1032,["label","name"]))),128))]),_:1})]),_:1},8,["modelValue","id","name","onSubmit","onSubmitInvalid"])]),o(h,null,{default:y(()=>[o(p,{formId:e.formId},null,8,["formId"]),e.postP2pDataProcessed?(s(),u("div",hl,[e.uploadSucceded?(s(),F(m,{key:0,messageId:e.messageCounter},null,8,["messageId"])):(s(),F(f,{key:1,message:e.message,messageId:e.messageCounter},null,8,["message","messageId"]))])):I("",!0),yl,i("ul",null,[(s(!0),u(S,null,A(e.visibleCategories,v=>(s(),u("li",{key:v},[i("ul",null,[(s(!0),u(S,null,A(v.subcategories,g=>(s(),u("li",{key:g},[e.subcategoryVisibility.get(g)??!0?(s(),u("a",{key:0,onClick:b=>e.smoothScroll(`#${v.name}-${g.name}`)},w(v.label+": "+g.label),9,gl)):I("",!0)]))),128))])]))),128))])]),_:1})]))]),_:1})}const Dt=D(il,[["render",bl]]),vl=[{name:"general",label:"General",color:"orange",showIf:()=>!0,subcategories:[{name:"general",label:"General",fields:[{name:"fiscalYearDeviation",label:"Fiscal Year Deviation",description:"Does the fiscal year deviate from the calender year?",unit:"",component:"RadioButtonsFormField",evidenceDesired:!1,options:[{label:"Deviation",value:"Deviation"},{label:"No Deviation",value:"NoDeviation"}],required:!1,showIf:()=>!0},{name:"fiscalYearEnd",label:"Fiscal Year End",description:"The date the fiscal year ends.",unit:"",component:"DateFormField",evidenceDesired:!1,required:!0,showIf:()=>!0,validation:"required"},{name:"referencedReports",label:"Referenced Reports",description:"Please upload all relevant reports for this dataset in the PDF format.",unit:"",component:"UploadReports",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"scopeOfEntities",label:"Scope Of Entities",description:"Does a list of legal entities covered by Sust./Annual/Integrated/ESEF report match with a list of legal entities covered by Audited Consolidated Financial Statement ",unit:"",component:"YesNoNaFormField",evidenceDesired:!1,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"euTaxonomyActivityLevelReporting",label:"EU Taxonomy Activity Level Reporting",description:"Activity Level disclosure",unit:"",component:"YesNoFormField",evidenceDesired:!1,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"numberOfEmployees",label:"Number Of Employees",description:"Total number of employees (including temporary workers with assignment duration >6 months)",unit:"",component:"NumberFormField",evidenceDesired:!1,required:!1,showIf:()=>!0,validation:"min:0"},{name:"nfrdMandatory",label:"NFRD Mandatory",description:"Is the NFRD mandatory for your company?",unit:"",component:"YesNoFormField",evidenceDesired:!1,required:!1,showIf:()=>!0,certificateRequiredIfYes:!1},{name:"assurance",label:"Assurance",description:"Level of Assurance of the EU Taxonomy disclosure (Reasonable Assurance, Limited Assurance, None)",unit:"",component:"AssuranceFormField",evidenceDesired:!0,required:!1,showIf:()=>!0}]}]},{name:"revenue",label:"Revenue",color:"green",showIf:()=>!0,subcategories:[{name:"revenue",label:"Revenue",fields:[{name:"totalAmount",label:"Total Revenue",description:"Total Revenue for the financial year. I.e. income arising in the course of an entity's ordinary activities., the amounts derived from the sale of products and the provision of services after deducting sales rebates and value added tax and other taxes directly linked to turnover. Overall turnover is equivalent to a firm's total revenues over some period of time",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"eligibleShare",label:"Eligible Revenue",description:"Absolute value and share of the revenue where the economic activity meets taxonomy criteria for substantial contribution to climate change mitigation and does no serious harm to the other environmental objectives (DNSH criteria)",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedShare",label:"Aligned Revenue",description:"Absolute value and share of the revenue that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeMitigationInPercent",label:"Substantial Contribution to Climate Change Mitigation",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeAdaptionInPercent",label:"Substantial Contribution to Climate Change Adaption",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToSustainableUseAndProtectionOfWaterAndMarineResourcesInPercent",label:"Substantial Contribution to Sustainable Use and Protection of Water and Marine Resources",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToTransitionToACircularEconomyInPercent",label:"Substantial Contribution to Transition to a Circular Economy",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToPollutionPreventionAndControlInPercent",label:"Substantial Contribution to Pollution Prevention and Control",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToProtectionAndRestorationOfBiodiversityAndEcosystemsInPercent",label:"Substantial Contribution to Protection and Restoration of Biodiversity and Ecosystems",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedActivities",label:"Aligned Revenue per Activity",description:"Absolute value and share of the revenue per activity that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"",component:"AlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedShare",label:"Non-Aligned Revenue",description:"Absolute value and share of the revenue that is associated with non taxonomy-aligned but eligible activities",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedActivities",label:"Non-Aligned Revenue per Activity",description:"Absolute value and share of the revenue per activity that is not taxonomy-aligned but eligible",unit:"",component:"NonAlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonEligibleShare",label:"Non-Eligible Revenue",description:"Absolute value and share of the revenue where the economic activity does not meet taxonomy criteria for substantial contribution to climate change mitigation or does serious harm to the other environmental objectives (DNSH criteria)",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"enablingShareInPercent",label:"Enabling Revenue",description:"Share of the taxonomy-aligned revenue from total aligned revenue that is linked to activities that enable reduction of GHG in other sectors",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"transitionalShareInPercent",label:"Transitional Revenue",description:"Share of the taxonomy-aligned revenue from total aligned revenue that is linked to activities with significantly lower GHG emissions than the sector or industry average",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0}]}]},{name:"capex",label:"CapEx",color:"yellow",showIf:()=>!0,subcategories:[{name:"capex",label:"CapEx",fields:[{name:"totalAmount",label:"Total CapEx",description:"Total CapEx for the reported year. Capital expenditures are non-consumable investments, e.g. for acquiring, upgrading, and maintaining physical assets such as property, plants, buildings, technology",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"eligibleShare",label:"Eligible CapEx",description:"Absolute value and share of the CapEx that is part of a plan to meet taxonomy criteria for substantial contribution to either climate change mitigation or climate change adaptation",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedShare",label:"Aligned CapEx",description:"Absolute value and share of the CapEx that is either already taxonomy-aligned or is part of a credible plan to extend or reach taxonomy alignment, i.e., an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeMitigationInPercent",label:"Substantial Contribution to Climate Change Mitigation",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeAdaptionInPercent",label:"Substantial Contribution to Climate Change Adaption",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToSustainableUseAndProtectionOfWaterAndMarineResourcesInPercent",label:"Substantial Contribution to Sustainable Use and Protection of Water and Marine Resources",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToTransitionToACircularEconomyInPercent",label:"Substantial Contribution to Transition to a Circular Economy",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToPollutionPreventionAndControlInPercent",label:"Substantial Contribution to Pollution Prevention and Control",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToProtectionAndRestorationOfBiodiversityAndEcosystemsInPercent",label:"Substantial Contribution to Protection and Restoration of Biodiversity and Ecosystems",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedActivities",label:"Aligned CapEx per Activity",description:"Absolute value and share of the CapEx per activity that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"",component:"AlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedShare",label:"Non-Aligned CapEx",description:"Absolute value and share of the CapEx that is associated with non taxonomy-aligned but eligible activities",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedActivities",label:"Non-Aligned CapEx per Activity",description:"Absolute value and share of the CapEx per activity that is not taxonomy-aligned but eligible",unit:"",component:"NonAlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonEligibleShare",label:"Non-Eligible CapEx",description:"Absolute value and share of the CapEx that is not part of a plan to meet taxonomy criteria for substantial contribution to either climate change mitigation or climate change adaptation",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"enablingShareInPercent",label:"Enabling CapEx",description:"Share of the taxonomy-aligned CapEx from total aligned CapEx that is linked to activities that enable reduction of GHG in other sectors",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"transitionalShareInPercent",label:"Transitional CapEx",description:"Share of the taxonomy-aligned CapEx from total aligned CapEx that is linked to activities with significantly lower GHG emissions than the sector or industry average",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0}]}]},{name:"opex",label:"OpEx",color:"blue",showIf:()=>!0,subcategories:[{name:"opex",label:"OpEx",fields:[{name:"totalAmount",label:"Total OpEx",description:"Total OpEx for the financial year. Operating expenses (OpEx) are shorter term expenses required to meet the ongoing operational costs of running a business.",unit:"",component:"DataPointFormField",evidenceDesired:!0,options:U(K.CurrencyCodes),required:!1,showIf:()=>!0},{name:"eligibleShare",label:"Eligible OpEx",description:"Absolute value and share of the OpEx that is part of a plan to meet the taxonomy criteria for substantial contribution to climate change adaptation and relevant DNSH criteria",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedShare",label:"Aligned OpEx",description:"Absolute value and share of the OpEx that is associated with taxonomy-aligned activities. i.e., for an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeMitigationInPercent",label:"Substantial Contribution to Climate Change Mitigation",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToClimateChangeAdaptionInPercent",label:"Substantial Contribution to Climate Change Adaption",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToSustainableUseAndProtectionOfWaterAndMarineResourcesInPercent",label:"Substantial Contribution to Sustainable Use and Protection of Water and Marine Resources",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToTransitionToACircularEconomyInPercent",label:"Substantial Contribution to Transition to a Circular Economy",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToPollutionPreventionAndControlInPercent",label:"Substantial Contribution to Pollution Prevention and Control",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"substantialContributionToProtectionAndRestorationOfBiodiversityAndEcosystemsInPercent",label:"Substantial Contribution to Protection and Restoration of Biodiversity and Ecosystems",description:"Grade of the substantial contribution criterion fulfillment",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"alignedActivities",label:"Aligned OpEx per Activity",description:"Absolute value and share of the OpEx per activity that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",unit:"",component:"AlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedShare",label:"Non-Aligned OpEx",description:"Absolute value and share of the OpEx that is associated with non taxonomy-aligned but eligible activities",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonAlignedActivities",label:"Non-Aligned OpEx per Activity",description:"Absolute value and share of the opex per activity that is not taxonomy-aligned but eligible",unit:"",component:"NonAlignedActivitiesFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"nonEligibleShare",label:"Non-Eligible OpEx",description:"Absolute value and share of the OpEx that is not part of a plan to meet the taxonomy criteria for substantial contribution to climate change adaptation and relevant DNSH criteria",unit:"Percentage",component:"FinancialShareFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"enablingShareInPercent",label:"Enabling OpEx",description:"Share of the taxonomy-aligned OpEx from total aligned OpEx that is linked to activities that enable reduction of GHG in other sectors",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0},{name:"transitionalShareInPercent",label:"Transitional OpEx",description:"Share of the taxonomy-aligned OpEx from total aligned OpEx that is linked to activities with significantly lower GHG emissions than the sector or industry average",unit:"Percentage",component:"PercentageFormField",evidenceDesired:!1,required:!1,showIf:()=>!0}]}]}],Fl=C({name:"AlignedActivitiesFormField",props:R,components:{FormListFormField:je}});function Cl(e,t,n,a,d,l){const r=c("FormListFormField");return s(),F(r,{name:e.name,label:e.label,description:e.description,required:e.required,validation:e.validation,"validation-label":e.validationLabel,"sub-form-component":"AlignedActivitiesFormElements","data-test-add-button":"addNewProductButton","label-add-button":"ADD NEW Activity","data-test-sub-form":"alignedActivitiesSection"},null,8,["name","label","description","required","validation","validation-label"])}const Dl=D(Fl,[["render",Cl]]),Sl=C({name:"NonAlignedActivitiesFormField",props:R,components:{FormListFormField:je}});function Pl(e,t,n,a,d,l){const r=c("FormListFormField");return s(),F(r,{name:e.name,label:e.label,description:e.description,required:e.required,validation:e.validation,"validation-label":e.validationLabel,"sub-form-component":"NonAlignedActivitiesFormElement","data-test-add-button":"addNewProductButton","label-add-button":"ADD NEW Activity","data-test-sub-form":"alignedActivitiesSection"},null,8,["name","label","description","required","validation","validation-label"])}const Il=D(Sl,[["render",Pl]]),j={creditInstitutionKpis:["tradingPortfolio","interbankLoans","tradingPortfolioAndInterbankLoans","greenAssetRatio"],insuranceKpis:["taxonomyEligibleNonLifeInsuranceActivities"],investmentFirmKpis:["greenAssetRatio"],eligibilityKpis:["taxonomyEligibleActivity","taxonomyNonEligibleActivity","derivatives","banksAndIssuers","investmentNonNfrd"],kpisFieldNameToFinancialServiceType:{creditInstitutionKpis:G.CreditInstitution,insuranceKpis:G.InsuranceOrReinsurance,investmentFirmKpis:G.InvestmentFirm,assetManagementKpis:G.AssetManagement},euTaxonomyDetailsPerCashFlowType:["total","aligned","eligible"],euTaxonomyDetailsPerCashFlowFilesNames:{total:"totalAmount",aligned:"alignedData",eligible:"eligibleData"}};function Te(e){const t=[];for(const[n,a]of Object.entries(j.kpisFieldNameToFinancialServiceType))a===e&&t.push(n);if(t.length===0)throw new Error(`No matching key found for financial service type: ${e}`);if(t.length>1)throw new Error(`Multiple matching keys found for financial service type: ${e}`);return t[0]}const st={investmentNonNfrd:"Exposures To Non-NFRD Entities",banksAndIssuers:"Exposures To Central Governments, Central Banks, Supranational Issuers",derivatives:"Exposures To Derivatives",taxonomyNonEligibleActivity:"Exposures To Taxonomy Non-eligible Economic Activities",taxonomyEligibleActivity:"Exposures To Taxonomy-eligible Economic Activities",taxonomyEligibleNonLifeInsuranceActivities:"Taxonomy-eligible Non-life Insurance Economic Activities",greenAssetRatio:"Green Asset Ratio",tradingPortfolio:"Trading Portfolio",tradingPortfolioAndInterbankLoans:"Trading Portfolio & On-demand Interbank Loans",interbankLoans:"On-demand Interbank Loans",reportDate:"Report Date",reportingPeriod:"Reporting Period",totalAmount:"Total Amount",alignedPercentage:"Aligned Percentage",alignedAmount:"Aligned Amount",eligiblePercentage:"Eligible Percentage",eligibleAmount:"Eligible Amount",iSfS:"IS/FS",financialServicesTypes:"Financial Services Types",fiscalYear:"Fiscal Year",fiscalYearEnd:"Fiscal Year End",annualReport:"Annual Report",groupLevelAnnualReport:"Group Level Annual Report",annualReportDate:"Annual Report Date",annualReportCurrency:"Annual Report Currency",euTaxonomyActivityLevelReporting:"EU Taxonomy Activity Level Reporting",fiscalYearDeviation:"Fiscal Year is deviating",numberOfEmployees:"Number Of Employees",scopeOfEntities:"Scope Of Entities",currency:"Currency used in the report",sustainabilityReport:"Sustainability Report",groupLevelSustainabilityReport:"Group Level Sustainability Report",sustainabilityReportDate:"Sustainability Report Date",sustainabilityReportCurrency:"Sustainability Report Currency",integratedReport:"Integrated Report",groupLevelIntegratedReport:"Group Level Integrated Report",integratedReportDate:"Integrated Report Date",integratedReportCurrency:"Integrated Report Currency",esefReport:"ESEF Report",groupLevelEsefReport:"Group Level ESEF Report",esefReportDate:"ESEF Report Date",esefReportCurrency:"ESEF Report Currency",nfrdMandatory:"NFRD Mandatory",quality:"Quality",page:"Page",report:"Report",tagName:"Tag Name",comment:"Comment",assurance:"Assurance",provider:"Assurance Provider",AssurancePage:"Assurance Page",AssuranceReport:"Assurance Report",eligiblePercentageRevenue:"Eligible Revenue (%)",eligibleRevenue:"Eligible Revenue",alignedPercentageRevenue:"Aligned Revenue (%)",alignedRevenue:"Aligned Revenue",totalRevenue:"Total Revenue",eligibleCapExPercentage:"Eligible CapEx (%)",eligibleCapEx:"Eligible CapEx",alignedCapExPercentage:"Aligned CapEx (%)",alignedCapEx:"Aligned CapEx",totalCapEx:"Total CapEx",eligibleOpExPercentage:"Eligible OpEx (%)",eligibleOpEx:"Eligible OpEx",alignedOpExPercentage:"Aligned OpEx (%)",alignedOpEx:"Aligned OpEx",totalOpEx:"Total OpEx"},lt={investmentNonNfrd:"For financial companies (FS), the percentage of total assets exposed to non-NFRD entities.",banksAndIssuers:"For financial companies (FS), the percentage of total assets exposed to central governments, central banks, supranational issuers.",derivatives:"For financial companies (FS), the percentage of total assets exposed to derivatives.",taxonomyNonEligibleActivity:"For financial companies (FS), the percentage of total assets exposed to taxonomy non-eligible economic activities. I.e., to types of economic activity that is not described and does not have technical screening criteria set out in the EU Taxonomy Regulation.",taxonomyEligibleActivity:"For financial companies (FS), the percentage of total assets exposed to taxonomy-eligible economic activities.",taxonomyEligibleNonLifeInsuranceActivities:"For Insurance/Reinsurance companies, the percentage of Taxonomy-eligible non-life insurance economics activities. Insurance and reinsurance undertakings other than life insurance undertakings shall calculate the KPI related to underwriting activities and present the ‘gross premiums written’ non-life insurance revenue or, as applicable, reinsurance revenue corresponding to Taxonomy-aligned insurance or reinsurance activities.",greenAssetRatio:"The proportion of assets financing and invested in taxonomy-aligned economic activities as a proportion of total covered assets.",tradingPortfolio:"For Credit Institutions, the trading portfolio as a percentage of total assets.",tradingPortfolioAndInterbankLoans:"For Credit Institutions, the trading portfolio and the on demand interbank loans as a percentage of total assets.",interbankLoans:"For Credit Institutions, the on demand interbank loans as a percentage of total assets.",reportDate:"The date until which the information presented in the report is valid.",reportingPeriod:"The reporting period the dataset belongs to (e.g. a fiscal year).",nfrdMandatory:"The reporting obligation for companies whose number of employees is greater or equal to 500.",totalAmount:"Total Amount",alignedPercentage:"Aligned Percentage",alignedAmount:"Aligned Amount",eligiblePercentage:"Eligible Percentage",eligibleAmount:"Eligible Amount",isfs:"Distinguishes between non-financial companies (IS) and financial companies (FS). There are two possible values expected: 1- IS, 2- FS.",financialServicesTypes:"Defines the type of financial company. Credit Institution (1), Insurance/Reinsurance (2), Asset Manager (3), Investment Firm (4).",fiscalYearDeviation:"Does the fiscal year deviate from the calender year?",fiscalYear:"Fiscal Year (Deviation/ No Deviation)",fiscalYearEnd:"The date at which the fiscal year ends.",annualReport:"Link to Annual Report.",groupLevelAnnualReport:"Is the Annual Report on a Group level?",annualReportDate:"The date until which the information presented in the report is valid.",annualReportCurrency:"The 3-letter alpha code that represents the currency used in the report.",euTaxonomyActivityLevelReporting:"Does the company report on the EU Taxonomy?",numberOfEmployees:"Total number of employees (including temporary workers)",scopeOfEntities:"Are all Group legal entities covered in the report?",currency:"The 3-letter alpha code that represents the currency used in the report.",quality:"The level of confidence associated to the value.",page:"The page number of the document from where the information was sourced.",report:"The report from where the information was sourced.",tagName:"The name of the tag where the information is in the pdf.",comment:"Free optional text",assurance:"Level of Assurance of the EU Taxonomy disclosure (Reasonable Assurance, Limited Assurance, None).",provider:"Name of the Audit company which provides assurance to EU Taxonomy data points.",AssurancePage:"The page number of the text proving that the EU Taxonomy disclosures are included in Assurance statement.",AssuranceReport:"Link to Assurance Report.",eligibleRevenue:"Percentage of the Revenue where the economic activity meets taxonomy criteria for substantial contribution to climate change mitigation and does no serious harm to the other environmental objectives (DNSH criteria)",eligibleRevenueAmount:"The revenue where the economic activity meets taxonomy criteria for substantial contribution to either climate change mitigation or climate change adaptation",alignedRevenue:"Percentage of the Revenue that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",alignedRevenueAmount:"The revenue that is taxonomy-aligned, i.e., generated by an eligible economic activity that is making a substantial contribution to either climate change mitigation or climate change adaptation",totalRevenue:"Total revenue for the financial year. I.e., income arising in the course of an entity's ordinary activities, the amounts derived from the sale of products and the provision of services after deducting sales rebates and value added tax and other taxes directly linked to turnover. Overall turnover is equivalent to a firm's total revenues over some period of time.",eligibleCapEx:"Percentage of the CapEx that is part of a plan to meet taxonomy criteria for substantial contribution to climate change adaptation and relevant DNSH criteria",eligibleCapExAmount:"The CapEx that is part of a plan to meet taxonomy criteria for substantial contribution to either climate change mitigation or climate change adaptation",alignedCapEx:"Percentage of the CapEx that is either already taxonomy-aligned or is part of a credible plan to extend or reach taxonomy alignment. I.e., an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",alignedCapExAmount:"The CapEx that is either already taxonomy-aligned or is part of a credible plan to extend or reach taxonomy alignment, i.e., an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",totalCapEx:"Total CapEx for the financial year. A capital expenditure (CapEx) is a payment for goods or services recorded, or capitalized, on the balance sheet instead of expensed on the income statement.",eligibleOpEx:"Percentage of the OpEx that is part of a plan to meet taxonomy criteria for substantial contribution to climate change adaptation and relevant DNSH criteria",eligibleOpExAmount:"The OpEx that is part of a plan to meet the taxonomy criteria for substantial contribution to climate change adaptation and relevant DNSH criteria",alignedOpEx:"Percentage of the OpEx that is associated with taxonomy-aligned activities. I.e., for an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",alignedOpExAmount:"The OpEx that is associated with taxonomy-aligned activities. i.e., for an eligible economic activity that is making a substantial contribution to at least one of the climate and environmental objectives, while also doing no significant harm to the remaining objectives and meeting minimum standards on human rights and labour standards",totalOpEx:"Total OpEx for the financial year. Operating expenses (OpEx) are shorter term expenses required to meet the ongoing operational costs of running a business."},Al=C({name:"AssuranceFormField",inject:{injectReportsName:{from:"namesOfAllCompanyReportsForTheDataset",default:[]}},components:{FormKit:T,UploadFormHeader:E},data(){return{euTaxonomyKpiNameMappings:st,euTaxonomyKpiInfoMappings:lt,assuranceData:{None:ee(Z.None),LimitedAssurance:ee(Z.LimitedAssurance),ReasonableAssurance:ee(Z.ReasonableAssurance)},currentReportValue:""}},props:R}),wl={class:"form-field"},kl={class:"lg:col-4 md:col-6 col-12 p-0"},El={class:"form-field"},Tl={class:"form-field"},$l=i("h4",{class:"mt-0"},"Data source",-1),Nl={class:"next-to-each-other"},Ol={class:"flex-1"};function Rl(e,t,n,a,d,l){const r=c("UploadFormHeader"),p=c("FormKit");return s(),F(p,{name:"assurance",type:"group"},{default:y(()=>[i("div",wl,[o(r,{label:e.euTaxonomyKpiNameMappings.assurance??"",description:e.euTaxonomyKpiInfoMappings.assurance??"","is-required":!0},null,8,["label","description"]),i("div",kl,[o(p,{type:"select",name:"assurance",placeholder:"Please choose...","validation-label":e.euTaxonomyKpiNameMappings.assurance??"",validation:"required",options:e.assuranceData},null,8,["validation-label","options"])])]),i("div",El,[o(r,{label:e.euTaxonomyKpiNameMappings.provider??"",description:e.euTaxonomyKpiInfoMappings.provider??""},null,8,["label","description"]),o(p,{type:"text",name:"provider",placeholder:e.euTaxonomyKpiNameMappings.provider??"","validation-label":e.euTaxonomyKpiNameMappings.provider??""},null,8,["placeholder","validation-label"])]),i("div",Tl,[o(p,{type:"group",name:"dataSource"},{default:y(()=>[$l,i("div",Nl,[i("div",Ol,[o(r,{label:e.euTaxonomyKpiNameMappings.report??"",description:e.euTaxonomyKpiInfoMappings.report??"","is-required":!0},null,8,["label","description"]),o(p,{type:"select",name:"report",modelValue:e.currentReportValue,"onUpdate:modelValue":t[0]||(t[0]=m=>e.currentReportValue=m),placeholder:"Select a report",options:["None...",...e.injectReportsName]},null,8,["modelValue","options"])]),i("div",null,[o(r,{label:e.euTaxonomyKpiNameMappings.page??"",description:e.euTaxonomyKpiInfoMappings.page??""},null,8,["label","description"]),o(p,{"outer-class":"w-100",type:"number",name:"page",placeholder:"Page","validation-label":"Page",validation:"min:0",step:"1",min:"0"})])])]),_:1})])]),_:1})}const _l=D(Al,[["render",Rl]]);function Gt(e){if(!(e instanceof ve))return e.message;const t=e,n=t.response;let a=JSON.stringify(t),d="";return n.data.errors[0]&&(a=n.data.errors[0].summary,d=n.data.errors[0].message),`${a} ${d}`}const ql=C({setup(){return{getKeycloakPromise:ye("getKeycloakPromise")}},name:"CreateEuTaxonomyForNonFinancials",components:{SubmitButton:Pe,SubmitSideBar:Ie,UploadFormHeader:E,SuccessMessage:Fe,FailMessage:Ce,FormKit:T,Card:ge,PrimeButton:V,Calendar:W,InputSwitch:Ge,YesNoFormField:z,InputTextFormField:oe,FreeTextFormField:Ke,NumberFormField:Be,DataPointFormField:jt,DateFormField:Le,SingleSelectFormField:De,MultiSelectFormField:Se,NaceCodeFormField:Ue,AddressFormField:Ye,RadioButtonsFormField:He,YesNoNaFormField:ot,PercentageFormField:Ae,UploadReports:rt,FinancialShareFormField:it,AlignedActivitiesFormField:Dl,AssuranceFormField:_l,NonAlignedActivitiesFormField:Il},directives:{tooltip:qe},emits:["datasetCreated"],data(){return{formId:"createEuTaxonomyForNonFinancialsForm",waitingForData:!0,dataDate:void 0,companyAssociatedEuTaxonomyDataForNonFinancials:{},euTaxonomyForNonFinancialsDataModel:vl,route:ne(),message:"",smoothScroll:we,uploadSucceded:!1,postEuTaxonomyForNonFinancialsDataProcessed:!1,messageCounter:0,checkCustomInputs:be,documents:new Map,referencedReportsForPrefill:{},namesOfAllCompanyReportsForTheDataset:[],reportingPeriod:void 0,editMode:!1}},computed:{reportingPeriodYear(){return this.reportingPeriod?this.reportingPeriod.getFullYear():0},subcategoryVisibility(){return We(this.euTaxonomyForNonFinancialsDataModel,this.companyAssociatedEuTaxonomyDataForNonFinancials.data)}},props:{companyID:{type:String,required:!0}},created(){const e=this.route.query.templateDataId;e&&typeof e=="string"&&e!==""?(this.editMode=!0,this.loadEuTaxonomyForNonFinancialsData(e)):this.waitingForData=!1,this.reportingPeriod===void 0&&(this.reportingPeriod=new Date)},methods:{async loadEuTaxonomyForNonFinancialsData(e){var d;this.waitingForData=!0;const a=(await(await new B($(this.getKeycloakPromise)()).getEuTaxonomyDataForNonFinancialsControllerApi()).getCompanyAssociatedEuTaxonomyDataForNonFinancials(e)).data;a!=null&&a.reportingPeriod&&(this.reportingPeriod=new Date(a.reportingPeriod)),this.referencedReportsForPrefill=((d=a.data.general)==null?void 0:d.referencedReports)??{},this.companyAssociatedEuTaxonomyDataForNonFinancials=_e(a),this.companyAssociatedEuTaxonomyDataForNonFinancials=this.convertPercentageFieldsViaFactor(100),this.waitingForData=!1},multiplyPercentageFieldsOfObjectByFactor(e,t){const n=e;for(const a in n)if(a.includes("InPercent")){const d=n[a];let l=String(d).length;l<2&&(l=2),n[a]=yn(t*d,l)}else typeof n[a]=="object"&&this.multiplyPercentageFieldsOfObjectByFactor(n[a],t);return n},convertPercentageFieldsViaFactor(e){const t=JSON.parse(JSON.stringify(this.companyAssociatedEuTaxonomyDataForNonFinancials)),n=t.data;for(const a in n)n[a]=this.multiplyPercentageFieldsOfObjectByFactor(n[a],e);return t.data=n,t},async postEuTaxonomyForNonFinancialsData(){this.messageCounter++;try{this.documents.size>0&&(At(this.companyAssociatedEuTaxonomyDataForNonFinancials.data,this.namesOfAllCompanyReportsForTheDataset),await Ve(Array.from(this.documents.values()),$(this.getKeycloakPromise)));const e=await new B($(this.getKeycloakPromise)()).getEuTaxonomyDataForNonFinancialsControllerApi(),t=this.convertPercentageFieldsViaFactor(.01);await e.postCompanyAssociatedEuTaxonomyDataForNonFinancials(t),this.$emit("datasetCreated"),this.dataDate=void 0,this.message="Upload successfully executed.",this.uploadSucceded=!0}catch(e){console.error(e),e.message?this.message=Gt(e):this.message="An unexpected error occurred. Please try again or contact the support team if the issue persists.",this.uploadSucceded=!1}finally{this.postEuTaxonomyForNonFinancialsDataProcessed=!0}},updateDocumentsList(e,t){this.namesOfAllCompanyReportsForTheDataset=e,this.documents=new Map,t.forEach(n=>this.documents.set(n.file.name,n))}},provide(){return{namesOfAllCompanyReportsForTheDataset:le(()=>this.namesOfAllCompanyReportsForTheDataset),referencedReportsForPrefill:le(()=>this.referencedReportsForPrefill)}}}),Ml={"data-test":"pageWrapperTitle"},Vl={key:0,class:"d-center-div text-center px-7 py-4"},Ul=i("p",{class:"font-medium text-xl"},"Loading Eu Taxonomy For Non Financials data...",-1),Kl=i("em",{class:"pi pi-spinner pi-spin","aria-hidden":"true",style:{"z-index":"20",color:"#e67f3f"}},null,-1),Bl=[Ul,Kl],Ll={key:1,class:"grid uploadFormWrapper"},Yl={id:"uploadForm",class:"text-left uploadForm col-9"},Hl={class:"uploadFormSection grid"},jl=i("div",{class:"col-3 p-3 topicLabel"},[i("h4",{id:"reportingPeriod",class:"anchor title"},"Reporting Period")],-1),Gl={class:"col-9 form-field formFields uploaded-files"},Wl={class:"lg:col-4 md:col-6 col-12 pl-0"},xl=["label","name"],zl={class:"col-3 p-3 topicLabel"},Ql=["id"],Jl={class:"col-9 formFields"},Xl={key:0},Zl=i("h4",{id:"topicTitles",class:"title pt-3"},"On this page",-1),ed=["onClick"];function td(e,t,n,a,d,l){const r=c("FormKit"),p=c("UploadFormHeader"),m=c("Calendar"),f=c("SubmitButton"),h=c("SuccessMessage"),P=c("FailMessage"),v=c("SubmitSideBar"),g=c("Card");return s(),F(g,{class:"col-12 page-wrapper-card p-3"},{title:y(()=>[i("span",Ml,w(e.editMode?"Edit":"Create")+" EU Taxonomy Dataset for a Non-Financial Company/Service",1)]),content:y(()=>[e.waitingForData?(s(),u("div",Vl,Bl)):(s(),u("div",Ll,[i("div",Yl,[o(r,{modelValue:e.companyAssociatedEuTaxonomyDataForNonFinancials,"onUpdate:modelValue":t[1]||(t[1]=b=>e.companyAssociatedEuTaxonomyDataForNonFinancials=b),actions:!1,type:"form",id:e.formId,name:e.formId,onSubmit:e.postEuTaxonomyForNonFinancialsData,onSubmitInvalid:e.checkCustomInputs},{default:y(()=>[o(r,{type:"hidden",name:"companyId","model-value":e.companyID},null,8,["model-value"]),i("div",Hl,[jl,i("div",Gl,[o(p,{label:"Reporting Period",description:"The reporting period the dataset belongs to (e.g. a fiscal year).","is-required":!0},null,8,["description"]),i("div",Wl,[o(m,{"data-test":"reportingPeriod",modelValue:e.reportingPeriod,"onUpdate:modelValue":t[0]||(t[0]=b=>e.reportingPeriod=b),inputId:"icon",showIcon:!0,view:"year",dateFormat:"yy",validation:"required"},null,8,["modelValue"])]),o(r,{type:"hidden",modelValue:e.reportingPeriodYear,name:"reportingPeriod"},null,8,["modelValue"])])]),o(r,{type:"group",name:"data",label:"data"},{default:y(()=>[(s(!0),u(S,null,A(e.euTaxonomyForNonFinancialsDataModel,b=>(s(),u("div",{key:b,label:b.label,name:b.name},[(s(!0),u(S,null,A(b.subcategories,_=>(s(),u("div",{class:"uploadFormSection grid",key:_},[e.subcategoryVisibility.get(_)??!0?(s(),u(S,{key:0},[i("div",zl,[i("h4",{id:_.name,class:"anchor title"},w(_.label),9,Ql),i("div",{class:O(`p-badge badge-${b.color}`)},[i("span",null,w(b.label.toUpperCase()),1)],2)]),i("div",Jl,[(s(!0),u(S,null,A(_.fields,N=>(s(),F(r,{key:N,type:"group",name:_.name},{default:y(()=>[N.showIf(e.companyAssociatedEuTaxonomyDataForNonFinancials.data)?(s(),F(M(N.component),{key:0,label:N.label,placeholder:N.placeholder,description:N.description,name:N.name,options:N.options,required:N.required,certificateRequiredIfYes:N.certificateRequiredIfYes,validation:N.validation,"validation-label":N.validationLabel,evidenceDesired:N.evidenceDesired,"data-test":N.name,unit:N.unit,onReportsUpdated:e.updateDocumentsList,ref_for:!0,ref:N.name},null,40,["label","placeholder","description","name","options","required","certificateRequiredIfYes","validation","validation-label","evidenceDesired","data-test","unit","onReportsUpdated"])):I("",!0)]),_:2},1032,["name"]))),128))])],64)):I("",!0)]))),128))],8,xl))),128))]),_:1})]),_:1},8,["modelValue","id","name","onSubmit","onSubmitInvalid"])]),o(v,null,{default:y(()=>[o(f,{formId:e.formId},null,8,["formId"]),e.postEuTaxonomyForNonFinancialsDataProcessed?(s(),u("div",Xl,[e.uploadSucceded?(s(),F(h,{key:0,messageId:e.messageCounter},null,8,["messageId"])):(s(),F(P,{key:1,"data-test":"failedUploadMessage",message:e.message,messageId:e.messageCounter},null,8,["message","messageId"]))])):I("",!0),Zl,i("ul",null,[(s(!0),u(S,null,A(e.euTaxonomyForNonFinancialsDataModel,b=>(s(),u("li",{key:b},[i("ul",null,[(s(!0),u(S,null,A(b.subcategories,_=>(s(),u("li",{key:_},[e.subcategoryVisibility.get(_)??!0?(s(),u("a",{key:0,onClick:N=>e.smoothScroll(`#${_.name}`)},w(_.label),9,ed)):I("",!0)]))),128))])]))),128))])]),_:1})]))]),_:1})}const St=D(ql,[["render",td]]);function nd(e){setTimeout(()=>{e.push("/datasets")},ln)}const ad=C({name:"EuTaxonomyBasicInformation",components:{RadioButtonsFormField:He,UploadFormHeader:E,Calendar:W,FormKit:T,YesNoFormField:z},emits:["updateFiscalYearEndHandler"],data:()=>({euTaxonomyKpiInfoMappings:lt,euTaxonomyKpiNameMappings:st}),props:{fiscalYearEndAsDate:{type:Date},fiscalYearEnd:{type:String}},methods:{updateFiscalYearEndHandler(e){this.$emit("updateFiscalYearEndHandler",e)}}}),od={class:"uploadFormSection"},id=i("div",{class:"col-3 p-3 topicLabel"},[i("h4",{id:"basicInformation",class:"anchor title"},"Basic information")],-1),rd={class:"col-9 formFields"},sd=i("h3",{class:"mt-0"},"Basic information",-1),ld={class:"form-field"},dd={class:"md:col-6 col-12 p-0"},cd={class:"form-field"},ud={class:"form-field"},pd={class:"form-field"},md={class:"lg:col-4 md:col-4 col-6 p-0"},fd={class:"form-field"};function hd(e,t,n,a,d,l){const r=c("RadioButtonsFormField"),p=c("UploadFormHeader"),m=c("Calendar"),f=c("FormKit"),h=c("YesNoFormField");return s(),u("div",od,[id,i("div",rd,[sd,o(r,{name:"fiscalYearDeviation",description:e.euTaxonomyKpiInfoMappings.fiscalYearDeviation,label:e.euTaxonomyKpiNameMappings.fiscalYearDeviation,options:{Deviation:"Deviation",NoDeviation:"No Deviation"}},null,8,["description","label"]),i("div",ld,[o(p,{label:e.euTaxonomyKpiNameMappings.fiscalYearEnd,description:e.euTaxonomyKpiInfoMappings.fiscalYearEnd},null,8,["label","description"]),i("div",dd,[o(m,{inputId:"fiscalYearEndAsDate",modelValue:e.fiscalYearEndAsDate,"data-test":"fiscalYearEnd",showIcon:!0,dateFormat:"D, M dd, yy","onUpdate:modelValue":t[0]||(t[0]=P=>e.updateFiscalYearEndHandler(P))},null,8,["modelValue"])]),o(f,{type:"text","validation-label":"Fiscal year",modelValue:e.fiscalYearEnd,name:"fiscalYearEnd","outer-class":{"hidden-input":!0}},null,8,["modelValue"])]),i("div",cd,[o(h,{name:"scopeOfEntities",description:e.euTaxonomyKpiInfoMappings.scopeOfEntities,label:e.euTaxonomyKpiNameMappings.scopeOfEntities},null,8,["description","label"])]),i("div",ud,[o(h,{name:"euTaxonomyActivityLevelReporting",description:e.euTaxonomyKpiInfoMappings.euTaxonomyActivityLevelReporting,label:e.euTaxonomyKpiNameMappings.euTaxonomyActivityLevelReporting},null,8,["description","label"])]),i("div",pd,[o(p,{label:e.euTaxonomyKpiNameMappings.numberOfEmployees,description:e.euTaxonomyKpiInfoMappings.numberOfEmployees},null,8,["label","description"]),i("div",md,[o(f,{type:"number",name:"numberOfEmployees","validation-label":"Number of employees",placeholder:"Value",validation:"number|min:0",step:"1",min:"0"})])]),i("div",fd,[o(h,{name:"nfrdMandatory",description:e.euTaxonomyKpiInfoMappings.nfrdMandatory,label:e.euTaxonomyKpiNameMappings.nfrdMandatory},null,8,["description","label"])])])])}const yd=D(ad,[["render",hd]]),gd=C({name:"JumpLinksSection",props:{onThisPageLinks:{type:Array,required:!0}},data:()=>({smoothScroll:we})}),bd={id:"jumpLinks",ref:"jumpLinks"},vd=i("h4",{id:"topicTitles",class:"title pt-3"},"On this page",-1),Fd=["onClick"];function Cd(e,t,n,a,d,l){return s(),u("div",bd,[vd,i("ul",null,[(s(!0),u(S,null,A(e.onThisPageLinks,(r,p)=>(s(),u("li",{key:p},[i("a",{onClick:m=>e.smoothScroll(`#${r.value}`)},w(r.label),9,Fd)]))),128))])],512)}const Dd=D(gd,[["render",Cd]]),Sd=C({name:"DataPointHeader",props:{name:String}}),Pd={class:"form-field-label"};function Id(e,t,n,a,d,l){return s(),u("div",Pd,[i("h3",null,w(e.name),1)])}const Ad=D(Sd,[["render",Id]]);function Wt(e){e.props.type==="select"&&e.on("prop:options",({payload:t})=>{t.map(n=>n.value).includes(e.value)||e.input("").catch(()=>{})})}const wd=C({name:"DataPointFormWithToggle",components:{DataPointHeader:Ad,UploadFormHeader:E,FormKit:T,InputSwitch:Ge},emits:["dataPointAvailableToggle"],data:()=>({dataPointIsAvailable:!0,qualityOptions:Object.values(de).map(e=>({label:e,value:e})),currentAmountValue:"",currentPercentageValue:"",currentReportValue:"",currentPageValue:"",currentQualityValue:"",qualityValueBeforeDataPointWasDisabled:""}),watch:{dataPointIsAvailable(e){e?this.currentQualityValue=this.qualityValueBeforeDataPointWasDisabled:(this.qualityValueBeforeDataPointWasDisabled=this.currentQualityValue,this.currentQualityValue="NA")}},props:{name:{type:String},kpiInfoMappings:{type:Object,default:null},kpiNameMappings:{type:Object,default:null},valueType:{type:String,default:"percent"},reportsName:{type:Array,default:()=>[]},showSecondInput:{type:Boolean,default:!1}},methods:{selectNothingIfNotExistsFormKitPlugin:Wt,dataPointAvailableToggle(){this.dataPointIsAvailable=!this.dataPointIsAvailable}}}),kd={"data-test":"dataPointToggle",class:"form-field vertical-middle"},Ed={"data-test":"dataPointToggleTitle",class:"ml-2"},Td={key:0,class:"form-field"},$d={key:0,class:"p-0"},Nd={class:"next-to-each-other"},Od={class:"p-0"},Rd={key:1},_d={class:"form-field"},qd=i("h4",{class:"mt-0"},"Data source",-1),Md={class:"next-to-each-other"},Vd={class:"flex-1"},Ud={class:"form-field"},Kd={class:"md:col-6 col-12 p-0"},Bd={class:"form-field"};function Ld(e,t,n,a,d,l){const r=c("DataPointHeader"),p=c("InputSwitch"),m=c("UploadFormHeader"),f=c("FormKit");return s(),u(S,null,[o(r,{name:e.kpiNameMappings[e.name]},null,8,["name"]),i("div",kd,[o(p,{"data-test":"dataPointToggleButton",inputId:"dataPointIsAvailableSwitch",onClick:e.dataPointAvailableToggle,modelValue:e.dataPointIsAvailable,"onUpdate:modelValue":t[0]||(t[0]=h=>e.dataPointIsAvailable=h)},null,8,["onClick","modelValue"]),i("h5",Ed,w(e.dataPointIsAvailable?"Data point is available":"Data point is not available"),1)]),L(i("div",null,[e.dataPointIsAvailable?(s(),u("div",Td,[e.valueType==="percent"&&e.showSecondInput?(s(),u("div",$d,[i("div",Nd,[i("div",Od,[o(m,{label:e.valueType==="percent"?`${e.kpiNameMappings[e.name]} (%)`:`${e.kpiNameMappings[e.name]}`,description:e.kpiInfoMappings[e.name]??""},null,8,["label","description"]),o(f,{disabled:!e.dataPointIsAvailable,type:"number",name:"valueAsPercentage","validation-label":"",modelValue:e.currentPercentageValue,"onUpdate:modelValue":t[1]||(t[1]=h=>e.currentPercentageValue=h),placeholder:e.valueType==="percent"?"Value %":"Value",step:"any",min:"0",validation:e.valueType==="percent"?"number|between:0,100":"number","inner-class":{short:!1}},null,8,["disabled","modelValue","placeholder","validation"])]),i("div",null,[o(m,{label:`${e.kpiNameMappings[e.name]}`,description:e.kpiInfoMappings[`${e.name}Amount`]??""},null,8,["label","description"]),o(f,{disabled:!e.dataPointIsAvailable,type:"number",name:"valueAsAbsolute","validation-label":"",modelValue:e.currentAmountValue,"onUpdate:modelValue":t[2]||(t[2]=h=>e.currentAmountValue=h),placeholder:"Value",step:"any",min:"0",validation:"number","inner-class":{short:!1}},null,8,["disabled","modelValue"])])])])):(s(),u("div",Rd,[o(m,{label:e.valueType==="percent"?`${e.kpiNameMappings[e.name]} (%)`:`${e.kpiNameMappings[e.name]}`,description:e.kpiInfoMappings[e.name]??""},null,8,["label","description"]),o(f,{disabled:!e.dataPointIsAvailable,type:"number",name:"value","validation-label":"",modelValue:e.currentAmountValue,"onUpdate:modelValue":t[3]||(t[3]=h=>e.currentAmountValue=h),placeholder:"Value",step:"any",min:"0",validation:"number","inner-class":{short:!0}},null,8,["disabled","modelValue"])]))])):I("",!0),i("div",_d,[e.dataPointIsAvailable?(s(),F(f,{key:0,type:"group",name:"dataSource"},{default:y(()=>[qd,i("div",Md,[i("div",Vd,[o(m,{label:e.kpiNameMappings.report??"",description:e.kpiInfoMappings.report??""},null,8,["label","description"]),o(f,{type:"select",name:"report",disabled:!e.dataPointIsAvailable,modelValue:e.currentReportValue,"onUpdate:modelValue":t[4]||(t[4]=h=>e.currentReportValue=h),placeholder:"Select a report",options:["None...",...e.reportsName],plugins:[e.selectNothingIfNotExistsFormKitPlugin]},null,8,["disabled","modelValue","options","plugins"])]),i("div",null,[o(m,{label:e.kpiNameMappings.page??"",description:e.kpiInfoMappings.page??""},null,8,["label","description"]),o(f,{"outer-class":"w-100",disabled:!e.dataPointIsAvailable,modelValue:e.currentPageValue,"onUpdate:modelValue":t[5]||(t[5]=h=>e.currentPageValue=h),type:"number",name:"page",placeholder:"Page","validation-label":"Page",step:"1",min:"0",validation:"min:0"},null,8,["disabled","modelValue"])])])]),_:1})):I("",!0)]),i("div",Ud,[o(m,{label:"Data quality",description:"The level of confidence associated to the value.","is-required":!0}),i("div",Kd,[o(f,{disabled:!e.dataPointIsAvailable,type:"select",modelValue:e.currentQualityValue,"onUpdate:modelValue":t[6]||(t[6]=h=>e.currentQualityValue=h),name:"quality",validation:e.dataPointIsAvailable?"required":"","validation-label":"Data quality",placeholder:"Data quality",options:e.qualityOptions},null,8,["disabled","modelValue","validation","options"])])])],512),[[te,e.dataPointIsAvailable]]),i("div",Bd,[o(f,{type:"textarea",name:"comment",placeholder:"(Optional) Add comment that might help Quality Assurance to approve the datapoint. "})])],64)}const Yd=D(wd,[["render",Ld]]),Hd=C({setup(){return{getKeycloakPromise:ye("getKeycloakPromise")}},name:"CreateEuTaxonomyForFinancials",components:{JumpLinksSection:Dd,SubmitButton:Pe,SubmitSideBar:Ie,FailMessage:Ce,FormKit:T,SuccessMessage:Fe,UploadFormHeader:E,Card:ge,UploadReports:rt,EuTaxonomyBasicInformation:yd,PrimeButton:V,Calendar:W,MultiSelect:Ze,DataPointFormWithToggle:Yd},emits:["datasetCreated"],data(){return{formId:"createEuTaxonomyForFinancialsForm",formInputsModel:{},fiscalYearEndAsDate:null,fiscalYearEnd:"",reportingPeriod:void 0,assuranceData:{None:ee(Z.None),LimitedAssurance:ee(Z.LimitedAssurance),ReasonableAssurance:ee(Z.ReasonableAssurance)},euTaxonomyKPIsModel:j,euTaxonomyKpiNameMappings:st,euTaxonomyKpiInfoMappings:lt,route:ne(),waitingForData:!1,editMode:!1,postEuTaxonomyDataForFinancialsProcessed:!1,messageCount:0,postEuTaxonomyDataForFinancialsResponse:null,onThisPageLinksStart:[{label:"Upload company reports",value:"uploadReports"},{label:"Basic information",value:"basicInformation"},{label:"Assurance",value:"assurance"},{label:"Add KPIs",value:"addKpis"}],onThisPageLinks:[],financialServiceOptionsInDropdown:[{label:"Credit Institution",value:Te(G.CreditInstitution)},{label:"Investment Firm",value:Te(G.InvestmentFirm)},{label:"Insurance & Re-insurance",value:Te(G.InsuranceOrReinsurance)},{label:"Asset Management",value:Te(G.AssetManagement)}],selectedFinancialServiceOptions:[],confirmedSelectedFinancialServiceOptions:[],confirmedSelectedFinancialServiceTypes:[],message:"",namesOfAllCompanyReportsForTheDataset:[],templateDataset:void 0}},computed:{reportingPeriodYear(){return this.reportingPeriod?this.reportingPeriod.getFullYear():0}},watch:{confirmedSelectedFinancialServiceOptions:function(e){this.confirmedSelectedFinancialServiceTypes=e.map(t=>j.kpisFieldNameToFinancialServiceType[t.value])}},props:{companyID:{type:String,required:!0}},created(){const e=this.route.query.templateDataId;typeof e=="string"&&e!==""&&(this.editMode=!0,this.fetchTemplateData(e)),this.reportingPeriod===void 0&&(this.reportingPeriod=new Date),this.onThisPageLinks=[...this.onThisPageLinksStart]},methods:{selectNothingIfNotExistsFormKitPlugin:Wt,fetchTemplateData(e){this.waitingForData=!0,new B($(this.getKeycloakPromise)()).getEuTaxonomyDataForFinancialsControllerApi().then(t=>t.getCompanyAssociatedEuTaxonomyDataForFinancials(e).then(n=>{var l;const a=n.data;a!=null&&a.reportingPeriod&&(this.reportingPeriod=new Date(a.reportingPeriod)),(l=a.data)!=null&&l.fiscalYearEnd&&(this.fiscalYearEndAsDate=new Date(a.data.fiscalYearEnd)),this.templateDataset=a.data,this.extractFinancialServiceTypes(a.data);const d=un(a);d.data.kpiSections=this.extractKpis(d.data),this.waitingForData=!1,dn().then(()=>pn(this.formInputsModel,d)).catch(r=>console.log(r))}).catch(n=>console.log(n))).catch(t=>console.log(t))},extractKpis(e){const t=Object.keys(j.kpisFieldNameToFinancialServiceType);return t.map(n=>{const a=Object.values(j.kpisFieldNameToFinancialServiceType)[t.indexOf(n)],d=e.eligibilityKpis[a],l=d?{[a]:d}:void 0;return{[n]:l}}).map(n=>{const a=Object.keys(n)[0],d=e[a];return d&&(n[a]={...n[a],...d}),n}).filter(n=>Object.values(n)[0]).reduce((n,a)=>({...n,...a}))},extractFinancialServiceTypes(e){if(e!=null&&e.financialServicesTypes){const t=e==null?void 0:e.financialServicesTypes;this.selectedFinancialServiceOptions=this.financialServiceOptionsInDropdown.filter(n=>t==null?void 0:t.includes(j.kpisFieldNameToFinancialServiceType[n.value])),this.confirmSelectedKPIs()}},confirmSelectedKPIs(){this.confirmedSelectedFinancialServiceOptions=this.selectedFinancialServiceOptions,this.onThisPageLinks=[...new Set(this.onThisPageLinksStart.concat(this.selectedFinancialServiceOptions))]},convertKpis(e){const t=Object.keys(e).map(a=>{const d=j.kpisFieldNameToFinancialServiceType[a],r=e[a][d];return{[d]:r}}).reduce((a,d)=>({...a,...d})),n=Object.keys(e).filter(a=>a!=="assetManagementKpis").map(a=>{const d={[a]:e[a]};if(e[a]){const l=j.kpisFieldNameToFinancialServiceType[a];delete d[a][l]}return d}).reduce((a,d)=>({...a,...d}));return{eligibilityKpis:t,...n}},async postEuTaxonomyDataForFinancials(){try{this.postEuTaxonomyDataForFinancialsProcessed=!1,this.messageCount++;const e=JSON.parse(JSON.stringify(this.formInputsModel)),t=e.data.kpiSections;delete e.data.kpiSections,e.data={...e.data,...this.convertKpis(t)},At(this.formInputsModel.data,this.namesOfAllCompanyReportsForTheDataset),await Ve(this.$refs.UploadReports.$data.documentsToUpload,$(this.getKeycloakPromise));const n=mn(e),a=await new B($(this.getKeycloakPromise)()).getEuTaxonomyDataForFinancialsControllerApi();this.postEuTaxonomyDataForFinancialsResponse=await a.postCompanyAssociatedEuTaxonomyDataForFinancials(n),this.$emit("datasetCreated")}catch(e){this.messageCount++,console.error(e),this.message=Gt(e)}finally{this.postEuTaxonomyDataForFinancialsProcessed=!0}},removeKpisSection(e){const t=this.confirmedSelectedFinancialServiceOptions.filter(n=>n.value!==e);this.confirmedSelectedFinancialServiceOptions=t,this.selectedFinancialServiceOptions=t,this.onThisPageLinks=this.onThisPageLinks.filter(n=>n.value!==e)},updateFiscalYearEndHandler(e){this.fiscalYearEnd=Oe(e),this.fiscalYearEndAsDate=e},handleInvalidInput(e){be(e),this.message="Sorry, not all fields are filled out correctly.",this.postEuTaxonomyDataForFinancialsProcessed=!0},handleChangeOfReferenceableReportNames(e){this.namesOfAllCompanyReportsForTheDataset=e}}}),jd={"data-test":"pageWrapperTitle"},Gd={key:0,class:"inline-loading text-center"},Wd=i("p",{class:"font-medium text-xl"},"Loading dataset to edit...",-1),xd=i("i",{class:"pi pi-spinner pi-spin","aria-hidden":"true",style:{"z-index":"20",color:"#e67f3f"}},null,-1),zd=[Wd,xd],Qd={class:"grid uploadFormWrapper"},Jd={id:"uploadForm",class:"text-left uploadForm col-9"},Xd={class:"uploadFormSection grid"},Zd=i("div",{class:"col-3 p-3 topicLabel"},[i("h4",{id:"reportingPeriod",class:"anchor title"},"Reporting Period")],-1),ec={class:"col-9 formFields uploaded-files"},tc={class:"lg:col-6 md:col-6 col-12 p-0"},nc={class:"uploadFormSection"},ac=i("div",{class:"col-3 p-3 topicLabel"},[i("h4",{id:"assurance",class:"anchor title"},"Assurance")],-1),oc={"data-test":"assuranceSection",class:"col-9 formFields"},ic=i("h3",{class:"mt-0"},"Assurance",-1),rc={class:"form-field"},sc={class:"lg:col-4 md:col-6 col-12 p-0"},lc={class:"form-field"},dc={class:"form-field"},cc=i("h4",{class:"mt-0"},"Data source",-1),uc={class:"next-to-each-other"},pc={class:"flex-1"},mc={class:"uploadFormSection"},fc=i("div",{class:"col-3 p-3 topicLabel"},[i("h4",{id:"addKpis",class:"anchor title"},"Add KPIs"),i("p",null,"Select at least one services type to add the related section of KPIs.")],-1),hc={class:"col-9 formFields"},yc={class:"form-field"},gc={key:0},bc=["data-test"],vc={class:"flex w-full"},Fc={class:"p-3 topicLabel"},Cc=["id"],Dc={key:0,class:"uploadFormSection"},Sc=["data-test"],Pc={class:"col-9 formFields"},Ic={class:"form-field"},Ac=["data-test"],wc={class:"col-9 formFields"},kc={class:"form-field"};function Ec(e,t,n,a,d,l){const r=c("FormKit"),p=c("UploadFormHeader"),m=c("Calendar"),f=c("UploadReports"),h=c("EuTaxonomyBasicInformation"),P=c("MultiSelect"),v=c("PrimeButton"),g=c("DataPointFormWithToggle"),b=c("SubmitButton"),_=c("SuccessMessage"),N=c("FailMessage"),xt=c("JumpLinksSection"),zt=c("SubmitSideBar"),Qt=c("Card");return s(),F(Qt,{class:"col-12 page-wrapper-card p-3"},{title:y(()=>[i("span",jd,w(e.editMode?"Edit":"Create")+" EU Taxonomy Dataset for a Financial Company/Service",1)]),content:y(()=>[e.waitingForData?(s(),u("div",Gd,zd)):I("",!0),L(i("div",Qd,[i("div",Jd,[o(r,{modelValue:e.formInputsModel,"onUpdate:modelValue":t[2]||(t[2]=Y=>e.formInputsModel=Y),actions:!1,type:"form",id:e.formId,onSubmit:e.postEuTaxonomyDataForFinancials,onSubmitInvalid:e.handleInvalidInput},{default:y(()=>[o(r,{type:"hidden",name:"companyId",label:"Company ID",placeholder:"Company ID",modelValue:e.companyID},null,8,["modelValue"]),i("div",Xd,[Zd,i("div",ec,[o(p,{"data-test":"reportingPeriodLabel",label:e.euTaxonomyKpiNameMappings.reportingPeriod,description:e.euTaxonomyKpiInfoMappings.reportingPeriod,"is-required":!0},null,8,["label","description"]),i("div",tc,[o(m,{"data-test":"reportingPeriod",modelValue:e.reportingPeriod,"onUpdate:modelValue":t[0]||(t[0]=Y=>e.reportingPeriod=Y),inputId:"icon",showIcon:!0,view:"year",dateFormat:"yy",validation:"required"},null,8,["modelValue"])]),o(r,{type:"hidden",modelValue:e.reportingPeriodYear,name:"reportingPeriod"},null,8,["modelValue"])]),o(r,{type:"group",name:"data",label:"data","validation-label":"data",validation:"required"},{default:y(()=>{var Y;return[o(f,{name:"UploadReports",ref:"UploadReports",isEuTaxonomy:!0,referencedReportsForPrefill:(Y=e.templateDataset)==null?void 0:Y.referencedReports,onReportsUpdated:e.handleChangeOfReferenceableReportNames},null,8,["referencedReportsForPrefill","onReportsUpdated"]),o(h,{fiscalYearEndAsDate:e.fiscalYearEndAsDate,fiscalYearEnd:e.fiscalYearEnd,onUpdateFiscalYearEndHandler:e.updateFiscalYearEndHandler},null,8,["fiscalYearEndAsDate","fiscalYearEnd","onUpdateFiscalYearEndHandler"]),i("div",nc,[ac,i("div",oc,[ic,o(r,{name:"assurance",type:"group"},{default:y(()=>[i("div",rc,[o(p,{label:e.euTaxonomyKpiNameMappings.assurance??"",description:e.euTaxonomyKpiInfoMappings.assurance??"","is-required":!0},null,8,["label","description"]),i("div",sc,[o(r,{type:"select",name:"assurance",placeholder:"Please choose...","validation-label":e.euTaxonomyKpiNameMappings.assurance??"",validation:"required",options:e.assuranceData},null,8,["validation-label","options"])])]),i("div",lc,[o(p,{label:e.euTaxonomyKpiNameMappings.provider??"",description:e.euTaxonomyKpiInfoMappings.provider??""},null,8,["label","description"]),o(r,{type:"text",name:"provider",placeholder:e.euTaxonomyKpiNameMappings.provider??"","validation-label":e.euTaxonomyKpiNameMappings.provider??""},null,8,["placeholder","validation-label"])]),i("div",dc,[o(r,{type:"group",name:"dataSource"},{default:y(()=>[cc,i("div",uc,[i("div",pc,[o(p,{label:e.euTaxonomyKpiNameMappings.report??"",description:e.euTaxonomyKpiInfoMappings.report??"","is-required":!0},null,8,["label","description"]),o(r,{type:"select",name:"report",placeholder:"Select a report","validation-label":"Selecting a report",options:["None...",...e.namesOfAllCompanyReportsForTheDataset],plugins:[e.selectNothingIfNotExistsFormKitPlugin]},null,8,["options","plugins"])]),i("div",null,[o(p,{label:e.euTaxonomyKpiNameMappings.page??"",description:e.euTaxonomyKpiInfoMappings.page??""},null,8,["label","description"]),o(r,{"outer-class":"w-100",type:"number",name:"page",placeholder:"Page","validation-label":"Page",validation:"min:0",step:"1",min:"0"})])])]),_:1})])]),_:1})])]),i("div",mc,[fc,i("div",hc,[i("div",yc,[o(p,{"data-test":"selectKPIsLabel",label:e.euTaxonomyKpiNameMappings.financialServicesTypes??"",description:e.euTaxonomyKpiInfoMappings.financialServicesTypes??"","is-required":!0},null,8,["label","description"]),o(P,{modelValue:e.selectedFinancialServiceOptions,"onUpdate:modelValue":t[1]||(t[1]=q=>e.selectedFinancialServiceOptions=q),options:e.financialServiceOptionsInDropdown,"data-test":"MultiSelectfinancialServicesTypes",name:"MultiSelectfinancialServicesTypes",optionLabel:"label","validation-label":"Services Types",validation:"required",placeholder:"Select...",class:"mb-3"},null,8,["modelValue","options"]),e.selectedFinancialServiceOptions.length?(s(),u("ul",gc,[(s(!0),u(S,null,A(e.selectedFinancialServiceOptions,(q,ie)=>(s(),u("li",{key:ie},w(q.label),1))),128))])):I("",!0),o(v,{onClick:e.confirmSelectedKPIs,"data-test":"addKpisButton",label:e.selectedFinancialServiceOptions.length?"UPDATE KPIS":"ADD RELATED KPIS"},null,8,["onClick","label"]),o(r,{modelValue:e.confirmedSelectedFinancialServiceTypes,type:"text",validationLabel:"Choosing a Financials Services Type and adding KPIs for it ",validation:"required",name:"financialServicesTypes","outer-class":{"hidden-input":!0}},null,8,["modelValue"])])])]),o(r,{name:"kpiSections",type:"group"},{default:y(()=>[(s(!0),u(S,null,A(e.confirmedSelectedFinancialServiceOptions,q=>(s(),u("div",{key:q,"data-test":q.value,class:"uploadFormSection"},[i("div",vc,[i("div",Fc,[i("h3",{id:q.value,class:"anchor title"},w(q.label),9,Cc)]),o(v,{onClick:ie=>e.removeKpisSection(q.value),label:"REMOVE THIS SECTION","data-test":"removeSectionButton",class:"p-button-text ml-auto",icon:"pi pi-trash"},null,8,["onClick"])]),o(r,{name:q.value,type:"group"},{default:y(()=>{var ie;return[q.value!=="assetManagementKpis"?(s(),u("div",Dc,[(s(!0),u(S,null,A(e.euTaxonomyKPIsModel[q.value],H=>(s(),u("div",{key:H,"data-test":H,class:"uploadFormSection"},[i("div",Pc,[o(r,{name:H,type:"group"},{default:y(()=>[i("div",Ic,[o(g,{name:H??"",kpiInfoMappings:e.euTaxonomyKpiInfoMappings,kpiNameMappings:e.euTaxonomyKpiNameMappings,reportsName:e.namesOfAllCompanyReportsForTheDataset},null,8,["name","kpiInfoMappings","kpiNameMappings","reportsName"])])]),_:2},1032,["name"])])],8,Sc))),128))])):I("",!0),o(r,{name:(ie=e.euTaxonomyKPIsModel)==null?void 0:ie.kpisFieldNameToFinancialServiceType[q.value],type:"group"},{default:y(()=>[(s(!0),u(S,null,A(e.euTaxonomyKPIsModel.eligibilityKpis,H=>(s(),u("div",{key:H,"data-test":H,class:"uploadFormSection"},[i("div",wc,[o(r,{name:H,type:"group"},{default:y(()=>[i("div",kc,[o(g,{name:H??"",kpiInfoMappings:e.euTaxonomyKpiInfoMappings,kpiNameMappings:e.euTaxonomyKpiNameMappings,reportsName:e.namesOfAllCompanyReportsForTheDataset},null,8,["name","kpiInfoMappings","kpiNameMappings","reportsName"])])]),_:2},1032,["name"])])],8,Ac))),128))]),_:2},1032,["name"])]}),_:2},1032,["name"])],8,bc))),128))]),_:1})]}),_:1})])]),_:1},8,["modelValue","id","onSubmit","onSubmitInvalid"])]),o(zt,null,{default:y(()=>{var Y;return[o(b,{formId:e.formId},null,8,["formId"]),e.postEuTaxonomyDataForFinancialsProcessed?(s(),u(S,{key:0},[((Y=e.postEuTaxonomyDataForFinancialsResponse)==null?void 0:Y.status)===200?(s(),F(_,{key:0,msg:"EU Taxonomy Data",messageId:e.messageCount},null,8,["messageId"])):(s(),F(N,{key:1,message:e.message,messageId:e.messageCount},null,8,["message","messageId"]))],64)):I("",!0),o(xt,{onThisPageLinks:e.onThisPageLinks},null,8,["onThisPageLinks"])]}),_:1})],512),[[te,!e.waitingForData]])]),_:1})}const Tc=D(Hd,[["render",Ec]]),$c=C({name:"UploadFormWrapper",components:{TheContent:Jt,AuthorizationWrapper:$n,CreateLksgDataset:Ft,CreateSfdrDataset:Ct,CreateP2pDataset:Dt,CreateEuTaxonomyForNonFinancials:St,TheHeader:Xt,AuthenticationWrapper:Zt,CompanyInformation:kn,TheFooter:En,BackButton:Tn},data(){return{KEYCLOAK_ROLE_UPLOADER:cn}},props:{companyID:String,frameworkType:String},methods:{redirectToMyDatasets:nd},computed:{frameworkToUploadComponent(){switch(this.frameworkType){case`${re.EutaxonomyNonFinancials}`:return St;case`${re.Lksg}`:return Ft;case`${re.P2p}`:return Dt;case`${re.Sfdr}`:return Ct;case`${re.EutaxonomyFinancials}`:return Tc;default:return null}}}});function Nc(e,t,n,a,d,l){const r=c("TheHeader"),p=c("BackButton"),m=c("CompanyInformation"),f=c("AuthorizationWrapper"),h=c("TheContent"),P=c("TheFooter"),v=c("AuthenticationWrapper");return s(),F(v,null,{default:y(()=>[o(r),o(h,null,{default:y(()=>[o(f,{"required-role":e.KEYCLOAK_ROLE_UPLOADER},{default:y(()=>[o(p,{id:"backButton",class:"mt-2 pl-3"}),o(m,{companyID:e.companyID},null,8,["companyID"]),(s(),F(M(e.frameworkToUploadComponent),{companyID:e.companyID,onDatasetCreated:t[0]||(t[0]=g=>e.redirectToMyDatasets(this.$router))},null,40,["companyID"]))]),_:1},8,["required-role"])]),_:1}),o(P)]),_:1})}const su=D($c,[["render",Nc]]);export{su as default};
//# sourceMappingURL=UploadFormWrapper-fb967a4b.js.map
