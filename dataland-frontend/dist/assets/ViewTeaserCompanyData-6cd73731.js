import u from"./ViewFrameworkData-0c422b76.js";import{A as m}from"./ApiClients-c2d52430.js";import{d as C,i as D,e as d,_ as g,r,c as s,a as e,f as n,j as l,F as _,o as p}from"./index-2a0d7e9b.js";import{J as w}from"./JoinDatalandButton-e7abeff7.js";import{B as A}from"./BackButton-a493b2ca.js";import"./TheHeader-0690a93c.js";import"./TheFooter-3b777f63.js";import"./CompanyInformation-3eed2996.js";import"./FrameworkDataSearchBar-c5428140.js";import"./SearchResultHighlighter-7144da99.js";import"./virtualscroller.esm-6815c49e.js";import"./index.esm-46141996.js";import"./qa-status-272129d3.js";import"./MarginWrapper-03c47968.js";import"./dropdown.esm-db79d236.js";import"./StringHumanizer-b303955c.js";import"./P2pDataModel-581dda29.js";import"./CountryCodeConverter-d8382291.js";import"./card.esm-451b3d6d.js";import"./NumberConversionUtils-90820848.js";import"./PredefinedComponentOptionsGetter-826521dc.js";import"./tooltip.esm-67eb1d6e.js";import"./column.esm-4af04ca3.js";import"./inputtext.esm-51fe2afe.js";import"./index.esm-e4a4c290.js";import"./index.esm-53a24283.js";import"./index.esm-cdf29d06.js";const k=C({name:"ViewTeaserCompanyData",components:{ViewFrameworkData:u,JoinDatalandButton:w,BackButton:A},setup(){return{getKeycloakPromise:D("getKeycloakPromise")}},data:()=>({companyId:"",dataId:"",dataType:"",reportingPeriod:"",isMetaInfoFetched:!1,isAtLeastOneTeaserCompanyExisting:!0,isAtLeastOneDatasetExistingForTeaserCompany:!0}),created(){this.queryCompany()},methods:{async queryCompany(){try{const o=await(await new m(d(this.getKeycloakPromise)()).getCompanyDataControllerApi()).getTeaserCompanies();if(o.data.length>0){this.companyId=o.data[0];const i=(await(await new m(d(this.getKeycloakPromise)()).getMetaDataControllerApi()).getListOfDataMetaInfo(this.companyId)).data;if(i.length>0){const a=i[0];this.dataId=a.dataId,this.dataType=a.dataType,this.reportingPeriod=a.reportingPeriod,this.isMetaInfoFetched=!0}else this.isAtLeastOneDatasetExistingForTeaserCompany=!1}else this.isAtLeastOneTeaserCompanyExisting=!1}catch(t){console.error(t)}}}}),T={key:0,class:"mt-8"},I=e("h3",null,"COMPANY DATA SAMPLE",-1),B=e("h4",null,"Try Dataland with other people to access all the data.",-1),F={class:"col-4 col-offset-4"},P={key:1},v=e("h3",null,"No sample data published",-1),M=e("h4",null," Currently there is no dataset published for preview by the Dataland administrators. Please come back later to see a preview dataset. ",-1);function O(t,o,c,i,a,E){const y=r("JoinDatalandButton"),h=r("ViewFrameworkData"),f=r("BackButton");return p(),s(_,null,[t.isMetaInfoFetched?(p(),s("div",T,[I,B,e("div",F,[n(y)]),n(h,{"view-in-preview-mode":!0,"company-id":t.companyId,"data-type":t.dataType,"data-id":t.dataId,"reporting-period":t.reportingPeriod},null,8,["company-id","data-type","data-id","reporting-period"])])):l("",!0),!t.isAtLeastOneTeaserCompanyExisting||!t.isAtLeastOneDatasetExistingForTeaserCompany?(p(),s("div",P,[n(f),v,M])):l("",!0)],64)}const st=g(k,[["render",O]]);export{st as default};
//# sourceMappingURL=ViewTeaserCompanyData-6cd73731.js.map
