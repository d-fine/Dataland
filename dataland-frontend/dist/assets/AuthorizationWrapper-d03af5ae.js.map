{"version":3,"file":"AuthorizationWrapper-d03af5ae.js","sources":["../../src/components/wrapper/AuthorizationWrapper.vue"],"sourcesContent":["<template>\n  <div v-if=\"hasUserRequiredRole\">\n    <slot></slot>\n  </div>\n  <TheContent v-else class=\"paper-section flex\">\n    <MiddleCenterDiv class=\"col-12\">\n      <div class=\"col-6 md:col-8 lg:col-12\">\n        <h1>You do not have permission to visit this page.</h1>\n      </div>\n    </MiddleCenterDiv>\n  </TheContent>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject } from \"vue\";\nimport type Keycloak from \"keycloak-js\";\nimport { checkIfUserHasRole } from \"@/utils/KeycloakUtils\";\nimport TheContent from \"@/components/generics/TheContent.vue\";\nimport MiddleCenterDiv from \"@/components/wrapper/MiddleCenterDivWrapper.vue\";\n\nexport default defineComponent({\n  name: \"AuthorizationWrapper\",\n  components: { TheContent, MiddleCenterDiv },\n  data() {\n    return {\n      hasUserRequiredRole: null as boolean | null,\n    };\n  },\n  props: {\n    requiredRole: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    return {\n      getKeycloakPromise: inject<() => Promise<Keycloak>>(\"getKeycloakPromise\"),\n    };\n  },\n  mounted: function () {\n    checkIfUserHasRole(this.requiredRole, this.getKeycloakPromise)\n      .then((hasUserRequiredRole) => {\n        this.hasUserRequiredRole = hasUserRequiredRole;\n      })\n      .catch((error) => console.log(error));\n  },\n});\n</script>\n"],"names":["_sfc_main","defineComponent","TheContent","MiddleCenterDiv","inject","checkIfUserHasRole","hasUserRequiredRole","error","_hoisted_1","_resolveComponent","_ctx","_openBlock","_createElementBlock","_createBlock","_component_TheContent","_withCtx","_createVNode","_component_MiddleCenterDiv"],"mappings":"8MAoBA,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,uBACN,WAAY,CAAE,WAAAC,EAAY,gBAAAC,CAAgB,EAC1C,MAAO,CACE,MAAA,CACL,oBAAqB,IAAA,CAEzB,EACA,MAAO,CACL,aAAc,CACZ,KAAM,OACN,SAAU,EACZ,CACF,EACA,OAAQ,CACC,MAAA,CACL,mBAAoBC,EAAgC,oBAAoB,CAAA,CAE5E,EACA,QAAS,UAAY,CACnBC,EAAmB,KAAK,aAAc,KAAK,kBAAkB,EAC1D,KAAMC,GAAwB,CAC7B,KAAK,oBAAsBA,CAAA,CAC5B,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACxC,CACF,CAAC,EAvCOC,EAAA,CAAA,IAAA,2KANKC,EAAmB,YAAA,EAC5B,OAAAC,EAAA,qBAAAC,EAAA,EAAAC,EAAA,MAAAJ,EAAA,KAEF,OAMa,SAAA,CAAA,CAAA,IAAAG,EAAA,EANgCE,EAAAC,EAAA,CAAA,IAAA,+BAInC,QAAAC,EAAA,IAAA,CAAAC,EAFNC,EAEM,CAAA,MAAA,QAAA,EAAA,CAAA,QAAAF,EAAA,IAAA"}