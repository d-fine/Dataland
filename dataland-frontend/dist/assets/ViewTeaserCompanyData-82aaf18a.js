import u from"./ViewFrameworkData-2d639c61.js";import{A as m}from"./ApiClients-630cb537.js";import{d as C,i as D,e as d,_ as g,r,c as s,a as e,f as n,j as l,F as _,o as p}from"./index-fc17b7c3.js";import{J as w}from"./JoinDatalandButton-4ad245d1.js";import{B as A}from"./BackButton-319ea748.js";import"./TheHeader-9e72102b.js";import"./TheFooter-99cc7efe.js";import"./CompanyInformation-cc74861d.js";import"./FrameworkDataSearchBar-63a2087b.js";import"./SearchResultHighlighter-19e23baa.js";import"./virtualscroller.esm-145e69b1.js";import"./index.esm-84118ff3.js";import"./qa-status-272129d3.js";import"./MarginWrapper-364a44d5.js";import"./dropdown.esm-871ac46d.js";import"./StringHumanizer-b303955c.js";import"./P2pDataModel-39aba765.js";import"./CountryCodeConverter-798eef98.js";import"./card.esm-8b790707.js";import"./NumberConversionUtils-a6075dfc.js";import"./PredefinedComponentOptionsGetter-68573d76.js";import"./tooltip.esm-6a520ff9.js";import"./column.esm-95193631.js";import"./inputtext.esm-2d45072d.js";import"./index.esm-ad5662e6.js";import"./index.esm-4b969458.js";import"./index.esm-50a5ad4b.js";const k=C({name:"ViewTeaserCompanyData",components:{ViewFrameworkData:u,JoinDatalandButton:w,BackButton:A},setup(){return{getKeycloakPromise:D("getKeycloakPromise")}},data:()=>({companyId:"",dataId:"",dataType:"",reportingPeriod:"",isMetaInfoFetched:!1,isAtLeastOneTeaserCompanyExisting:!0,isAtLeastOneDatasetExistingForTeaserCompany:!0}),created(){this.queryCompany()},methods:{async queryCompany(){try{const o=await(await new m(d(this.getKeycloakPromise)()).getCompanyDataControllerApi()).getTeaserCompanies();if(o.data.length>0){this.companyId=o.data[0];const i=(await(await new m(d(this.getKeycloakPromise)()).getMetaDataControllerApi()).getListOfDataMetaInfo(this.companyId)).data;if(i.length>0){const a=i[0];this.dataId=a.dataId,this.dataType=a.dataType,this.reportingPeriod=a.reportingPeriod,this.isMetaInfoFetched=!0}else this.isAtLeastOneDatasetExistingForTeaserCompany=!1}else this.isAtLeastOneTeaserCompanyExisting=!1}catch(t){console.error(t)}}}}),T={key:0,class:"mt-8"},I=e("h3",null,"COMPANY DATA SAMPLE",-1),B=e("h4",null,"Try Dataland with other people to access all the data.",-1),F={class:"col-4 col-offset-4"},P={key:1},v=e("h3",null,"No sample data published",-1),M=e("h4",null," Currently there is no dataset published for preview by the Dataland administrators. Please come back later to see a preview dataset. ",-1);function O(t,o,c,i,a,E){const y=r("JoinDatalandButton"),h=r("ViewFrameworkData"),f=r("BackButton");return p(),s(_,null,[t.isMetaInfoFetched?(p(),s("div",T,[I,B,e("div",F,[n(y)]),n(h,{"view-in-preview-mode":!0,"company-id":t.companyId,"data-type":t.dataType,"data-id":t.dataId,"reporting-period":t.reportingPeriod},null,8,["company-id","data-type","data-id","reporting-period"])])):l("",!0),!t.isAtLeastOneTeaserCompanyExisting||!t.isAtLeastOneDatasetExistingForTeaserCompany?(p(),s("div",P,[n(f),v,M])):l("",!0)],64)}const st=g(k,[["render",O]]);export{st as default};
//# sourceMappingURL=ViewTeaserCompanyData-82aaf18a.js.map
