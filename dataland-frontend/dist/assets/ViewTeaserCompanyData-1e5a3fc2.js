import u from"./ViewFrameworkData-ae1a1226.js";import{A as m}from"./ApiClients-7a2ff0a1.js";import{d as C,i as D,e as d,_ as g,r,c as s,a as e,f as n,j as l,F as _,o as p}from"./index-24faf217.js";import{J as w}from"./JoinDatalandButton-5bed76ef.js";import{B as A}from"./BackButton-62e8462f.js";import"./TheHeader-eb83e8ed.js";import"./TheFooter-d3426612.js";import"./CompanyInformation-8867f07d.js";import"./FrameworkDataSearchBar-45f06cc9.js";import"./SearchResultHighlighter-aad94e53.js";import"./virtualscroller.esm-e9bfc7ed.js";import"./index.esm-5605f6f6.js";import"./qa-status-272129d3.js";import"./MarginWrapper-6da87843.js";import"./dropdown.esm-7dcd3355.js";import"./StringHumanizer-b303955c.js";import"./P2pDataModel-64fa8fa7.js";import"./CountryCodeConverter-6f45ec32.js";import"./card.esm-8809c91f.js";import"./NumberConversionUtils-2f6331c2.js";import"./PredefinedComponentOptionsGetter-1bff67b5.js";import"./tooltip.esm-a074da23.js";import"./column.esm-3730a6ea.js";import"./inputtext.esm-91265046.js";import"./index.esm-89655b48.js";import"./index.esm-60308354.js";import"./index.esm-8d32c8fe.js";const k=C({name:"ViewTeaserCompanyData",components:{ViewFrameworkData:u,JoinDatalandButton:w,BackButton:A},setup(){return{getKeycloakPromise:D("getKeycloakPromise")}},data:()=>({companyId:"",dataId:"",dataType:"",reportingPeriod:"",isMetaInfoFetched:!1,isAtLeastOneTeaserCompanyExisting:!0,isAtLeastOneDatasetExistingForTeaserCompany:!0}),created(){this.queryCompany()},methods:{async queryCompany(){try{const o=await(await new m(d(this.getKeycloakPromise)()).getCompanyDataControllerApi()).getTeaserCompanies();if(o.data.length>0){this.companyId=o.data[0];const i=(await(await new m(d(this.getKeycloakPromise)()).getMetaDataControllerApi()).getListOfDataMetaInfo(this.companyId)).data;if(i.length>0){const a=i[0];this.dataId=a.dataId,this.dataType=a.dataType,this.reportingPeriod=a.reportingPeriod,this.isMetaInfoFetched=!0}else this.isAtLeastOneDatasetExistingForTeaserCompany=!1}else this.isAtLeastOneTeaserCompanyExisting=!1}catch(t){console.error(t)}}}}),T={key:0,class:"mt-8"},I=e("h3",null,"COMPANY DATA SAMPLE",-1),B=e("h4",null,"Try Dataland with other people to access all the data.",-1),F={class:"col-4 col-offset-4"},P={key:1},v=e("h3",null,"No sample data published",-1),M=e("h4",null," Currently there is no dataset published for preview by the Dataland administrators. Please come back later to see a preview dataset. ",-1);function O(t,o,c,i,a,E){const y=r("JoinDatalandButton"),h=r("ViewFrameworkData"),f=r("BackButton");return p(),s(_,null,[t.isMetaInfoFetched?(p(),s("div",T,[I,B,e("div",F,[n(y)]),n(h,{"view-in-preview-mode":!0,"company-id":t.companyId,"data-type":t.dataType,"data-id":t.dataId,"reporting-period":t.reportingPeriod},null,8,["company-id","data-type","data-id","reporting-period"])])):l("",!0),!t.isAtLeastOneTeaserCompanyExisting||!t.isAtLeastOneDatasetExistingForTeaserCompany?(p(),s("div",P,[n(f),v,M])):l("",!0)],64)}const st=g(k,[["render",O]]);export{st as default};
//# sourceMappingURL=ViewTeaserCompanyData-1e5a3fc2.js.map
