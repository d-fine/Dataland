import u from"./ViewFrameworkData-117748b2.js";import{A as m}from"./ApiClients-491035fa.js";import{d as C,i as D,e as d,_ as g,r,c as s,a as e,f as n,j as l,F as _,o as p}from"./index-17bd392c.js";import{J as w}from"./JoinDatalandButton-7c15ec42.js";import{B as A}from"./BackButton-d912ea90.js";import"./TheHeader-f0aa2367.js";import"./TheFooter-46e8b4f5.js";import"./CompanyInformation-2a2f3400.js";import"./FrameworkDataSearchBar-a21bec15.js";import"./SearchResultHighlighter-97e70783.js";import"./virtualscroller.esm-2abd6d6c.js";import"./index.esm-363b09da.js";import"./qa-status-272129d3.js";import"./MarginWrapper-a5e1aa1a.js";import"./dropdown.esm-ee047f36.js";import"./StringHumanizer-b303955c.js";import"./P2pDataModel-672f5117.js";import"./CountryCodeConverter-4eb888e2.js";import"./card.esm-ab7d22cc.js";import"./NumberConversionUtils-eff754a5.js";import"./PredefinedComponentOptionsGetter-75a9d332.js";import"./tooltip.esm-60532e01.js";import"./column.esm-325e5fea.js";import"./inputtext.esm-03a7b169.js";import"./index.esm-1a2ee9c0.js";import"./index.esm-fe6eeb6c.js";import"./index.esm-d48fd520.js";const k=C({name:"ViewTeaserCompanyData",components:{ViewFrameworkData:u,JoinDatalandButton:w,BackButton:A},setup(){return{getKeycloakPromise:D("getKeycloakPromise")}},data:()=>({companyId:"",dataId:"",dataType:"",reportingPeriod:"",isMetaInfoFetched:!1,isAtLeastOneTeaserCompanyExisting:!0,isAtLeastOneDatasetExistingForTeaserCompany:!0}),created(){this.queryCompany()},methods:{async queryCompany(){try{const o=await(await new m(d(this.getKeycloakPromise)()).getCompanyDataControllerApi()).getTeaserCompanies();if(o.data.length>0){this.companyId=o.data[0];const i=(await(await new m(d(this.getKeycloakPromise)()).getMetaDataControllerApi()).getListOfDataMetaInfo(this.companyId)).data;if(i.length>0){const a=i[0];this.dataId=a.dataId,this.dataType=a.dataType,this.reportingPeriod=a.reportingPeriod,this.isMetaInfoFetched=!0}else this.isAtLeastOneDatasetExistingForTeaserCompany=!1}else this.isAtLeastOneTeaserCompanyExisting=!1}catch(t){console.error(t)}}}}),T={key:0,class:"mt-8"},I=e("h3",null,"COMPANY DATA SAMPLE",-1),B=e("h4",null,"Try Dataland with other people to access all the data.",-1),F={class:"col-4 col-offset-4"},P={key:1},v=e("h3",null,"No sample data published",-1),M=e("h4",null," Currently there is no dataset published for preview by the Dataland administrators. Please come back later to see a preview dataset. ",-1);function O(t,o,c,i,a,E){const y=r("JoinDatalandButton"),h=r("ViewFrameworkData"),f=r("BackButton");return p(),s(_,null,[t.isMetaInfoFetched?(p(),s("div",T,[I,B,e("div",F,[n(y)]),n(h,{"view-in-preview-mode":!0,"company-id":t.companyId,"data-type":t.dataType,"data-id":t.dataId,"reporting-period":t.reportingPeriod},null,8,["company-id","data-type","data-id","reporting-period"])])):l("",!0),!t.isAtLeastOneTeaserCompanyExisting||!t.isAtLeastOneDatasetExistingForTeaserCompany?(p(),s("div",P,[n(f),v,M])):l("",!0)],64)}const st=g(k,[["render",O]]);export{st as default};
//# sourceMappingURL=ViewTeaserCompanyData-15f424a9.js.map
