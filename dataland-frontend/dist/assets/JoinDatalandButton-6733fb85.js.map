{"version":3,"file":"JoinDatalandButton-6733fb85.js","sources":["../../src/components/general/JoinDatalandButton.vue"],"sourcesContent":["<template>\n  <PrimeButton\n    class=\"uppercase p-button pl-1 pr-1 pb-1 pt-1 justify-content-center h-3rem w-full\"\n    name=\"join_dataland_button\"\n    @click=\"register\"\n  >\n    <span class=\"d-letters\"> Create a preview account </span>\n    <i class=\"material-icons pl-1\" aria-hidden=\"true\" alt=\"chevron_right\">chevron_right</i>\n  </PrimeButton>\n</template>\n\n<script lang=\"ts\">\nimport PrimeButton from \"primevue/button\";\nimport { defineComponent, inject } from \"vue\";\nimport type Keycloak from \"keycloak-js\";\nimport { assertDefined } from \"@/utils/TypeScriptUtils\";\n\nexport default defineComponent({\n  name: \"JoinDatalandButton\",\n  components: { PrimeButton },\n  setup() {\n    return {\n      getKeycloakPromise: inject<() => Promise<Keycloak>>(\"getKeycloakPromise\"),\n    };\n  },\n  methods: {\n    /**\n     * Redirects the user to the dataland registration page\n     */\n    register() {\n      assertDefined(this.getKeycloakPromise)()\n        .then((keycloak) => {\n          if (!keycloak.authenticated) {\n            const baseUrl = window.location.origin;\n            const url = keycloak.createRegisterUrl({\n              redirectUri: `${baseUrl}/companies`,\n            });\n            location.assign(url);\n          }\n        })\n        .catch((error) => console.log(error));\n    },\n  },\n});\n</script>\n"],"names":["_sfc_main","defineComponent","PrimeButton","inject","assertDefined","keycloak","baseUrl","url","error","_hoisted_1","_createElementVNode","_hoisted_2","_resolveComponent","_openBlock","_createBlock","_component_PrimeButton","_withCtx"],"mappings":"kGAiBA,MAAAA,EAAeC,EAAgB,CAC7B,KAAM,qBACN,WAAY,CAAEC,YAAAA,CAAY,EAC1B,OAAQ,CACC,MAAA,CACL,mBAAoBC,EAAgC,oBAAoB,CAAA,CAE5E,EACA,QAAS,CAIP,UAAW,CACTC,EAAc,KAAK,kBAAkB,EAClC,EAAA,KAAMC,GAAa,CACd,GAAA,CAACA,EAAS,cAAe,CACrB,MAAAC,EAAU,OAAO,SAAS,OAC1BC,EAAMF,EAAS,kBAAkB,CACrC,YAAa,GAAGC,CAAO,YAAA,CACxB,EACD,SAAS,OAAOC,CAAG,CACrB,CAAA,CACD,EACA,MAAOC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACxC,CACF,CACF,CAAC,EApCMC,EAA2BC,EAAA,OAAA,CAAA,MAAA,aAAA,6BAAA,EAAA,EAACC,EAAkBD,EAAA,IAAA,CAAC,MAAI,sBAAgB,cAAA,OAAA,IAAA,qEANxEE,EAOc,aAAA,SALPC,EAAsB,EAAAC,EAAAC,EAAA,CAC1B,MAAK,8EAAA,KAAA,oDAGNC,EAAuF,IAAA,CAAAP"}