import u from"./ViewFrameworkData-b2b26d88.js";import{A as m}from"./ApiClients-ff4e7c51.js";import{d as C,i as D,e as d,_ as g,r,c as s,a as e,f as n,j as l,F as _,o as p}from"./index-727eb1c9.js";import{J as w}from"./JoinDatalandButton-6733fb85.js";import{B as A}from"./BackButton-a0546f1c.js";import"./TheHeader-5d9d243d.js";import"./TheFooter-3c30390c.js";import"./CompanyInformation-c5cacd20.js";import"./FrameworkDataSearchBar-887fab00.js";import"./SearchResultHighlighter-703dfbe4.js";import"./virtualscroller.esm-ed6e9b0c.js";import"./index.esm-8bb2ea37.js";import"./qa-status-272129d3.js";import"./MarginWrapper-fc8a2525.js";import"./dropdown.esm-8abf0756.js";import"./StringHumanizer-b303955c.js";import"./P2pDataModel-f10ed191.js";import"./CountryCodeConverter-1e06a9b2.js";import"./card.esm-406f8be4.js";import"./NumberConversionUtils-4ea4d5a5.js";import"./PredefinedComponentOptionsGetter-8f6b2503.js";import"./tooltip.esm-785ccac2.js";import"./column.esm-0f19b640.js";import"./inputtext.esm-788ddcd2.js";import"./index.esm-264d6f1e.js";import"./index.esm-ac8cc639.js";import"./index.esm-1f94e492.js";const k=C({name:"ViewTeaserCompanyData",components:{ViewFrameworkData:u,JoinDatalandButton:w,BackButton:A},setup(){return{getKeycloakPromise:D("getKeycloakPromise")}},data:()=>({companyId:"",dataId:"",dataType:"",reportingPeriod:"",isMetaInfoFetched:!1,isAtLeastOneTeaserCompanyExisting:!0,isAtLeastOneDatasetExistingForTeaserCompany:!0}),created(){this.queryCompany()},methods:{async queryCompany(){try{const o=await(await new m(d(this.getKeycloakPromise)()).getCompanyDataControllerApi()).getTeaserCompanies();if(o.data.length>0){this.companyId=o.data[0];const i=(await(await new m(d(this.getKeycloakPromise)()).getMetaDataControllerApi()).getListOfDataMetaInfo(this.companyId)).data;if(i.length>0){const a=i[0];this.dataId=a.dataId,this.dataType=a.dataType,this.reportingPeriod=a.reportingPeriod,this.isMetaInfoFetched=!0}else this.isAtLeastOneDatasetExistingForTeaserCompany=!1}else this.isAtLeastOneTeaserCompanyExisting=!1}catch(t){console.error(t)}}}}),T={key:0,class:"mt-8"},I=e("h3",null,"COMPANY DATA SAMPLE",-1),B=e("h4",null,"Try Dataland with other people to access all the data.",-1),F={class:"col-4 col-offset-4"},P={key:1},v=e("h3",null,"No sample data published",-1),M=e("h4",null," Currently there is no dataset published for preview by the Dataland administrators. Please come back later to see a preview dataset. ",-1);function O(t,o,c,i,a,E){const y=r("JoinDatalandButton"),h=r("ViewFrameworkData"),f=r("BackButton");return p(),s(_,null,[t.isMetaInfoFetched?(p(),s("div",T,[I,B,e("div",F,[n(y)]),n(h,{"view-in-preview-mode":!0,"company-id":t.companyId,"data-type":t.dataType,"data-id":t.dataId,"reporting-period":t.reportingPeriod},null,8,["company-id","data-type","data-id","reporting-period"])])):l("",!0),!t.isAtLeastOneTeaserCompanyExisting||!t.isAtLeastOneDatasetExistingForTeaserCompany?(p(),s("div",P,[n(f),v,M])):l("",!0)],64)}const st=g(k,[["render",O]]);export{st as default};
//# sourceMappingURL=ViewTeaserCompanyData-9e60b4a8.js.map
